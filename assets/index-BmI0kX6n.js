var aT=t=>{throw TypeError(t)};var ry=(t,e,n)=>e.has(t)||aT("Cannot "+n);var B=(t,e,n)=>(ry(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?aT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),xe=(t,e,n,r)=>(ry(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Wt=(t,e,n)=>(ry(t,e,"access private method"),n);var Kh=(t,e,n,r)=>({set _(s){xe(t,e,s,n)},get _(){return B(t,e,r)}});function _V(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bV(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var qA={exports:{}},lg={},WA={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=Symbol.for("react.element"),EV=Symbol.for("react.portal"),TV=Symbol.for("react.fragment"),SV=Symbol.for("react.strict_mode"),PV=Symbol.for("react.profiler"),IV=Symbol.for("react.provider"),CV=Symbol.for("react.context"),AV=Symbol.for("react.forward_ref"),RV=Symbol.for("react.suspense"),NV=Symbol.for("react.memo"),kV=Symbol.for("react.lazy"),cT=Symbol.iterator;function OV(t){return t===null||typeof t!="object"?null:(t=cT&&t[cT]||t["@@iterator"],typeof t=="function"?t:null)}var HA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KA=Object.assign,QA={};function hc(t,e,n){this.props=t,this.context=e,this.refs=QA,this.updater=n||HA}hc.prototype.isReactComponent={};hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YA(){}YA.prototype=hc.prototype;function Xw(t,e,n){this.props=t,this.context=e,this.refs=QA,this.updater=n||HA}var Zw=Xw.prototype=new YA;Zw.constructor=Xw;KA(Zw,hc.prototype);Zw.isPureReactComponent=!0;var uT=Array.isArray,JA=Object.prototype.hasOwnProperty,e_={current:null},XA={key:!0,ref:!0,__self:!0,__source:!0};function ZA(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)JA.call(e,r)&&!XA.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:nh,type:t,key:i,ref:o,props:s,_owner:e_.current}}function DV(t,e){return{$$typeof:nh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function t_(t){return typeof t=="object"&&t!==null&&t.$$typeof===nh}function jV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dT=/\/+/g;function sy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jV(""+t.key):e.toString(36)}function ap(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nh:case EV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+sy(o,0):r,uT(s)?(n="",t!=null&&(n=t.replace(dT,"$&/")+"/"),ap(s,e,n,"",function(u){return u})):s!=null&&(t_(s)&&(s=DV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dT,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",uT(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+sy(i,a);o+=ap(i,e,n,l,s)}else if(l=OV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+sy(i,a++),o+=ap(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qh(t,e,n){if(t==null)return t;var r=[],s=0;return ap(t,r,"","",function(i){return e.call(n,i,s++)}),r}function MV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},lp={transition:null},LV={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:lp,ReactCurrentOwner:e_};function eR(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Qh,forEach:function(t,e,n){Qh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qh(t,function(){e++}),e},toArray:function(t){return Qh(t,function(e){return e})||[]},only:function(t){if(!t_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=hc;Ee.Fragment=TV;Ee.Profiler=PV;Ee.PureComponent=Xw;Ee.StrictMode=SV;Ee.Suspense=RV;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LV;Ee.act=eR;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KA({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=e_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)JA.call(e,l)&&!XA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nh,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:CV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IV,_context:t},t.Consumer=t};Ee.createElement=ZA;Ee.createFactory=function(t){var e=ZA.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:AV,render:t}};Ee.isValidElement=t_;Ee.lazy=function(t){return{$$typeof:kV,_payload:{_status:-1,_result:t},_init:MV}};Ee.memo=function(t,e){return{$$typeof:NV,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=lp.transition;lp.transition={};try{t()}finally{lp.transition=e}};Ee.unstable_act=eR;Ee.useCallback=function(t,e){return dn.current.useCallback(t,e)};Ee.useContext=function(t){return dn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return dn.current.useEffect(t,e)};Ee.useId=function(){return dn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return dn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Ee.useRef=function(t){return dn.current.useRef(t)};Ee.useState=function(t){return dn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return dn.current.useTransition()};Ee.version="18.3.1";WA.exports=Ee;var g=WA.exports;const H=GA(g),tR=_V({__proto__:null,default:H},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VV=g,FV=Symbol.for("react.element"),$V=Symbol.for("react.fragment"),UV=Object.prototype.hasOwnProperty,BV=VV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zV={key:!0,ref:!0,__self:!0,__source:!0};function nR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UV.call(e,r)&&!zV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:FV,type:t,key:i,ref:o,props:s,_owner:BV.current}}lg.Fragment=$V;lg.jsx=nR;lg.jsxs=nR;qA.exports=lg;var c=qA.exports,rR={exports:{}},Bn={},sR={exports:{}},iR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var K=F.length;F.push(U);e:for(;0<K;){var Q=K-1>>>1,re=F[Q];if(0<s(re,U))F[Q]=U,F[K]=re,K=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],K=F.pop();if(K!==U){F[0]=K;e:for(var Q=0,re=F.length,he=re>>>1;Q<he;){var Ue=2*(Q+1)-1,st=F[Ue],be=Ue+1,Je=F[be];if(0>s(st,K))be<re&&0>s(Je,st)?(F[Q]=Je,F[be]=K,Q=be):(F[Q]=st,F[Ue]=K,Q=Ue);else if(be<re&&0>s(Je,K))F[Q]=Je,F[be]=K,Q=be;else break e}}return U}function s(F,U){var K=F.sortIndex-U.sortIndex;return K!==0?K:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,f=3,m=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=F)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function C(F){if(w=!1,_(F),!y)if(n(l)!==null)y=!0,ne(O);else{var U=n(u);U!==null&&de(C,U.startTime-F)}}function O(F,U){y=!1,w&&(w=!1,x(S),S=-1),m=!0;var K=f;try{for(_(U),p=n(l);p!==null&&(!(p.expirationTime>U)||F&&!N());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,f=p.priorityLevel;var re=Q(p.expirationTime<=U);U=t.unstable_now(),typeof re=="function"?p.callback=re:p===n(l)&&r(l),_(U)}else r(l);p=n(l)}if(p!==null)var he=!0;else{var Ue=n(u);Ue!==null&&de(C,Ue.startTime-U),he=!1}return he}finally{p=null,f=K,m=!1}}var M=!1,P=null,S=-1,I=5,A=-1;function N(){return!(t.unstable_now()-A<I)}function j(){if(P!==null){var F=t.unstable_now();A=F;var U=!0;try{U=P(!0,F)}finally{U?k():(M=!1,P=null)}}else M=!1}var k;if(typeof b=="function")k=function(){b(j)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ue=J.port2;J.port1.onmessage=j,k=function(){ue.postMessage(null)}}else k=function(){E(j,0)};function ne(F){P=F,M||(M=!0,k())}function de(F,U){S=E(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ne(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var K=f;f=U;try{return F()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=f;f=F;try{return U()}finally{f=K}},t.unstable_scheduleCallback=function(F,U,K){var Q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,F){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=K+re,F={id:d++,callback:U,priorityLevel:F,startTime:K,expirationTime:re,sortIndex:-1},K>Q?(F.sortIndex=K,e(u,F),n(l)===null&&F===n(u)&&(w?(x(S),S=-1):w=!0,de(C,K-Q))):(F.sortIndex=re,e(l,F),y||m||(y=!0,ne(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var U=f;return function(){var K=f;f=U;try{return F.apply(this,arguments)}finally{f=K}}}})(iR);sR.exports=iR;var GV=sR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qV=g,$n=GV;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oR=new Set,hd={};function pa(t,e){Fl(t,e),Fl(t+"Capture",e)}function Fl(t,e){for(hd[t]=e,t=0;t<e.length;t++)oR.add(e[t])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q0=Object.prototype.hasOwnProperty,WV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hT={},fT={};function HV(t){return Q0.call(fT,t)?!0:Q0.call(hT,t)?!1:WV.test(t)?fT[t]=!0:(hT[t]=!0,!1)}function KV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QV(t,e,n,r){if(e===null||typeof e>"u"||KV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var n_=/[\-:]([a-z])/g;function r_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n_,r_);Ut[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n_,r_);Ut[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n_,r_);Ut[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function s_(t,e,n,r){var s=Ut.hasOwnProperty(e)?Ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QV(e,n,s,r)&&(n=null),r||s===null?HV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var js=qV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yh=Symbol.for("react.element"),nl=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),i_=Symbol.for("react.strict_mode"),Y0=Symbol.for("react.profiler"),aR=Symbol.for("react.provider"),lR=Symbol.for("react.context"),o_=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),X0=Symbol.for("react.suspense_list"),a_=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),cR=Symbol.for("react.offscreen"),pT=Symbol.iterator;function Gc(t){return t===null||typeof t!="object"?null:(t=pT&&t[pT]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,iy;function Cu(t){if(iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iy=e&&e[1]||""}return`
`+iy+t}var oy=!1;function ay(t,e){if(!t||oy)return"";oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{oy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cu(t):""}function YV(t){switch(t.tag){case 5:return Cu(t.type);case 16:return Cu("Lazy");case 13:return Cu("Suspense");case 19:return Cu("SuspenseList");case 0:case 2:case 15:return t=ay(t.type,!1),t;case 11:return t=ay(t.type.render,!1),t;case 1:return t=ay(t.type,!0),t;default:return""}}function Z0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rl:return"Fragment";case nl:return"Portal";case Y0:return"Profiler";case i_:return"StrictMode";case J0:return"Suspense";case X0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lR:return(t.displayName||"Context")+".Consumer";case aR:return(t._context.displayName||"Context")+".Provider";case o_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case a_:return e=t.displayName||null,e!==null?e:Z0(t.type)||"Memo";case oi:e=t._payload,t=t._init;try{return Z0(t(e))}catch{}}return null}function JV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z0(e);case 8:return e===i_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XV(t){var e=uR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jh(t){t._valueTracker||(t._valueTracker=XV(t))}function dR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ex(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hR(t,e){e=e.checked,e!=null&&s_(t,"checked",e,!1)}function tx(t,e){hR(t,e);var n=Bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nx(t,e.type,n):e.hasOwnProperty("defaultValue")&&nx(t,e.type,Bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nx(t,e,n){(e!=="number"||zp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Au=Array.isArray;function ml(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function rx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Au(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bi(n)}}function fR(t,e){var n=Bi(e.value),r=Bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xh,mR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xh=Xh||document.createElement("div"),Xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZV=["Webkit","ms","Moz","O"];Object.keys(Bu).forEach(function(t){ZV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bu[e]=Bu[t]})});function gR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bu.hasOwnProperty(t)&&Bu[t]?(""+e).trim():e+"px"}function vR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var eF=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ix(t,e){if(e){if(eF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function ox(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ax=null;function l_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lx=null,gl=null,vl=null;function xT(t){if(t=ih(t)){if(typeof lx!="function")throw Error(q(280));var e=t.stateNode;e&&(e=fg(e),lx(t.stateNode,t.type,e))}}function yR(t){gl?vl?vl.push(t):vl=[t]:gl=t}function xR(){if(gl){var t=gl,e=vl;if(vl=gl=null,xT(t),e)for(t=0;t<e.length;t++)xT(e[t])}}function wR(t,e){return t(e)}function _R(){}var ly=!1;function bR(t,e,n){if(ly)return t(e,n);ly=!0;try{return wR(t,e,n)}finally{ly=!1,(gl!==null||vl!==null)&&(_R(),xR())}}function pd(t,e){var n=t.stateNode;if(n===null)return null;var r=fg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var cx=!1;if(Ts)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){cx=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{cx=!1}function tF(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var zu=!1,Gp=null,qp=!1,ux=null,nF={onError:function(t){zu=!0,Gp=t}};function rF(t,e,n,r,s,i,o,a,l){zu=!1,Gp=null,tF.apply(nF,arguments)}function sF(t,e,n,r,s,i,o,a,l){if(rF.apply(this,arguments),zu){if(zu){var u=Gp;zu=!1,Gp=null}else throw Error(q(198));qp||(qp=!0,ux=u)}}function ma(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ER(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wT(t){if(ma(t)!==t)throw Error(q(188))}function iF(t){var e=t.alternate;if(!e){if(e=ma(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wT(s),t;if(i===r)return wT(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function TR(t){return t=iF(t),t!==null?SR(t):null}function SR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SR(t);if(e!==null)return e;t=t.sibling}return null}var PR=$n.unstable_scheduleCallback,_T=$n.unstable_cancelCallback,oF=$n.unstable_shouldYield,aF=$n.unstable_requestPaint,ft=$n.unstable_now,lF=$n.unstable_getCurrentPriorityLevel,c_=$n.unstable_ImmediatePriority,IR=$n.unstable_UserBlockingPriority,Wp=$n.unstable_NormalPriority,cF=$n.unstable_LowPriority,CR=$n.unstable_IdlePriority,cg=null,qr=null;function uF(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(cg,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:fF,dF=Math.log,hF=Math.LN2;function fF(t){return t>>>=0,t===0?32:31-(dF(t)/hF|0)|0}var Zh=64,ef=4194304;function Ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ru(a):(i&=o,i!==0&&(r=Ru(i)))}else o=n&~s,o!==0?r=Ru(o):i!==0&&(r=Ru(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),s=1<<n,r|=t[n],e&=~s;return r}function pF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=pF(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function dx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AR(){var t=Zh;return Zh<<=1,!(Zh&4194240)&&(Zh=64),t}function cy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function gF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function u_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function RR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NR,d_,kR,OR,DR,hx=!1,tf=[],Si=null,Pi=null,Ii=null,md=new Map,gd=new Map,ci=[],vF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bT(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(e.pointerId)}}function Wc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ih(e),e!==null&&d_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yF(t,e,n,r,s){switch(e){case"focusin":return Si=Wc(Si,t,e,n,r,s),!0;case"dragenter":return Pi=Wc(Pi,t,e,n,r,s),!0;case"mouseover":return Ii=Wc(Ii,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return md.set(i,Wc(md.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gd.set(i,Wc(gd.get(i)||null,t,e,n,r,s)),!0}return!1}function jR(t){var e=ko(t.target);if(e!==null){var n=ma(e);if(n!==null){if(e=n.tag,e===13){if(e=ER(n),e!==null){t.blockedOn=e,DR(t.priority,function(){kR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ax=r,n.target.dispatchEvent(r),ax=null}else return e=ih(n),e!==null&&d_(e),t.blockedOn=n,!1;e.shift()}return!0}function ET(t,e,n){cp(t)&&n.delete(e)}function xF(){hx=!1,Si!==null&&cp(Si)&&(Si=null),Pi!==null&&cp(Pi)&&(Pi=null),Ii!==null&&cp(Ii)&&(Ii=null),md.forEach(ET),gd.forEach(ET)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,hx||(hx=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,xF)))}function vd(t){function e(s){return Hc(s,t)}if(0<tf.length){Hc(tf[0],t);for(var n=1;n<tf.length;n++){var r=tf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Hc(Si,t),Pi!==null&&Hc(Pi,t),Ii!==null&&Hc(Ii,t),md.forEach(e),gd.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)jR(n),n.blockedOn===null&&ci.shift()}var yl=js.ReactCurrentBatchConfig,Kp=!0;function wF(t,e,n,r){var s=je,i=yl.transition;yl.transition=null;try{je=1,h_(t,e,n,r)}finally{je=s,yl.transition=i}}function _F(t,e,n,r){var s=je,i=yl.transition;yl.transition=null;try{je=4,h_(t,e,n,r)}finally{je=s,yl.transition=i}}function h_(t,e,n,r){if(Kp){var s=fx(t,e,n,r);if(s===null)xy(t,e,r,Qp,n),bT(t,r);else if(yF(s,t,e,n,r))r.stopPropagation();else if(bT(t,r),e&4&&-1<vF.indexOf(t)){for(;s!==null;){var i=ih(s);if(i!==null&&NR(i),i=fx(t,e,n,r),i===null&&xy(t,e,r,Qp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xy(t,e,r,null,n)}}var Qp=null;function fx(t,e,n,r){if(Qp=null,t=l_(r),t=ko(t),t!==null)if(e=ma(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ER(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qp=t,null}function MR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lF()){case c_:return 1;case IR:return 4;case Wp:case cF:return 16;case CR:return 536870912;default:return 16}default:return 16}}var wi=null,f_=null,up=null;function LR(){if(up)return up;var t,e=f_,n=e.length,r,s="value"in wi?wi.value:wi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return up=s.slice(t,1<r?1-r:void 0)}function dp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nf(){return!0}function TT(){return!1}function zn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nf:TT,this.isPropagationStopped=TT,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),e}var fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p_=zn(fc),sh=rt({},fc,{view:0,detail:0}),bF=zn(sh),uy,dy,Kc,ug=rt({},sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kc&&(Kc&&t.type==="mousemove"?(uy=t.screenX-Kc.screenX,dy=t.screenY-Kc.screenY):dy=uy=0,Kc=t),uy)},movementY:function(t){return"movementY"in t?t.movementY:dy}}),ST=zn(ug),EF=rt({},ug,{dataTransfer:0}),TF=zn(EF),SF=rt({},sh,{relatedTarget:0}),hy=zn(SF),PF=rt({},fc,{animationName:0,elapsedTime:0,pseudoElement:0}),IF=zn(PF),CF=rt({},fc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AF=zn(CF),RF=rt({},fc,{data:0}),PT=zn(RF),NF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OF[t])?!!e[t]:!1}function m_(){return DF}var jF=rt({},sh,{key:function(t){if(t.key){var e=NF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m_,charCode:function(t){return t.type==="keypress"?dp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MF=zn(jF),LF=rt({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IT=zn(LF),VF=rt({},sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m_}),FF=zn(VF),$F=rt({},fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),UF=zn($F),BF=rt({},ug,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zF=zn(BF),GF=[9,13,27,32],g_=Ts&&"CompositionEvent"in window,Gu=null;Ts&&"documentMode"in document&&(Gu=document.documentMode);var qF=Ts&&"TextEvent"in window&&!Gu,VR=Ts&&(!g_||Gu&&8<Gu&&11>=Gu),CT=" ",AT=!1;function FR(t,e){switch(t){case"keyup":return GF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $R(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sl=!1;function WF(t,e){switch(t){case"compositionend":return $R(e);case"keypress":return e.which!==32?null:(AT=!0,CT);case"textInput":return t=e.data,t===CT&&AT?null:t;default:return null}}function HF(t,e){if(sl)return t==="compositionend"||!g_&&FR(t,e)?(t=LR(),up=f_=wi=null,sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VR&&e.locale!=="ko"?null:e.data;default:return null}}var KF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KF[t.type]:e==="textarea"}function UR(t,e,n,r){yR(r),e=Yp(e,"onChange"),0<e.length&&(n=new p_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qu=null,yd=null;function QF(t){XR(t,0)}function dg(t){var e=al(t);if(dR(e))return t}function YF(t,e){if(t==="change")return e}var BR=!1;if(Ts){var fy;if(Ts){var py="oninput"in document;if(!py){var NT=document.createElement("div");NT.setAttribute("oninput","return;"),py=typeof NT.oninput=="function"}fy=py}else fy=!1;BR=fy&&(!document.documentMode||9<document.documentMode)}function kT(){qu&&(qu.detachEvent("onpropertychange",zR),yd=qu=null)}function zR(t){if(t.propertyName==="value"&&dg(yd)){var e=[];UR(e,yd,t,l_(t)),bR(QF,e)}}function JF(t,e,n){t==="focusin"?(kT(),qu=e,yd=n,qu.attachEvent("onpropertychange",zR)):t==="focusout"&&kT()}function XF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dg(yd)}function ZF(t,e){if(t==="click")return dg(e)}function e3(t,e){if(t==="input"||t==="change")return dg(e)}function t3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:t3;function xd(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Q0.call(e,s)||!br(t[s],e[s]))return!1}return!0}function OT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DT(t,e){var n=OT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OT(n)}}function GR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qR(){for(var t=window,e=zp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zp(t.document)}return e}function v_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n3(t){var e=qR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GR(n.ownerDocument.documentElement,n)){if(r!==null&&v_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=DT(n,i);var o=DT(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r3=Ts&&"documentMode"in document&&11>=document.documentMode,il=null,px=null,Wu=null,mx=!1;function jT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mx||il==null||il!==zp(r)||(r=il,"selectionStart"in r&&v_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wu&&xd(Wu,r)||(Wu=r,r=Yp(px,"onSelect"),0<r.length&&(e=new p_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=il)))}function rf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ol={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionend:rf("Transition","TransitionEnd")},my={},WR={};Ts&&(WR=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function hg(t){if(my[t])return my[t];if(!ol[t])return t;var e=ol[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WR)return my[t]=e[n];return t}var HR=hg("animationend"),KR=hg("animationiteration"),QR=hg("animationstart"),YR=hg("transitionend"),JR=new Map,MT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){JR.set(t,e),pa(e,[t])}for(var gy=0;gy<MT.length;gy++){var vy=MT[gy],s3=vy.toLowerCase(),i3=vy[0].toUpperCase()+vy.slice(1);Xi(s3,"on"+i3)}Xi(HR,"onAnimationEnd");Xi(KR,"onAnimationIteration");Xi(QR,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(YR,"onTransitionEnd");Fl("onMouseEnter",["mouseout","mouseover"]);Fl("onMouseLeave",["mouseout","mouseover"]);Fl("onPointerEnter",["pointerout","pointerover"]);Fl("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nu));function LT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sF(r,e,void 0,t),t.currentTarget=null}function XR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;LT(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;LT(s,a,u),i=l}}}if(qp)throw t=ux,qp=!1,ux=null,t}function He(t,e){var n=e[wx];n===void 0&&(n=e[wx]=new Set);var r=t+"__bubble";n.has(r)||(ZR(e,t,2,!1),n.add(r))}function yy(t,e,n){var r=0;e&&(r|=4),ZR(n,t,r,e)}var sf="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[sf]){t[sf]=!0,oR.forEach(function(n){n!=="selectionchange"&&(o3.has(n)||yy(n,!1,t),yy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sf]||(e[sf]=!0,yy("selectionchange",!1,e))}}function ZR(t,e,n,r){switch(MR(e)){case 1:var s=wF;break;case 4:s=_F;break;default:s=h_}n=s.bind(null,e,n,t),s=void 0,!cx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function xy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ko(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}bR(function(){var u=i,d=l_(n),p=[];e:{var f=JR.get(t);if(f!==void 0){var m=p_,y=t;switch(t){case"keypress":if(dp(n)===0)break e;case"keydown":case"keyup":m=MF;break;case"focusin":y="focus",m=hy;break;case"focusout":y="blur",m=hy;break;case"beforeblur":case"afterblur":m=hy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ST;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=FF;break;case HR:case KR:case QR:m=IF;break;case YR:m=UF;break;case"scroll":m=bF;break;case"wheel":m=zF;break;case"copy":case"cut":case"paste":m=AF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=IT}var w=(e&4)!==0,E=!w&&t==="scroll",x=w?f!==null?f+"Capture":null:f;w=[];for(var b=u,_;b!==null;){_=b;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,x!==null&&(C=pd(b,x),C!=null&&w.push(_d(b,C,_)))),E)break;b=b.return}0<w.length&&(f=new m(f,y,null,n,d),p.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==ax&&(y=n.relatedTarget||n.fromElement)&&(ko(y)||y[Ss]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ko(y):null,y!==null&&(E=ma(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=ST,C="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=IT,C="onPointerLeave",x="onPointerEnter",b="pointer"),E=m==null?f:al(m),_=y==null?f:al(y),f=new w(C,b+"leave",m,n,d),f.target=E,f.relatedTarget=_,C=null,ko(d)===u&&(w=new w(x,b+"enter",y,n,d),w.target=_,w.relatedTarget=E,C=w),E=C,m&&y)t:{for(w=m,x=y,b=0,_=w;_;_=Aa(_))b++;for(_=0,C=x;C;C=Aa(C))_++;for(;0<b-_;)w=Aa(w),b--;for(;0<_-b;)x=Aa(x),_--;for(;b--;){if(w===x||x!==null&&w===x.alternate)break t;w=Aa(w),x=Aa(x)}w=null}else w=null;m!==null&&VT(p,f,m,w,!1),y!==null&&E!==null&&VT(p,E,y,w,!0)}}e:{if(f=u?al(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=YF;else if(RT(f))if(BR)O=e3;else{O=XF;var M=JF}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=ZF);if(O&&(O=O(t,u))){UR(p,O,n,d);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&nx(f,"number",f.value)}switch(M=u?al(u):window,t){case"focusin":(RT(M)||M.contentEditable==="true")&&(il=M,px=u,Wu=null);break;case"focusout":Wu=px=il=null;break;case"mousedown":mx=!0;break;case"contextmenu":case"mouseup":case"dragend":mx=!1,jT(p,n,d);break;case"selectionchange":if(r3)break;case"keydown":case"keyup":jT(p,n,d)}var P;if(g_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else sl?FR(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(VR&&n.locale!=="ko"&&(sl||S!=="onCompositionStart"?S==="onCompositionEnd"&&sl&&(P=LR()):(wi=d,f_="value"in wi?wi.value:wi.textContent,sl=!0)),M=Yp(u,S),0<M.length&&(S=new PT(S,t,null,n,d),p.push({event:S,listeners:M}),P?S.data=P:(P=$R(n),P!==null&&(S.data=P)))),(P=qF?WF(t,n):HF(t,n))&&(u=Yp(u,"onBeforeInput"),0<u.length&&(d=new PT("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=P))}XR(p,e)})}function _d(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pd(t,n),i!=null&&r.unshift(_d(t,i,s)),i=pd(t,e),i!=null&&r.push(_d(t,i,s))),t=t.return}return r}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=pd(n,i),l!=null&&o.unshift(_d(n,l,a))):s||(l=pd(n,i),l!=null&&o.push(_d(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var a3=/\r\n?/g,l3=/\u0000|\uFFFD/g;function FT(t){return(typeof t=="string"?t:""+t).replace(a3,`
`).replace(l3,"")}function of(t,e,n){if(e=FT(e),FT(t)!==e&&n)throw Error(q(425))}function Jp(){}var gx=null,vx=null;function yx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xx=typeof setTimeout=="function"?setTimeout:void 0,c3=typeof clearTimeout=="function"?clearTimeout:void 0,$T=typeof Promise=="function"?Promise:void 0,u3=typeof queueMicrotask=="function"?queueMicrotask:typeof $T<"u"?function(t){return $T.resolve(null).then(t).catch(d3)}:xx;function d3(t){setTimeout(function(){throw t})}function wy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vd(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pc=Math.random().toString(36).slice(2),Ur="__reactFiber$"+pc,bd="__reactProps$"+pc,Ss="__reactContainer$"+pc,wx="__reactEvents$"+pc,h3="__reactListeners$"+pc,f3="__reactHandles$"+pc;function ko(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ss]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UT(t);t!==null;){if(n=t[Ur])return n;t=UT(t)}return e}t=n,n=t.parentNode}return null}function ih(t){return t=t[Ur]||t[Ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function al(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function fg(t){return t[bd]||null}var _x=[],ll=-1;function Zi(t){return{current:t}}function Ke(t){0>ll||(t.current=_x[ll],_x[ll]=null,ll--)}function ze(t,e){ll++,_x[ll]=t.current,t.current=e}var zi={},tn=Zi(zi),bn=Zi(!1),Wo=zi;function $l(t,e){var n=t.type.contextTypes;if(!n)return zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function En(t){return t=t.childContextTypes,t!=null}function Xp(){Ke(bn),Ke(tn)}function BT(t,e,n){if(tn.current!==zi)throw Error(q(168));ze(tn,e),ze(bn,n)}function eN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,JV(t)||"Unknown",s));return rt({},n,r)}function Zp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zi,Wo=tn.current,ze(tn,t),ze(bn,bn.current),!0}function zT(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=eN(t,e,Wo),r.__reactInternalMemoizedMergedChildContext=t,Ke(bn),Ke(tn),ze(tn,t)):Ke(bn),ze(bn,n)}var ds=null,pg=!1,_y=!1;function tN(t){ds===null?ds=[t]:ds.push(t)}function p3(t){pg=!0,tN(t)}function eo(){if(!_y&&ds!==null){_y=!0;var t=0,e=je;try{var n=ds;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ds=null,pg=!1}catch(s){throw ds!==null&&(ds=ds.slice(t+1)),PR(c_,eo),s}finally{je=e,_y=!1}}return null}var cl=[],ul=0,em=null,tm=0,Wn=[],Hn=0,Ho=null,ps=1,ms="";function Eo(t,e){cl[ul++]=tm,cl[ul++]=em,em=t,tm=e}function nN(t,e,n){Wn[Hn++]=ps,Wn[Hn++]=ms,Wn[Hn++]=Ho,Ho=t;var r=ps;t=ms;var s=32-xr(r)-1;r&=~(1<<s),n+=1;var i=32-xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ps=1<<32-xr(e)+s|n<<s|r,ms=i+t}else ps=1<<i|n<<s|r,ms=t}function y_(t){t.return!==null&&(Eo(t,1),nN(t,1,0))}function x_(t){for(;t===em;)em=cl[--ul],cl[ul]=null,tm=cl[--ul],cl[ul]=null;for(;t===Ho;)Ho=Wn[--Hn],Wn[Hn]=null,ms=Wn[--Hn],Wn[Hn]=null,ps=Wn[--Hn],Wn[Hn]=null}var Mn=null,Dn=null,Ye=!1,gr=null;function rN(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function GT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Dn=null,!0):!1;default:return!1}}function bx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ex(t){if(Ye){var e=Dn;if(e){var n=e;if(!GT(t,e)){if(bx(t))throw Error(q(418));e=Ci(n.nextSibling);var r=Mn;e&&GT(t,e)?rN(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Mn=t)}}else{if(bx(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ye=!1,Mn=t}}}function qT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function af(t){if(t!==Mn)return!1;if(!Ye)return qT(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yx(t.type,t.memoizedProps)),e&&(e=Dn)){if(bx(t))throw sN(),Error(q(418));for(;e;)rN(t,e),e=Ci(e.nextSibling)}if(qT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Mn?Ci(t.stateNode.nextSibling):null;return!0}function sN(){for(var t=Dn;t;)t=Ci(t.nextSibling)}function Ul(){Dn=Mn=null,Ye=!1}function w_(t){gr===null?gr=[t]:gr.push(t)}var m3=js.ReactCurrentBatchConfig;function Qc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function lf(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WT(t){var e=t._init;return e(t._payload)}function iN(t){function e(x,b){if(t){var _=x.deletions;_===null?(x.deletions=[b],x.flags|=16):_.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=ki(x,b),x.index=0,x.sibling=null,x}function i(x,b,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<b?(x.flags|=2,b):_):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,_,C){return b===null||b.tag!==6?(b=Cy(_,x.mode,C),b.return=x,b):(b=s(b,_),b.return=x,b)}function l(x,b,_,C){var O=_.type;return O===rl?d(x,b,_.props.children,C,_.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===oi&&WT(O)===b.type)?(C=s(b,_.props),C.ref=Qc(x,b,_),C.return=x,C):(C=yp(_.type,_.key,_.props,null,x.mode,C),C.ref=Qc(x,b,_),C.return=x,C)}function u(x,b,_,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Ay(_,x.mode,C),b.return=x,b):(b=s(b,_.children||[]),b.return=x,b)}function d(x,b,_,C,O){return b===null||b.tag!==7?(b=Bo(_,x.mode,C,O),b.return=x,b):(b=s(b,_),b.return=x,b)}function p(x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Cy(""+b,x.mode,_),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yh:return _=yp(b.type,b.key,b.props,null,x.mode,_),_.ref=Qc(x,null,b),_.return=x,_;case nl:return b=Ay(b,x.mode,_),b.return=x,b;case oi:var C=b._init;return p(x,C(b._payload),_)}if(Au(b)||Gc(b))return b=Bo(b,x.mode,_,null),b.return=x,b;lf(x,b)}return null}function f(x,b,_,C){var O=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(x,b,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yh:return _.key===O?l(x,b,_,C):null;case nl:return _.key===O?u(x,b,_,C):null;case oi:return O=_._init,f(x,b,O(_._payload),C)}if(Au(_)||Gc(_))return O!==null?null:d(x,b,_,C,null);lf(x,_)}return null}function m(x,b,_,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(_)||null,a(b,x,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Yh:return x=x.get(C.key===null?_:C.key)||null,l(b,x,C,O);case nl:return x=x.get(C.key===null?_:C.key)||null,u(b,x,C,O);case oi:var M=C._init;return m(x,b,_,M(C._payload),O)}if(Au(C)||Gc(C))return x=x.get(_)||null,d(b,x,C,O,null);lf(b,C)}return null}function y(x,b,_,C){for(var O=null,M=null,P=b,S=b=0,I=null;P!==null&&S<_.length;S++){P.index>S?(I=P,P=null):I=P.sibling;var A=f(x,P,_[S],C);if(A===null){P===null&&(P=I);break}t&&P&&A.alternate===null&&e(x,P),b=i(A,b,S),M===null?O=A:M.sibling=A,M=A,P=I}if(S===_.length)return n(x,P),Ye&&Eo(x,S),O;if(P===null){for(;S<_.length;S++)P=p(x,_[S],C),P!==null&&(b=i(P,b,S),M===null?O=P:M.sibling=P,M=P);return Ye&&Eo(x,S),O}for(P=r(x,P);S<_.length;S++)I=m(P,x,S,_[S],C),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?S:I.key),b=i(I,b,S),M===null?O=I:M.sibling=I,M=I);return t&&P.forEach(function(N){return e(x,N)}),Ye&&Eo(x,S),O}function w(x,b,_,C){var O=Gc(_);if(typeof O!="function")throw Error(q(150));if(_=O.call(_),_==null)throw Error(q(151));for(var M=O=null,P=b,S=b=0,I=null,A=_.next();P!==null&&!A.done;S++,A=_.next()){P.index>S?(I=P,P=null):I=P.sibling;var N=f(x,P,A.value,C);if(N===null){P===null&&(P=I);break}t&&P&&N.alternate===null&&e(x,P),b=i(N,b,S),M===null?O=N:M.sibling=N,M=N,P=I}if(A.done)return n(x,P),Ye&&Eo(x,S),O;if(P===null){for(;!A.done;S++,A=_.next())A=p(x,A.value,C),A!==null&&(b=i(A,b,S),M===null?O=A:M.sibling=A,M=A);return Ye&&Eo(x,S),O}for(P=r(x,P);!A.done;S++,A=_.next())A=m(P,x,S,A.value,C),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?S:A.key),b=i(A,b,S),M===null?O=A:M.sibling=A,M=A);return t&&P.forEach(function(j){return e(x,j)}),Ye&&Eo(x,S),O}function E(x,b,_,C){if(typeof _=="object"&&_!==null&&_.type===rl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yh:e:{for(var O=_.key,M=b;M!==null;){if(M.key===O){if(O=_.type,O===rl){if(M.tag===7){n(x,M.sibling),b=s(M,_.props.children),b.return=x,x=b;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===oi&&WT(O)===M.type){n(x,M.sibling),b=s(M,_.props),b.ref=Qc(x,M,_),b.return=x,x=b;break e}n(x,M);break}else e(x,M);M=M.sibling}_.type===rl?(b=Bo(_.props.children,x.mode,C,_.key),b.return=x,x=b):(C=yp(_.type,_.key,_.props,null,x.mode,C),C.ref=Qc(x,b,_),C.return=x,x=C)}return o(x);case nl:e:{for(M=_.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(x,b.sibling),b=s(b,_.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Ay(_,x.mode,C),b.return=x,x=b}return o(x);case oi:return M=_._init,E(x,b,M(_._payload),C)}if(Au(_))return y(x,b,_,C);if(Gc(_))return w(x,b,_,C);lf(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(x,b.sibling),b=s(b,_),b.return=x,x=b):(n(x,b),b=Cy(_,x.mode,C),b.return=x,x=b),o(x)):n(x,b)}return E}var Bl=iN(!0),oN=iN(!1),nm=Zi(null),rm=null,dl=null,__=null;function b_(){__=dl=rm=null}function E_(t){var e=nm.current;Ke(nm),t._currentValue=e}function Tx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xl(t,e){rm=t,__=dl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(__!==t)if(t={context:t,memoizedValue:e,next:null},dl===null){if(rm===null)throw Error(q(308));dl=t,rm.dependencies={lanes:0,firstContext:t}}else dl=dl.next=t;return e}var Oo=null;function T_(t){Oo===null?Oo=[t]:Oo.push(t)}function aN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,T_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ps(t,r)}function Ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ai=!1;function S_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ps(t,n)}return s=r.interleaved,s===null?(e.next=e,T_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ps(t,n)}function hp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u_(t,n)}}function HT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sm(t,e,n,r){var s=t.updateQueue;ai=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){p=y.call(m,p,f);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(m,p,f):y,f==null)break e;p=rt({},p,f);break e;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=p):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qo|=o,t.lanes=o,t.memoizedState=p}}function KT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var oh={},Wr=Zi(oh),Ed=Zi(oh),Td=Zi(oh);function Do(t){if(t===oh)throw Error(q(174));return t}function P_(t,e){switch(ze(Td,e),ze(Ed,t),ze(Wr,oh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sx(e,t)}Ke(Wr),ze(Wr,e)}function zl(){Ke(Wr),Ke(Ed),Ke(Td)}function cN(t){Do(Td.current);var e=Do(Wr.current),n=sx(e,t.type);e!==n&&(ze(Ed,t),ze(Wr,n))}function I_(t){Ed.current===t&&(Ke(Wr),Ke(Ed))}var Xe=Zi(0);function im(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function C_(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var fp=js.ReactCurrentDispatcher,Ey=js.ReactCurrentBatchConfig,Ko=0,tt=null,Tt=null,Nt=null,om=!1,Hu=!1,Sd=0,g3=0;function Ht(){throw Error(q(321))}function A_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function R_(t,e,n,r,s,i){if(Ko=i,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fp.current=t===null||t.memoizedState===null?w3:_3,t=n(r,s),Hu){i=0;do{if(Hu=!1,Sd=0,25<=i)throw Error(q(301));i+=1,Nt=Tt=null,e.updateQueue=null,fp.current=b3,t=n(r,s)}while(Hu)}if(fp.current=am,e=Tt!==null&&Tt.next!==null,Ko=0,Nt=Tt=tt=null,om=!1,e)throw Error(q(300));return t}function N_(){var t=Sd!==0;return Sd=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?tt.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Zn(){if(Tt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Nt===null?tt.memoizedState:Nt.next;if(e!==null)Nt=e,Tt=t;else{if(t===null)throw Error(q(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Nt===null?tt.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Pd(t,e){return typeof e=="function"?e(t):e}function Ty(t){var e=Zn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ko&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,tt.lanes|=d,Qo|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,br(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,tt.lanes|=i,Qo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sy(t){var e=Zn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);br(i,e.memoizedState)||(yn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uN(){}function dN(t,e){var n=tt,r=Zn(),s=e(),i=!br(r.memoizedState,s);if(i&&(r.memoizedState=s,yn=!0),r=r.queue,k_(pN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Id(9,fN.bind(null,n,r,s,e),void 0,null),Dt===null)throw Error(q(349));Ko&30||hN(n,e,s)}return s}function hN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fN(t,e,n,r){e.value=n,e.getSnapshot=r,mN(e)&&gN(t)}function pN(t,e,n){return n(function(){mN(e)&&gN(t)})}function mN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function gN(t){var e=Ps(t,1);e!==null&&wr(e,t,1,-1)}function QT(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:t},e.queue=t,t=t.dispatch=x3.bind(null,tt,t),[e.memoizedState,t]}function Id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vN(){return Zn().memoizedState}function pp(t,e,n,r){var s=jr();tt.flags|=t,s.memoizedState=Id(1|e,n,void 0,r===void 0?null:r)}function mg(t,e,n,r){var s=Zn();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var o=Tt.memoizedState;if(i=o.destroy,r!==null&&A_(r,o.deps)){s.memoizedState=Id(e,n,i,r);return}}tt.flags|=t,s.memoizedState=Id(1|e,n,i,r)}function YT(t,e){return pp(8390656,8,t,e)}function k_(t,e){return mg(2048,8,t,e)}function yN(t,e){return mg(4,2,t,e)}function xN(t,e){return mg(4,4,t,e)}function wN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _N(t,e,n){return n=n!=null?n.concat([t]):null,mg(4,4,wN.bind(null,e,t),n)}function O_(){}function bN(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EN(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TN(t,e,n){return Ko&21?(br(n,e)||(n=AR(),tt.lanes|=n,Qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function v3(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Ey.transition;Ey.transition={};try{t(!1),e()}finally{je=n,Ey.transition=r}}function SN(){return Zn().memoizedState}function y3(t,e,n){var r=Ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PN(t))IN(e,n);else if(n=aN(t,e,n,r),n!==null){var s=cn();wr(n,t,r,s),CN(n,e,r)}}function x3(t,e,n){var r=Ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PN(t))IN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,br(a,o)){var l=e.interleaved;l===null?(s.next=s,T_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=aN(t,e,s,r),n!==null&&(s=cn(),wr(n,t,r,s),CN(n,e,r))}}function PN(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function IN(t,e){Hu=om=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,u_(t,n)}}var am={readContext:Xn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},w3={readContext:Xn,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:YT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pp(4194308,4,wN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pp(4194308,4,t,e)},useInsertionEffect:function(t,e){return pp(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=y3.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:QT,useDebugValue:O_,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=QT(!1),e=t[0];return t=v3.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,s=jr();if(Ye){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Dt===null)throw Error(q(349));Ko&30||hN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,YT(pN.bind(null,r,i,t),[t]),r.flags|=2048,Id(9,fN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=jr(),e=Dt.identifierPrefix;if(Ye){var n=ms,r=ps;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=g3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_3={readContext:Xn,useCallback:bN,useContext:Xn,useEffect:k_,useImperativeHandle:_N,useInsertionEffect:yN,useLayoutEffect:xN,useMemo:EN,useReducer:Ty,useRef:vN,useState:function(){return Ty(Pd)},useDebugValue:O_,useDeferredValue:function(t){var e=Zn();return TN(e,Tt.memoizedState,t)},useTransition:function(){var t=Ty(Pd)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:uN,useSyncExternalStore:dN,useId:SN,unstable_isNewReconciler:!1},b3={readContext:Xn,useCallback:bN,useContext:Xn,useEffect:k_,useImperativeHandle:_N,useInsertionEffect:yN,useLayoutEffect:xN,useMemo:EN,useReducer:Sy,useRef:vN,useState:function(){return Sy(Pd)},useDebugValue:O_,useDeferredValue:function(t){var e=Zn();return Tt===null?e.memoizedState=t:TN(e,Tt.memoizedState,t)},useTransition:function(){var t=Sy(Pd)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:uN,useSyncExternalStore:dN,useId:SN,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gg={isMounted:function(t){return(t=t._reactInternals)?ma(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),s=Ni(t),i=_s(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ai(t,i,s),e!==null&&(wr(e,t,s,r),hp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),s=Ni(t),i=_s(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ai(t,i,s),e!==null&&(wr(e,t,s,r),hp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=Ni(t),s=_s(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ai(t,s,r),e!==null&&(wr(e,t,r,n),hp(e,t,r))}};function JT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xd(n,r)||!xd(s,i):!0}function AN(t,e,n){var r=!1,s=zi,i=e.contextType;return typeof i=="object"&&i!==null?i=Xn(i):(s=En(e)?Wo:tn.current,r=e.contextTypes,i=(r=r!=null)?$l(t,s):zi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function XT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gg.enqueueReplaceState(e,e.state,null)}function Px(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},S_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xn(i):(i=En(e)?Wo:tn.current,s.context=$l(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sx(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gg.enqueueReplaceState(s,s.state,null),sm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gl(t,e){try{var n="",r=e;do n+=YV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Py(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ix(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E3=typeof WeakMap=="function"?WeakMap:Map;function RN(t,e,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cm||(cm=!0,Lx=r),Ix(t,e)},n}function NN(t,e,n){n=_s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ix(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ix(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ZT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=L3.bind(null,t,e,n),e.then(t,t))}function eS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_s(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t)}var T3=js.ReactCurrentOwner,yn=!1;function an(t,e,n,r){e.child=t===null?oN(e,null,n,r):Bl(e,t.child,n,r)}function nS(t,e,n,r,s){n=n.render;var i=e.ref;return xl(e,s),r=R_(t,e,n,r,i,s),n=N_(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Is(t,e,s)):(Ye&&n&&y_(e),e.flags|=1,an(t,e,r,s),e.child)}function rS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!U_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kN(t,e,i,r,s)):(t=yp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xd,n(o,r)&&t.ref===e.ref)return Is(t,e,s)}return e.flags|=1,t=ki(i,r),t.ref=e.ref,t.return=e,e.child=t}function kN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xd(i,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,Is(t,e,s)}return Cx(t,e,n,r,s)}function ON(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(fl,kn),kn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(fl,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(fl,kn),kn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ze(fl,kn),kn|=r;return an(t,e,s,n),e.child}function DN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cx(t,e,n,r,s){var i=En(n)?Wo:tn.current;return i=$l(e,i),xl(e,s),n=R_(t,e,n,r,i,s),r=N_(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Is(t,e,s)):(Ye&&r&&y_(e),e.flags|=1,an(t,e,n,s),e.child)}function sS(t,e,n,r,s){if(En(n)){var i=!0;Zp(e)}else i=!1;if(xl(e,s),e.stateNode===null)mp(t,e),AN(e,n,r),Px(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=En(n)?Wo:tn.current,u=$l(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&XT(e,o,r,u),ai=!1;var f=e.memoizedState;o.state=f,sm(e,r,o,s),l=e.memoizedState,a!==r||f!==l||bn.current||ai?(typeof d=="function"&&(Sx(e,n,d,r),l=e.memoizedState),(a=ai||JT(e,n,a,r,f,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dr(e.type,a),o.props=u,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=En(n)?Wo:tn.current,l=$l(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&XT(e,o,r,l),ai=!1,f=e.memoizedState,o.state=f,sm(e,r,o,s);var y=e.memoizedState;a!==p||f!==y||bn.current||ai?(typeof m=="function"&&(Sx(e,n,m,r),y=e.memoizedState),(u=ai||JT(e,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ax(t,e,n,r,i,s)}function Ax(t,e,n,r,s,i){DN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&zT(e,n,!1),Is(t,e,i);r=e.stateNode,T3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bl(e,t.child,null,i),e.child=Bl(e,null,a,i)):an(t,e,a,i),e.memoizedState=r.state,s&&zT(e,n,!0),e.child}function jN(t){var e=t.stateNode;e.pendingContext?BT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&BT(t,e.context,!1),P_(t,e.containerInfo)}function iS(t,e,n,r,s){return Ul(),w_(s),e.flags|=256,an(t,e,n,r),e.child}var Rx={dehydrated:null,treeContext:null,retryLane:0};function Nx(t){return{baseLanes:t,cachePool:null,transitions:null}}function MN(t,e,n){var r=e.pendingProps,s=Xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ze(Xe,s&1),t===null)return Ex(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xg(o,r,0,null),t=Bo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Nx(n),e.memoizedState=Rx,t):D_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return S3(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ki(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ki(a,i):(i=Bo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Nx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Rx,r}return i=t.child,t=i.sibling,r=ki(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function D_(t,e){return e=xg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cf(t,e,n,r){return r!==null&&w_(r),Bl(e,t.child,null,n),t=D_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Py(Error(q(422))),cf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=xg({mode:"visible",children:r.children},s,0,null),i=Bo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Bl(e,t.child,null,o),e.child.memoizedState=Nx(o),e.memoizedState=Rx,i);if(!(e.mode&1))return cf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=Py(i,r,void 0),cf(t,e,o,r)}if(a=(o&t.childLanes)!==0,yn||a){if(r=Dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ps(t,s),wr(r,t,s,-1))}return $_(),r=Py(Error(q(421))),cf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=V3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dn=Ci(s.nextSibling),Mn=e,Ye=!0,gr=null,t!==null&&(Wn[Hn++]=ps,Wn[Hn++]=ms,Wn[Hn++]=Ho,ps=t.id,ms=t.overflow,Ho=e),e=D_(e,r.children),e.flags|=4096,e)}function oS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tx(t.return,e,n)}function Iy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function LN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(an(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oS(t,n,e);else if(t.tag===19)oS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&im(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Iy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&im(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Iy(e,!0,n,null,i);break;case"together":Iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P3(t,e,n){switch(e.tag){case 3:jN(e),Ul();break;case 5:cN(e);break;case 1:En(e.type)&&Zp(e);break;case 4:P_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ze(nm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?MN(t,e,n):(ze(Xe,Xe.current&1),t=Is(t,e,n),t!==null?t.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,ON(t,e,n)}return Is(t,e,n)}var VN,kx,FN,$N;VN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kx=function(){};FN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Do(Wr.current);var i=null;switch(n){case"input":s=ex(t,s),r=ex(t,r),i=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":s=rx(t,s),r=rx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jp)}ix(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};$N=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yc(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function I3(t,e,n){var r=e.pendingProps;switch(x_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return En(e.type)&&Xp(),Kt(e),null;case 3:return r=e.stateNode,zl(),Ke(bn),Ke(tn),C_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&($x(gr),gr=null))),kx(t,e),Kt(e),null;case 5:I_(e);var s=Do(Td.current);if(n=e.type,t!==null&&e.stateNode!=null)FN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Kt(e),null}if(t=Do(Wr.current),af(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ur]=e,r[bd]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Nu.length;s++)He(Nu[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":mT(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":vT(r,i),He("invalid",r)}ix(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&of(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&of(r.textContent,a,t),s=["children",""+a]):hd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Jh(r),gT(r,i,!0);break;case"textarea":Jh(r),yT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ur]=e,t[bd]=r,VN(t,e,!1,!1),e.stateNode=t;e:{switch(o=ox(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<Nu.length;s++)He(Nu[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":mT(t,r),s=ex(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),He("invalid",t);break;case"textarea":vT(t,r),s=rx(t,r),He("invalid",t);break;default:s=r}ix(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vR(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mR(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fd(t,l):typeof l=="number"&&fd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&s_(t,i,l,o))}switch(n){case"input":Jh(t),gT(t,r,!1);break;case"textarea":Jh(t),yT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ml(t,!!r.multiple,i,!1):r.defaultValue!=null&&ml(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)$N(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Do(Td.current),Do(Wr.current),af(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(i=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:of(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&of(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return Kt(e),null;case 13:if(Ke(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Dn!==null&&e.mode&1&&!(e.flags&128))sN(),Ul(),e.flags|=98560,i=!1;else if(i=af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Ur]=e}else Ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),i=!1}else gr!==null&&($x(gr),gr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?Pt===0&&(Pt=3):$_())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return zl(),kx(t,e),t===null&&wd(e.stateNode.containerInfo),Kt(e),null;case 10:return E_(e.type._context),Kt(e),null;case 17:return En(e.type)&&Xp(),Kt(e),null;case 19:if(Ke(Xe),i=e.memoizedState,i===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yc(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=im(t),o!==null){for(e.flags|=128,Yc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Xe,Xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>ql&&(e.flags|=128,r=!0,Yc(i,!1),e.lanes=4194304)}else{if(!r)if(t=im(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Kt(e),null}else 2*ft()-i.renderingStartTime>ql&&n!==1073741824&&(e.flags|=128,r=!0,Yc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=Xe.current,ze(Xe,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return F_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function C3(t,e){switch(x_(e),e.tag){case 1:return En(e.type)&&Xp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zl(),Ke(bn),Ke(tn),C_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return I_(e),null;case 13:if(Ke(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Xe),null;case 4:return zl(),null;case 10:return E_(e.type._context),null;case 22:case 23:return F_(),null;case 24:return null;default:return null}}var uf=!1,Xt=!1,A3=typeof WeakSet=="function"?WeakSet:Set,Z=null;function hl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function Ox(t,e,n){try{n()}catch(r){ut(t,e,r)}}var aS=!1;function R3(t,e){if(gx=Kp,t=qR(),v_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,f=null;t:for(;;){for(var m;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vx={focusedElem:t,selectionRange:n},Kp=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:dr(e.type,w),E);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){ut(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return y=aS,aS=!1,y}function Ku(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ox(e,n,i)}s=s.next}while(s!==r)}}function vg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UN(t){var e=t.alternate;e!==null&&(t.alternate=null,UN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[bd],delete e[wx],delete e[h3],delete e[f3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BN(t){return t.tag===5||t.tag===3||t.tag===4}function lS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jp));else if(r!==4&&(t=t.child,t!==null))for(jx(t,e,n),t=t.sibling;t!==null;)jx(t,e,n),t=t.sibling}function Mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mx(t,e,n),t=t.sibling;t!==null;)Mx(t,e,n),t=t.sibling}var Lt=null,mr=!1;function Hs(t,e,n){for(n=n.child;n!==null;)zN(t,e,n),n=n.sibling}function zN(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(cg,n)}catch{}switch(n.tag){case 5:Xt||hl(n,e);case 6:var r=Lt,s=mr;Lt=null,Hs(t,e,n),Lt=r,mr=s,Lt!==null&&(mr?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(mr?(t=Lt,n=n.stateNode,t.nodeType===8?wy(t.parentNode,n):t.nodeType===1&&wy(t,n),vd(t)):wy(Lt,n.stateNode));break;case 4:r=Lt,s=mr,Lt=n.stateNode.containerInfo,mr=!0,Hs(t,e,n),Lt=r,mr=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ox(n,e,o),s=s.next}while(s!==r)}Hs(t,e,n);break;case 1:if(!Xt&&(hl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}Hs(t,e,n);break;case 21:Hs(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,Hs(t,e,n),Xt=r):Hs(t,e,n);break;default:Hs(t,e,n)}}function cS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A3),e.forEach(function(r){var s=F3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,mr=!1;break e;case 3:Lt=a.stateNode.containerInfo,mr=!0;break e;case 4:Lt=a.stateNode.containerInfo,mr=!0;break e}a=a.return}if(Lt===null)throw Error(q(160));zN(i,o,s),Lt=null,mr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ut(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GN(e,t),e=e.sibling}function GN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),Rr(t),r&4){try{Ku(3,t,t.return),vg(3,t)}catch(w){ut(t,t.return,w)}try{Ku(5,t,t.return)}catch(w){ut(t,t.return,w)}}break;case 1:cr(e,t),Rr(t),r&512&&n!==null&&hl(n,n.return);break;case 5:if(cr(e,t),Rr(t),r&512&&n!==null&&hl(n,n.return),t.flags&32){var s=t.stateNode;try{fd(s,"")}catch(w){ut(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hR(s,i),ox(a,o);var u=ox(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?vR(s,p):d==="dangerouslySetInnerHTML"?mR(s,p):d==="children"?fd(s,p):s_(s,d,p,u)}switch(a){case"input":tx(s,i);break;case"textarea":fR(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ml(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ml(s,!!i.multiple,i.defaultValue,!0):ml(s,!!i.multiple,i.multiple?[]:"",!1))}s[bd]=i}catch(w){ut(t,t.return,w)}}break;case 6:if(cr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ut(t,t.return,w)}}break;case 3:if(cr(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vd(e.containerInfo)}catch(w){ut(t,t.return,w)}break;case 4:cr(e,t),Rr(t);break;case 13:cr(e,t),Rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(L_=ft())),r&4&&cS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(u=Xt)||d,cr(e,t),Xt=u):cr(e,t),Rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(p=Z=d;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ku(4,f,f.return);break;case 1:hl(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){ut(r,n,w)}}break;case 5:hl(f,f.return);break;case 22:if(f.memoizedState!==null){dS(p);continue}}m!==null?(m.return=f,Z=m):dS(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gR("display",o))}catch(w){ut(t,t.return,w)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){ut(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:cr(e,t),Rr(t),r&4&&cS(t);break;case 21:break;default:cr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BN(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fd(s,""),r.flags&=-33);var i=lS(t);Mx(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lS(t);jx(t,a,o);break;default:throw Error(q(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N3(t,e,n){Z=t,qN(t)}function qN(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||uf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=uf;var u=Xt;if(uf=o,(Xt=l)&&!u)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?hS(s):l!==null?(l.return=o,Z=l):hS(s);for(;i!==null;)Z=i,qN(i),i=i.sibling;Z=s,uf=a,Xt=u}uS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):uS(t)}}function uS(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||vg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&KT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}KT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&vd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Xt||e.flags&512&&Dx(e)}catch(f){ut(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function dS(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function hS(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vg(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ut(e,s,l)}}var i=e.return;try{Dx(e)}catch(l){ut(e,i,l)}break;case 5:var o=e.return;try{Dx(e)}catch(l){ut(e,o,l)}}}catch(l){ut(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var k3=Math.ceil,lm=js.ReactCurrentDispatcher,j_=js.ReactCurrentOwner,Yn=js.ReactCurrentBatchConfig,Ae=0,Dt=null,_t=null,$t=0,kn=0,fl=Zi(0),Pt=0,Cd=null,Qo=0,yg=0,M_=0,Qu=null,gn=null,L_=0,ql=1/0,cs=null,cm=!1,Lx=null,Ri=null,df=!1,_i=null,um=0,Yu=0,Vx=null,gp=-1,vp=0;function cn(){return Ae&6?ft():gp!==-1?gp:gp=ft()}function Ni(t){return t.mode&1?Ae&2&&$t!==0?$t&-$t:m3.transition!==null?(vp===0&&(vp=AR()),vp):(t=je,t!==0||(t=window.event,t=t===void 0?16:MR(t.type)),t):1}function wr(t,e,n,r){if(50<Yu)throw Yu=0,Vx=null,Error(q(185));rh(t,n,r),(!(Ae&2)||t!==Dt)&&(t===Dt&&(!(Ae&2)&&(yg|=n),Pt===4&&ui(t,$t)),Tn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(ql=ft()+500,pg&&eo()))}function Tn(t,e){var n=t.callbackNode;mF(t,e);var r=Hp(t,t===Dt?$t:0);if(r===0)n!==null&&_T(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_T(n),e===1)t.tag===0?p3(fS.bind(null,t)):tN(fS.bind(null,t)),u3(function(){!(Ae&6)&&eo()}),n=null;else{switch(RR(r)){case 1:n=c_;break;case 4:n=IR;break;case 16:n=Wp;break;case 536870912:n=CR;break;default:n=Wp}n=ZN(n,WN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WN(t,e){if(gp=-1,vp=0,Ae&6)throw Error(q(327));var n=t.callbackNode;if(wl()&&t.callbackNode!==n)return null;var r=Hp(t,t===Dt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dm(t,r);else{e=r;var s=Ae;Ae|=2;var i=KN();(Dt!==t||$t!==e)&&(cs=null,ql=ft()+500,Uo(t,e));do try{j3();break}catch(a){HN(t,a)}while(!0);b_(),lm.current=i,Ae=s,_t!==null?e=0:(Dt=null,$t=0,e=Pt)}if(e!==0){if(e===2&&(s=dx(t),s!==0&&(r=s,e=Fx(t,s))),e===1)throw n=Cd,Uo(t,0),ui(t,r),Tn(t,ft()),n;if(e===6)ui(t,r);else{if(s=t.current.alternate,!(r&30)&&!O3(s)&&(e=dm(t,r),e===2&&(i=dx(t),i!==0&&(r=i,e=Fx(t,i))),e===1))throw n=Cd,Uo(t,0),ui(t,r),Tn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:To(t,gn,cs);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=L_+500-ft(),10<e)){if(Hp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xx(To.bind(null,t,gn,cs),e);break}To(t,gn,cs);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k3(r/1960))-r,10<r){t.timeoutHandle=xx(To.bind(null,t,gn,cs),r);break}To(t,gn,cs);break;case 5:To(t,gn,cs);break;default:throw Error(q(329))}}}return Tn(t,ft()),t.callbackNode===n?WN.bind(null,t):null}function Fx(t,e){var n=Qu;return t.current.memoizedState.isDehydrated&&(Uo(t,e).flags|=256),t=dm(t,e),t!==2&&(e=gn,gn=n,e!==null&&$x(e)),t}function $x(t){gn===null?gn=t:gn.push.apply(gn,t)}function O3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!br(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~M_,e&=~yg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function fS(t){if(Ae&6)throw Error(q(327));wl();var e=Hp(t,0);if(!(e&1))return Tn(t,ft()),null;var n=dm(t,e);if(t.tag!==0&&n===2){var r=dx(t);r!==0&&(e=r,n=Fx(t,r))}if(n===1)throw n=Cd,Uo(t,0),ui(t,e),Tn(t,ft()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,To(t,gn,cs),Tn(t,ft()),null}function V_(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(ql=ft()+500,pg&&eo())}}function Yo(t){_i!==null&&_i.tag===0&&!(Ae&6)&&wl();var e=Ae;Ae|=1;var n=Yn.transition,r=je;try{if(Yn.transition=null,je=1,t)return t()}finally{je=r,Yn.transition=n,Ae=e,!(Ae&6)&&eo()}}function F_(){kn=fl.current,Ke(fl)}function Uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c3(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(x_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xp();break;case 3:zl(),Ke(bn),Ke(tn),C_();break;case 5:I_(r);break;case 4:zl();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:E_(r.type._context);break;case 22:case 23:F_()}n=n.return}if(Dt=t,_t=t=ki(t.current,null),$t=kn=e,Pt=0,Cd=null,M_=yg=Qo=0,gn=Qu=null,Oo!==null){for(e=0;e<Oo.length;e++)if(n=Oo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Oo=null}return t}function HN(t,e){do{var n=_t;try{if(b_(),fp.current=am,om){for(var r=tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}om=!1}if(Ko=0,Nt=Tt=tt=null,Hu=!1,Sd=0,j_.current=null,n===null||n.return===null){Pt=1,Cd=e,_t=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=eS(o);if(m!==null){m.flags&=-257,tS(m,o,a,i,e),m.mode&1&&ZT(i,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){ZT(i,u,e),$_();break e}l=Error(q(426))}}else if(Ye&&a.mode&1){var E=eS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),tS(E,o,a,i,e),w_(Gl(l,a));break e}}i=l=Gl(l,a),Pt!==4&&(Pt=2),Qu===null?Qu=[i]:Qu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=RN(i,l,e);HT(i,x);break e;case 1:a=l;var b=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ri===null||!Ri.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=NN(i,a,e);HT(i,C);break e}}i=i.return}while(i!==null)}YN(n)}catch(O){e=O,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function KN(){var t=lm.current;return lm.current=am,t===null?am:t}function $_(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Dt===null||!(Qo&268435455)&&!(yg&268435455)||ui(Dt,$t)}function dm(t,e){var n=Ae;Ae|=2;var r=KN();(Dt!==t||$t!==e)&&(cs=null,Uo(t,e));do try{D3();break}catch(s){HN(t,s)}while(!0);if(b_(),Ae=n,lm.current=r,_t!==null)throw Error(q(261));return Dt=null,$t=0,Pt}function D3(){for(;_t!==null;)QN(_t)}function j3(){for(;_t!==null&&!oF();)QN(_t)}function QN(t){var e=XN(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?YN(t):_t=e,j_.current=null}function YN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C3(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,_t=null;return}}else if(n=I3(n,e,kn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Pt===0&&(Pt=5)}function To(t,e,n){var r=je,s=Yn.transition;try{Yn.transition=null,je=1,M3(t,e,n,r)}finally{Yn.transition=s,je=r}return null}function M3(t,e,n,r){do wl();while(_i!==null);if(Ae&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gF(t,i),t===Dt&&(_t=Dt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||df||(df=!0,ZN(Wp,function(){return wl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yn.transition,Yn.transition=null;var o=je;je=1;var a=Ae;Ae|=4,j_.current=null,R3(t,n),GN(n,t),n3(vx),Kp=!!gx,vx=gx=null,t.current=n,N3(n),aF(),Ae=a,je=o,Yn.transition=i}else t.current=n;if(df&&(df=!1,_i=t,um=s),i=t.pendingLanes,i===0&&(Ri=null),uF(n.stateNode),Tn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(cm)throw cm=!1,t=Lx,Lx=null,t;return um&1&&t.tag!==0&&wl(),i=t.pendingLanes,i&1?t===Vx?Yu++:(Yu=0,Vx=t):Yu=0,eo(),null}function wl(){if(_i!==null){var t=RR(um),e=Yn.transition,n=je;try{if(Yn.transition=null,je=16>t?16:t,_i===null)var r=!1;else{if(t=_i,_i=null,um=0,Ae&6)throw Error(q(331));var s=Ae;for(Ae|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Ku(8,d,i)}var p=d.child;if(p!==null)p.return=d,Z=p;else for(;Z!==null;){d=Z;var f=d.sibling,m=d.return;if(UN(d),d===u){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ku(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Z=x;break e}Z=i.return}}var b=t.current;for(Z=b;Z!==null;){o=Z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Z=_;else e:for(o=b;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vg(9,a)}}catch(O){ut(a,a.return,O)}if(a===o){Z=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Z=C;break e}Z=a.return}}if(Ae=s,eo(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(cg,t)}catch{}r=!0}return r}finally{je=n,Yn.transition=e}}return!1}function pS(t,e,n){e=Gl(n,e),e=RN(t,e,1),t=Ai(t,e,1),e=cn(),t!==null&&(rh(t,1,e),Tn(t,e))}function ut(t,e,n){if(t.tag===3)pS(t,t,n);else for(;e!==null;){if(e.tag===3){pS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=Gl(n,t),t=NN(e,t,1),e=Ai(e,t,1),t=cn(),e!==null&&(rh(e,1,t),Tn(e,t));break}}e=e.return}}function L3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&($t&n)===n&&(Pt===4||Pt===3&&($t&130023424)===$t&&500>ft()-L_?Uo(t,0):M_|=n),Tn(t,e)}function JN(t,e){e===0&&(t.mode&1?(e=ef,ef<<=1,!(ef&130023424)&&(ef=4194304)):e=1);var n=cn();t=Ps(t,e),t!==null&&(rh(t,e,n),Tn(t,n))}function V3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JN(t,n)}function F3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),JN(t,n)}var XN;XN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,P3(t,e,n);yn=!!(t.flags&131072)}else yn=!1,Ye&&e.flags&1048576&&nN(e,tm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mp(t,e),t=e.pendingProps;var s=$l(e,tn.current);xl(e,n),s=R_(null,e,r,t,s,n);var i=N_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(i=!0,Zp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,S_(e),s.updater=gg,e.stateNode=s,s._reactInternals=e,Px(e,r,t,n),e=Ax(null,e,r,!0,i,n)):(e.tag=0,Ye&&i&&y_(e),an(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=U3(r),t=dr(r,t),s){case 0:e=Cx(null,e,r,t,n);break e;case 1:e=sS(null,e,r,t,n);break e;case 11:e=nS(null,e,r,t,n);break e;case 14:e=rS(null,e,r,dr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),Cx(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),sS(t,e,r,s,n);case 3:e:{if(jN(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lN(t,e),sm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gl(Error(q(423)),e),e=iS(t,e,r,n,s);break e}else if(r!==s){s=Gl(Error(q(424)),e),e=iS(t,e,r,n,s);break e}else for(Dn=Ci(e.stateNode.containerInfo.firstChild),Mn=e,Ye=!0,gr=null,n=oN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ul(),r===s){e=Is(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return cN(e),t===null&&Ex(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yx(r,s)?o=null:i!==null&&yx(r,i)&&(e.flags|=32),DN(t,e),an(t,e,o,n),e.child;case 6:return t===null&&Ex(e),null;case 13:return MN(t,e,n);case 4:return P_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bl(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),nS(t,e,r,s,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ze(nm,r._currentValue),r._currentValue=o,i!==null)if(br(i.value,o)){if(i.children===s.children&&!bn.current){e=Is(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_s(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tx(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tx(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}an(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xl(e,n),s=Xn(s),r=r(s),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,s=dr(r,e.pendingProps),s=dr(r.type,s),rS(t,e,r,s,n);case 15:return kN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),mp(t,e),e.tag=1,En(r)?(t=!0,Zp(e)):t=!1,xl(e,n),AN(e,r,s),Px(e,r,s,n),Ax(null,e,r,!0,t,n);case 19:return LN(t,e,n);case 22:return ON(t,e,n)}throw Error(q(156,e.tag))};function ZN(t,e){return PR(t,e)}function $3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new $3(t,e,n,r)}function U_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U3(t){if(typeof t=="function")return U_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===o_)return 11;if(t===a_)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")U_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rl:return Bo(n.children,s,i,e);case i_:o=8,s|=8;break;case Y0:return t=Kn(12,n,e,s|2),t.elementType=Y0,t.lanes=i,t;case J0:return t=Kn(13,n,e,s),t.elementType=J0,t.lanes=i,t;case X0:return t=Kn(19,n,e,s),t.elementType=X0,t.lanes=i,t;case cR:return xg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aR:o=10;break e;case lR:o=9;break e;case o_:o=11;break e;case a_:o=14;break e;case oi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Bo(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function xg(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=cR,t.lanes=n,t.stateNode={isHidden:!1},t}function Cy(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function Ay(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cy(0),this.expirationTimes=cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function B_(t,e,n,r,s,i,o,a,l){return t=new B3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S_(i),t}function z3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ek(t){if(!t)return zi;t=t._reactInternals;e:{if(ma(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(En(n))return eN(t,n,e)}return e}function tk(t,e,n,r,s,i,o,a,l){return t=B_(n,r,!0,t,s,i,o,a,l),t.context=ek(null),n=t.current,r=cn(),s=Ni(n),i=_s(r,s),i.callback=e??null,Ai(n,i,s),t.current.lanes=s,rh(t,s,r),Tn(t,r),t}function wg(t,e,n,r){var s=e.current,i=cn(),o=Ni(s);return n=ek(n),e.context===null?e.context=n:e.pendingContext=n,e=_s(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ai(s,e,o),t!==null&&(wr(t,s,o,i),hp(t,s,o)),o}function hm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function z_(t,e){mS(t,e),(t=t.alternate)&&mS(t,e)}function G3(){return null}var nk=typeof reportError=="function"?reportError:function(t){console.error(t)};function G_(t){this._internalRoot=t}_g.prototype.render=G_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));wg(t,e,null,null)};_g.prototype.unmount=G_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yo(function(){wg(null,t,null,null)}),e[Ss]=null}};function _g(t){this._internalRoot=t}_g.prototype.unstable_scheduleHydration=function(t){if(t){var e=OR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&jR(t)}};function q_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gS(){}function q3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=hm(o);i.call(u)}}var o=tk(e,r,t,0,null,!1,!1,"",gS);return t._reactRootContainer=o,t[Ss]=o.current,wd(t.nodeType===8?t.parentNode:t),Yo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=hm(l);a.call(u)}}var l=B_(t,0,!1,null,null,!1,!1,"",gS);return t._reactRootContainer=l,t[Ss]=l.current,wd(t.nodeType===8?t.parentNode:t),Yo(function(){wg(e,l,n,r)}),l}function Eg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hm(o);a.call(l)}}wg(e,o,t,s)}else o=q3(n,e,t,s,r);return hm(o)}NR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ru(e.pendingLanes);n!==0&&(u_(e,n|1),Tn(e,ft()),!(Ae&6)&&(ql=ft()+500,eo()))}break;case 13:Yo(function(){var r=Ps(t,1);if(r!==null){var s=cn();wr(r,t,1,s)}}),z_(t,1)}};d_=function(t){if(t.tag===13){var e=Ps(t,134217728);if(e!==null){var n=cn();wr(e,t,134217728,n)}z_(t,134217728)}};kR=function(t){if(t.tag===13){var e=Ni(t),n=Ps(t,e);if(n!==null){var r=cn();wr(n,t,e,r)}z_(t,e)}};OR=function(){return je};DR=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};lx=function(t,e,n){switch(e){case"input":if(tx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fg(r);if(!s)throw Error(q(90));dR(r),tx(r,s)}}}break;case"textarea":fR(t,n);break;case"select":e=n.value,e!=null&&ml(t,!!n.multiple,e,!1)}};wR=V_;_R=Yo;var W3={usingClientEntryPoint:!1,Events:[ih,al,fg,yR,xR,V_]},Jc={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H3={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TR(t),t===null?null:t.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||G3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{cg=hf.inject(H3),qr=hf}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W3;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q_(e))throw Error(q(200));return z3(t,e,null,n)};Bn.createRoot=function(t,e){if(!q_(t))throw Error(q(299));var n=!1,r="",s=nk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=B_(t,1,!1,null,null,n,!1,r,s),t[Ss]=e.current,wd(t.nodeType===8?t.parentNode:t),new G_(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=TR(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Yo(t)};Bn.hydrate=function(t,e,n){if(!bg(e))throw Error(q(200));return Eg(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!q_(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tk(e,null,t,1,n??null,s,!1,i,o),t[Ss]=e.current,wd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _g(e)};Bn.render=function(t,e,n){if(!bg(e))throw Error(q(200));return Eg(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!bg(t))throw Error(q(40));return t._reactRootContainer?(Yo(function(){Eg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ss]=null})}),!0):!1};Bn.unstable_batchedUpdates=V_;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bg(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Eg(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function rk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rk)}catch(t){console.error(t)}}rk(),rR.exports=Bn;var Tg=rR.exports;const sk=GA(Tg);var ik,vS=Tg;ik=vS.createRoot,vS.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const yS="popstate";function K3(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=ga(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ux("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:fm(i))}function r(s,i){W_(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Y3(e,n,r,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function W_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q3(){return Math.random().toString(36).substr(2,8)}function xS(t,e){return{usr:t.state,key:t.key,idx:e}}function Ux(t,e,n,r){return n===void 0&&(n=null),Ad({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ga(e):e,{state:n,key:e&&e.key||r||Q3()})}function fm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Y3(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ad({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=bi.Pop;let E=d(),x=E==null?null:E-u;u=E,l&&l({action:a,location:w.location,delta:x})}function f(E,x){a=bi.Push;let b=Ux(w.location,E,x);n&&n(b,E),u=d()+1;let _=xS(b,u),C=w.createHref(b);try{o.pushState(_,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(C)}i&&l&&l({action:a,location:w.location,delta:1})}function m(E,x){a=bi.Replace;let b=Ux(w.location,E,x);n&&n(b,E),u=d();let _=xS(b,u),C=w.createHref(b);o.replaceState(_,"",C),i&&l&&l({action:a,location:w.location,delta:0})}function y(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof E=="string"?E:fm(E);return b=b.replace(/ $/,"%20"),mt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let w={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(yS,p),l=E,()=>{s.removeEventListener(yS,p),l=null}},createHref(E){return e(s,E)},createURL:y,encodeLocation(E){let x=y(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(E){return o.go(E)}};return w}var wS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wS||(wS={}));function J3(t,e,n){return n===void 0&&(n="/"),X3(t,e,n,!1)}function X3(t,e,n,r){let s=typeof e=="string"?ga(e):e,i=H_(s.pathname||"/",n);if(i==null)return null;let o=ok(t);Z3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=u$(i);a=l$(o[l],u,r)}return a}function ok(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(mt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ok(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:o$(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ak(i.path))s(i,o,l)}),e}function ak(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ak(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Z3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e$=/^:[\w-]+$/,t$=3,n$=2,r$=1,s$=10,i$=-2,_S=t=>t==="*";function o$(t,e){let n=t.split("/"),r=n.length;return n.some(_S)&&(r+=i$),e&&(r+=n$),n.filter(s=>!_S(s)).reduce((s,i)=>s+(e$.test(i)?t$:i===""?r$:s$),r)}function a$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function l$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=bS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=bS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Oi([i,p.pathname]),pathnameBase:p$(Oi([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=Oi([i,p.pathnameBase]))}return o}function bS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[p]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[p];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function c$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),W_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function u$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return W_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function H_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function d$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ga(t):t;return{pathname:n?n.startsWith("/")?n:h$(n,e):e,search:m$(r),hash:g$(s)}}function h$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ry(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function K_(t,e){let n=f$(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Q_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ga(t):(s=Ad({},t),mt(!s.pathname||!s.pathname.includes("?"),Ry("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Ry("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Ry("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=d$(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),p$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lk=["post","put","patch","delete"];new Set(lk);const y$=["get",...lk];new Set(y$);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rd.apply(this,arguments)}const Y_=g.createContext(null),x$=g.createContext(null),to=g.createContext(null),Sg=g.createContext(null),Ms=g.createContext({outlet:null,matches:[],isDataRoute:!1}),ck=g.createContext(null);function w$(t,e){let{relative:n}=e===void 0?{}:e;mc()||mt(!1);let{basename:r,navigator:s}=g.useContext(to),{hash:i,pathname:o,search:a}=dk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Oi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function mc(){return g.useContext(Sg)!=null}function va(){return mc()||mt(!1),g.useContext(Sg).location}function uk(t){g.useContext(to).static||g.useLayoutEffect(t)}function ht(){let{isDataRoute:t}=g.useContext(Ms);return t?D$():_$()}function _$(){mc()||mt(!1);let t=g.useContext(Y_),{basename:e,future:n,navigator:r}=g.useContext(to),{matches:s}=g.useContext(Ms),{pathname:i}=va(),o=JSON.stringify(K_(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return uk(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=Q_(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Oi([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}function b$(){let{matches:t}=g.useContext(Ms),e=t[t.length-1];return e?e.params:{}}function dk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(to),{matches:s}=g.useContext(Ms),{pathname:i}=va(),o=JSON.stringify(K_(s,r.v7_relativeSplatPath));return g.useMemo(()=>Q_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function E$(t,e){return T$(t,e)}function T$(t,e,n,r){mc()||mt(!1);let{navigator:s}=g.useContext(to),{matches:i}=g.useContext(Ms),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=va(),d;if(e){var p;let E=typeof e=="string"?ga(e):e;l==="/"||(p=E.pathname)!=null&&p.startsWith(l)||mt(!1),d=E}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=J3(t,{pathname:m}),w=A$(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Oi([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Oi([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&w?g.createElement(Sg.Provider,{value:{location:Rd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bi.Pop}},w):w}function S$(){let t=O$(),e=v$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const P$=g.createElement(S$,null);class I$ extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Ms.Provider,{value:this.props.routeContext},g.createElement(ck.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C$(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Y_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ms.Provider,{value:e},r)}function A$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||mt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:f,errors:m}=n,y=p.route.loader&&f[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,f)=>{let m,y=!1,w=null,E=null;n&&(m=a&&p.route.id?a[p.route.id]:void 0,w=p.route.errorElement||P$,l&&(u<0&&f===0?(y=!0,E=null):u===f&&(y=!0,E=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),b=()=>{let _;return m?_=w:y?_=E:p.route.Component?_=g.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,g.createElement(C$,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?g.createElement(I$,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var hk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hk||{}),pm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pm||{});function R$(t){let e=g.useContext(Y_);return e||mt(!1),e}function N$(t){let e=g.useContext(x$);return e||mt(!1),e}function k$(t){let e=g.useContext(Ms);return e||mt(!1),e}function fk(t){let e=k$(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function O$(){var t;let e=g.useContext(ck),n=N$(pm.UseRouteError),r=fk(pm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function D$(){let{router:t}=R$(hk.UseNavigateStable),e=fk(pm.UseNavigateStable),n=g.useRef(!1);return uk(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Rd({fromRouteId:e},i)))},[t,e])}function J_(t){let{to:e,replace:n,state:r,relative:s}=t;mc()||mt(!1);let{future:i,static:o}=g.useContext(to),{matches:a}=g.useContext(Ms),{pathname:l}=va(),u=ht(),d=Q_(e,K_(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function pe(t){mt(!1)}function j$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bi.Pop,navigator:i,static:o=!1,future:a}=t;mc()&&mt(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Rd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ga(r));let{pathname:d="/",search:p="",hash:f="",state:m=null,key:y="default"}=r,w=g.useMemo(()=>{let E=H_(d,l);return E==null?null:{location:{pathname:E,search:p,hash:f,state:m,key:y},navigationType:s}},[l,d,p,f,m,y,s]);return w==null?null:g.createElement(to.Provider,{value:u},g.createElement(Sg.Provider,{children:n,value:w}))}function M$(t){let{children:e,location:n}=t;return E$(Bx(e),n)}new Promise(()=>{});function Bx(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Bx(r.props.children,i));return}r.type!==pe&&mt(!1),!r.props.index||!r.props.children||mt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bx(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(this,arguments)}function L$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function V$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F$(t,e){return t.button===0&&(!e||e==="_self")&&!V$(t)}function Gx(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function $$(t,e){let n=Gx(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const U$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],B$="6";try{window.__reactRouterVersion=B$}catch{}const z$="startTransition",ES=tR[z$];function G$(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=K3({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(p=>{u&&ES?ES(()=>l(p)):l(p)},[l,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(j$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const q$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H$=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:p}=e,f=L$(e,U$),{basename:m}=g.useContext(to),y,w=!1;if(typeof u=="string"&&W$.test(u)&&(y=u,q$))try{let _=new URL(window.location.href),C=u.startsWith("//")?new URL(_.protocol+u):new URL(u),O=H_(C.pathname,m);C.origin===_.origin&&O!=null?u=O+C.search+C.hash:w=!0}catch{}let E=w$(u,{relative:s}),x=K$(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:p});function b(_){r&&r(_),_.defaultPrevented||x(_)}return g.createElement("a",zx({},f,{href:y||E,onClick:w||i?r:b,ref:n,target:l}))});var TS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TS||(TS={}));var SS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SS||(SS={}));function K$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ht(),u=va(),d=dk(t,{relative:o});return g.useCallback(p=>{if(F$(p,n)){p.preventDefault();let f=r!==void 0?r:fm(u)===fm(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}function Q$(t){let e=g.useRef(Gx(t)),n=g.useRef(!1),r=va(),s=g.useMemo(()=>$$(r.search,n.current?null:e.current),[r.search]),i=ht(),o=g.useCallback((a,l)=>{const u=Gx(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var PS=["light","dark"],Y$="(prefers-color-scheme: dark)",J$=g.createContext(void 0),X$={setTheme:t=>{},themes:[]},Z$=()=>{var t;return(t=g.useContext(J$))!=null?t:X$};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?PS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,w=!1,E=!0)=>{let x=o?o[y]:y,b=w?y+"|| ''":`'${x}'`,_="";return s&&E&&!w&&PS.includes(y)&&(_+=`d.style.colorScheme = '${y}';`),n==="class"?w||x?_+=`c.add(${b})`:_+="null":x&&(_+=`d[s](n,${b})`),_},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Y$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var eU=t=>{switch(t){case"success":return rU;case"info":return iU;case"warning":return sU;case"error":return oU;default:return null}},tU=Array(12).fill(0),nU=({visible:t})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},H.createElement("div",{className:"sonner-spinner"},tU.map((e,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),rU=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sU=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iU=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oU=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aU=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},qx=1,lU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:qx++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(uU(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||qx++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Nn=new lU,cU=(t,e)=>{let n=(e==null?void 0:e.id)||qx++;return Nn.addToast({title:t,...e,id:n}),n},uU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dU=cU,hU=()=>Nn.toasts;Object.assign(dU,{success:Nn.success,info:Nn.info,warning:Nn.warning,error:Nn.error,custom:Nn.custom,message:Nn.message,promise:Nn.promise,dismiss:Nn.dismiss,loading:Nn.loading},{getHistory:hU});function fU(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}fU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ff(t){return t.label!==void 0}var pU=3,mU="32px",gU=4e3,vU=356,yU=14,xU=20,wU=200;function _U(...t){return t.filter(Boolean).join(" ")}var bU=t=>{var e,n,r,s,i,o,a,l,u,d;let{invert:p,toast:f,unstyled:m,interacting:y,setHeights:w,visibleToasts:E,heights:x,index:b,toasts:_,expanded:C,removeToast:O,defaultRichColors:M,closeButton:P,style:S,cancelButtonStyle:I,actionButtonStyle:A,className:N="",descriptionClassName:j="",duration:k,position:J,gap:ue,loadingIcon:ne,expandByDefault:de,classNames:F,icons:U,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:Q,cn:re}=t,[he,Ue]=H.useState(!1),[st,be]=H.useState(!1),[Je,Cn]=H.useState(!1),[vt,Bt]=H.useState(!1),[ts,Ir]=H.useState(0),[or,ns]=H.useState(0),$s=H.useRef(null),ar=H.useRef(null),Ic=b===0,Cc=b+1<=E,yt=f.type,Cr=f.dismissible!==!1,Nh=f.className||"",Bv=f.descriptionClassName||"",Us=H.useMemo(()=>x.findIndex(me=>me.toastId===f.id)||0,[x,f.id]),Ac=H.useMemo(()=>{var me;return(me=f.closeButton)!=null?me:P},[f.closeButton,P]),Rc=H.useMemo(()=>f.duration||k||gU,[f.duration,k]),xt=H.useRef(0),it=H.useRef(0),ho=H.useRef(0),rs=H.useRef(null),[Nc,zv]=J.split("-"),Bs=H.useMemo(()=>x.reduce((me,Le,Oe)=>Oe>=Us?me:me+Le.height,0),[x,Us]),kc=aU(),kh=f.invert||p,fo=yt==="loading";it.current=H.useMemo(()=>Us*ue+Bs,[Us,Bs]),H.useEffect(()=>{Ue(!0)},[]),H.useLayoutEffect(()=>{if(!he)return;let me=ar.current,Le=me.style.height;me.style.height="auto";let Oe=me.getBoundingClientRect().height;me.style.height=Le,ns(Oe),w(zt=>zt.find(mn=>mn.toastId===f.id)?zt.map(mn=>mn.toastId===f.id?{...mn,height:Oe}:mn):[{toastId:f.id,height:Oe,position:f.position},...zt])},[he,f.title,f.description,w,f.id]);let Ar=H.useCallback(()=>{be(!0),Ir(it.current),w(me=>me.filter(Le=>Le.toastId!==f.id)),setTimeout(()=>{O(f)},wU)},[f,O,w,it]);H.useEffect(()=>{if(f.promise&&yt==="loading"||f.duration===1/0||f.type==="loading")return;let me,Le=Rc;return C||y||Q&&kc?(()=>{if(ho.current<xt.current){let Oe=new Date().getTime()-xt.current;Le=Le-Oe}ho.current=new Date().getTime()})():Le!==1/0&&(xt.current=new Date().getTime(),me=setTimeout(()=>{var Oe;(Oe=f.onAutoClose)==null||Oe.call(f,f),Ar()},Le)),()=>clearTimeout(me)},[C,y,de,f,Rc,Ar,f.promise,yt,Q,kc]),H.useEffect(()=>{let me=ar.current;if(me){let Le=me.getBoundingClientRect().height;return ns(Le),w(Oe=>[{toastId:f.id,height:Le,position:f.position},...Oe]),()=>w(Oe=>Oe.filter(zt=>zt.toastId!==f.id))}},[w,f.id]),H.useEffect(()=>{f.delete&&Ar()},[Ar,f.delete]);function Gv(){return U!=null&&U.loading?H.createElement("div",{className:"sonner-loader","data-visible":yt==="loading"},U.loading):ne?H.createElement("div",{className:"sonner-loader","data-visible":yt==="loading"},ne):H.createElement(nU,{visible:yt==="loading"})}return H.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ar,className:re(N,Nh,F==null?void 0:F.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[yt],(n=f==null?void 0:f.classNames)==null?void 0:n[yt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:M,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":he,"data-promise":!!f.promise,"data-removed":st,"data-visible":Cc,"data-y-position":Nc,"data-x-position":zv,"data-index":b,"data-front":Ic,"data-swiping":Je,"data-dismissible":Cr,"data-type":yt,"data-invert":kh,"data-swipe-out":vt,"data-expanded":!!(C||de&&he),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${st?ts:it.current}px`,"--initial-height":de?"auto":`${or}px`,...S,...f.style},onPointerDown:me=>{fo||!Cr||($s.current=new Date,Ir(it.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(Cn(!0),rs.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Le,Oe,zt;if(vt||!Cr)return;rs.current=null;let mn=Number(((me=ar.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),zs=new Date().getTime()-((Le=$s.current)==null?void 0:Le.getTime()),ss=Math.abs(mn)/zs;if(Math.abs(mn)>=xU||ss>.11){Ir(it.current),(Oe=f.onDismiss)==null||Oe.call(f,f),Ar(),Bt(!0);return}(zt=ar.current)==null||zt.style.setProperty("--swipe-amount","0px"),Cn(!1)},onPointerMove:me=>{var Le;if(!rs.current||!Cr)return;let Oe=me.clientY-rs.current.y,zt=me.clientX-rs.current.x,mn=(Nc==="top"?Math.min:Math.max)(0,Oe),zs=me.pointerType==="touch"?10:2;Math.abs(mn)>zs?(Le=ar.current)==null||Le.style.setProperty("--swipe-amount",`${Oe}px`):Math.abs(zt)>zs&&(rs.current=null)}},Ac&&!f.jsx?H.createElement("button",{"aria-label":K,"data-disabled":fo,"data-close-button":!0,onClick:fo||!Cr?()=>{}:()=>{var me;Ar(),(me=f.onDismiss)==null||me.call(f,f)},className:re(F==null?void 0:F.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||H.isValidElement(f.title)?f.jsx||f.title:H.createElement(H.Fragment,null,yt||f.icon||f.promise?H.createElement("div",{"data-icon":"",className:re(F==null?void 0:F.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Gv():null,f.type!=="loading"?f.icon||(U==null?void 0:U[yt])||eU(yt):null):null,H.createElement("div",{"data-content":"",className:re(F==null?void 0:F.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},H.createElement("div",{"data-title":"",className:re(F==null?void 0:F.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?H.createElement("div",{"data-description":"",className:re(j,Bv,F==null?void 0:F.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),H.isValidElement(f.cancel)?f.cancel:f.cancel&&ff(f.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:me=>{var Le,Oe;ff(f.cancel)&&Cr&&((Oe=(Le=f.cancel).onClick)==null||Oe.call(Le,me),Ar())},className:re(F==null?void 0:F.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,H.isValidElement(f.action)?f.action:f.action&&ff(f.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:me=>{var Le,Oe;ff(f.action)&&(me.defaultPrevented||((Oe=(Le=f.action).onClick)==null||Oe.call(Le,me),Ar()))},className:re(F==null?void 0:F.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function IS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var EU=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:p,visibleToasts:f=pU,toastOptions:m,dir:y=IS(),gap:w=yU,loadingIcon:E,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:_,cn:C=_U}=t,[O,M]=H.useState([]),P=H.useMemo(()=>Array.from(new Set([n].concat(O.filter(Q=>Q.position).map(Q=>Q.position)))),[O,n]),[S,I]=H.useState([]),[A,N]=H.useState(!1),[j,k]=H.useState(!1),[J,ue]=H.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=H.useRef(null),de=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=H.useRef(null),U=H.useRef(!1),K=H.useCallback(Q=>{var re;(re=O.find(he=>he.id===Q.id))!=null&&re.delete||Nn.dismiss(Q.id),M(he=>he.filter(({id:Ue})=>Ue!==Q.id))},[O]);return H.useEffect(()=>Nn.subscribe(Q=>{if(Q.dismiss){M(re=>re.map(he=>he.id===Q.id?{...he,delete:!0}:he));return}setTimeout(()=>{sk.flushSync(()=>{M(re=>{let he=re.findIndex(Ue=>Ue.id===Q.id);return he!==-1?[...re.slice(0,he),{...re[he],...Q},...re.slice(he+1)]:[Q,...re]})})})}),[]),H.useEffect(()=>{if(l!=="system"){ue(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{ue(Q?"dark":"light")})},[l]),H.useEffect(()=>{O.length<=1&&N(!1)},[O]),H.useEffect(()=>{let Q=re=>{var he,Ue;r.every(st=>re[st]||re.code===st)&&(N(!0),(he=ne.current)==null||he.focus()),re.code==="Escape"&&(document.activeElement===ne.current||(Ue=ne.current)!=null&&Ue.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),H.useEffect(()=>{if(ne.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[ne.current]),O.length?H.createElement("section",{"aria-label":`${b} ${de}`,tabIndex:-1},P.map((Q,re)=>{var he;let[Ue,st]=Q.split("-");return H.createElement("ol",{key:Q,dir:y==="auto"?IS():y,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":Ue,"data-x-position":st,style:{"--front-toast-height":`${((he=S[0])==null?void 0:he.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||mU,"--width":`${vU}px`,"--gap":`${w}px`,...p},onBlur:be=>{U.current&&!be.currentTarget.contains(be.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||U.current||(U.current=!0,F.current=be.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{j||N(!1)},onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},O.filter(be=>!be.position&&re===0||be.position===Q).map((be,Je)=>{var Cn,vt;return H.createElement(bU,{key:be.id,icons:x,index:Je,toast:be,defaultRichColors:u,duration:(Cn=m==null?void 0:m.duration)!=null?Cn:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(vt=m==null?void 0:m.closeButton)!=null?vt:i,interacting:j,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:K,toasts:O.filter(Bt=>Bt.position==be.position),heights:S.filter(Bt=>Bt.position==be.position),setHeights:I,expandByDefault:s,gap:w,loadingIcon:E,expanded:A,pauseWhenPageIsHidden:_,cn:C})}))})):null};const TU=({...t})=>{const{theme:e="system"}=Z$();return c.jsx(EU,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function SU(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Pg(...t){return e=>t.forEach(n=>SU(n,e))}function Ne(...t){return g.useCallback(Pg(...t),t)}function PU(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ls(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=p=>{var x;const{scope:f,children:m,...y}=p,w=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(w.Provider,{value:E,children:m})};u.displayName=i+"Provider";function d(p,f){var w;const m=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,IU(s,...e)]}function IU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Jo=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(CU);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return c.jsx(Wx,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return c.jsx(Wx,{...r,ref:e,children:n})});Jo.displayName="Slot";var Wx=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=RU(n);return g.cloneElement(n,{...AU(r,n.props),ref:e?Pg(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});Wx.displayName="SlotClone";var pk=({children:t})=>c.jsx(c.Fragment,{children:t});function CU(t){return g.isValidElement(t)&&t.type===pk}function AU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function RU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var NU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=NU.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Jo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function mk(t,e){t&&Tg.flushSync(()=>t.dispatchEvent(e))}function St(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function kU(t,e=globalThis==null?void 0:globalThis.document){const n=St(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var OU="DismissableLayer",Hx="dismissableLayer.update",DU="dismissableLayer.pointerDownOutside",jU="dismissableLayer.focusOutside",CS,gk=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ig=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(gk),[d,p]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=Ne(e,P=>p(P)),w=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(E),b=d?w.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=x,O=VU(P=>{const S=P.target,I=[...u.branches].some(A=>A.contains(S));!C||I||(s==null||s(P),o==null||o(P),P.defaultPrevented||a==null||a())},f),M=FU(P=>{const S=P.target;[...u.branches].some(A=>A.contains(S))||(i==null||i(P),o==null||o(P),P.defaultPrevented||a==null||a())},f);return kU(P=>{b===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},f),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(CS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),AS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=CS)}},[d,f,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),AS())},[d,u]),g.useEffect(()=>{const P=()=>m({});return document.addEventListener(Hx,P),()=>document.removeEventListener(Hx,P)},[]),c.jsx(ve.div,{...l,ref:y,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,O.onPointerDownCapture)})});Ig.displayName=OU;var MU="DismissableLayerBranch",LU=g.forwardRef((t,e)=>{const n=g.useContext(gk),r=g.useRef(null),s=Ne(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ve.div,{...t,ref:s})});LU.displayName=MU;function VU(t,e=globalThis==null?void 0:globalThis.document){const n=St(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){vk(DU,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function FU(t,e=globalThis==null?void 0:globalThis.document){const n=St(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&vk(jU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function AS(){const t=new CustomEvent(Hx);document.dispatchEvent(t)}function vk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?mk(s,i):s.dispatchEvent(i)}var Kr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},$U=tR.useId||(()=>{}),UU=0;function Di(t){const[e,n]=g.useState($U());return Kr(()=>{t||n(r=>r??String(UU++))},[t]),t||(e?`radix-${e}`:"")}const BU=["top","right","bottom","left"],Gi=Math.min,On=Math.max,mm=Math.round,pf=Math.floor,qi=t=>({x:t,y:t}),zU={left:"right",right:"left",bottom:"top",top:"bottom"},GU={start:"end",end:"start"};function Kx(t,e,n){return On(t,Gi(e,n))}function Cs(t,e){return typeof t=="function"?t(e):t}function As(t){return t.split("-")[0]}function gc(t){return t.split("-")[1]}function X_(t){return t==="x"?"y":"x"}function Z_(t){return t==="y"?"height":"width"}function Wi(t){return["top","bottom"].includes(As(t))?"y":"x"}function eb(t){return X_(Wi(t))}function qU(t,e,n){n===void 0&&(n=!1);const r=gc(t),s=eb(t),i=Z_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=gm(o)),[o,gm(o)]}function WU(t){const e=gm(t);return[Qx(t),e,Qx(e)]}function Qx(t){return t.replace(/start|end/g,e=>GU[e])}function HU(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function KU(t,e,n,r){const s=gc(t);let i=HU(As(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Qx)))),i}function gm(t){return t.replace(/left|right|bottom|top/g,e=>zU[e])}function QU(t){return{top:0,right:0,bottom:0,left:0,...t}}function yk(t){return typeof t!="number"?QU(t):{top:t,right:t,bottom:t,left:t}}function vm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function RS(t,e,n){let{reference:r,floating:s}=t;const i=Wi(e),o=eb(e),a=Z_(o),l=As(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-s.width,y:p};break;default:m={x:r.x,y:r.y}}switch(gc(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const YU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=RS(u,r,l),f=r,m={},y=0;for(let w=0;w<a.length;w++){const{name:E,fn:x}=a[w],{x:b,y:_,data:C,reset:O}=await x({x:d,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=b??d,p=_??p,m={...m,[E]:{...m[E],...C}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:p}=RS(u,f,l)),w=-1)}return{x:d,y:p,placement:f,strategy:s,middlewareData:m}};async function Nd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=Cs(e,t),y=yk(m),E=a[f?p==="floating"?"reference":"floating":p],x=vm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),b=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},O=vm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:_,strategy:l}):b);return{top:(x.top-O.top+y.top)/C.y,bottom:(O.bottom-x.bottom+y.bottom)/C.y,left:(x.left-O.left+y.left)/C.x,right:(O.right-x.right+y.right)/C.x}}const JU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Cs(t,e)||{};if(u==null)return{};const p=yk(d),f={x:n,y:r},m=eb(s),y=Z_(m),w=await o.getDimensions(u),E=m==="y",x=E?"top":"left",b=E?"bottom":"right",_=E?"clientHeight":"clientWidth",C=i.reference[y]+i.reference[m]-f[m]-i.floating[y],O=f[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=M?M[_]:0;(!P||!await(o.isElement==null?void 0:o.isElement(M)))&&(P=a.floating[_]||i.floating[y]);const S=C/2-O/2,I=P/2-w[y]/2-1,A=Gi(p[x],I),N=Gi(p[b],I),j=A,k=P-w[y]-N,J=P/2-w[y]/2+S,ue=Kx(j,J,k),ne=!l.arrow&&gc(s)!=null&&J!==ue&&i.reference[y]/2-(J<j?A:N)-w[y]/2<0,de=ne?J<j?J-j:J-k:0;return{[m]:f[m]+de,data:{[m]:ue,centerOffset:J-ue-de,...ne&&{alignmentOffset:de}},reset:ne}}}),XU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...E}=Cs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=As(s),b=Wi(a),_=As(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=f||(_||!w?[gm(a)]:WU(a)),M=y!=="none";!f&&M&&O.push(...KU(a,w,y,C));const P=[a,...O],S=await Nd(e,E),I=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(S[x]),p){const J=qU(s,o,C);I.push(S[J[0]],S[J[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(J=>J<=0)){var N,j;const J=(((N=i.flip)==null?void 0:N.index)||0)+1,ue=P[J];if(ue)return{data:{index:J,overflows:A},reset:{placement:ue}};let ne=(j=A.filter(de=>de.overflows[0]<=0).sort((de,F)=>de.overflows[1]-F.overflows[1])[0])==null?void 0:j.placement;if(!ne)switch(m){case"bestFit":{var k;const de=(k=A.filter(F=>{if(M){const U=Wi(F.placement);return U===b||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:k[0];de&&(ne=de);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function NS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kS(t){return BU.some(e=>t[e]>=0)}const ZU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Cs(t,e);switch(r){case"referenceHidden":{const i=await Nd(e,{...s,elementContext:"reference"}),o=NS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kS(o)}}}case"escaped":{const i=await Nd(e,{...s,altBoundary:!0}),o=NS(i,n.floating);return{data:{escapedOffsets:o,escaped:kS(o)}}}default:return{}}}}};async function eB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=As(n),a=gc(n),l=Wi(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,p=Cs(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const tB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await eB(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},nB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x,y:b}=E;return{x,y:b}}},...l}=Cs(t,e),u={x:n,y:r},d=await Nd(e,l),p=Wi(As(s)),f=X_(p);let m=u[f],y=u[p];if(i){const E=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=m+d[E],_=m-d[x];m=Kx(b,m,_)}if(o){const E=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=y+d[E],_=y-d[x];y=Kx(b,y,_)}const w=a.fn({...e,[f]:m,[p]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[f]:i,[p]:o}}}}}},rB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Cs(t,e),d={x:n,y:r},p=Wi(s),f=X_(p);let m=d[f],y=d[p];const w=Cs(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const _=f==="y"?"height":"width",C=i.reference[f]-i.floating[_]+E.mainAxis,O=i.reference[f]+i.reference[_]-E.mainAxis;m<C?m=C:m>O&&(m=O)}if(u){var x,b;const _=f==="y"?"width":"height",C=["top","left"].includes(As(s)),O=i.reference[p]-i.floating[_]+(C&&((x=o.offset)==null?void 0:x[p])||0)+(C?0:E.crossAxis),M=i.reference[p]+i.reference[_]+(C?0:((b=o.offset)==null?void 0:b[p])||0)-(C?E.crossAxis:0);y<O?y=O:y>M&&(y=M)}return{[f]:m,[p]:y}}}},sB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Cs(t,e),d=await Nd(e,u),p=As(s),f=gc(s),m=Wi(s)==="y",{width:y,height:w}=i.floating;let E,x;p==="top"||p==="bottom"?(E=p,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,E=f==="end"?"top":"bottom");const b=w-d.top-d.bottom,_=y-d.left-d.right,C=Gi(w-d[E],b),O=Gi(y-d[x],_),M=!e.middlewareData.shift;let P=C,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=b),M&&!f){const A=On(d.left,0),N=On(d.right,0),j=On(d.top,0),k=On(d.bottom,0);m?S=y-2*(A!==0||N!==0?A+N:On(d.left,d.right)):P=w-2*(j!==0||k!==0?j+k:On(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:P});const I=await o.getDimensions(a.floating);return y!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function Cg(){return typeof window<"u"}function vc(t){return xk(t)?(t.nodeName||"").toLowerCase():"#document"}function Ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xr(t){var e;return(e=(xk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xk(t){return Cg()?t instanceof Node||t instanceof Ln(t).Node:!1}function Er(t){return Cg()?t instanceof Element||t instanceof Ln(t).Element:!1}function Qr(t){return Cg()?t instanceof HTMLElement||t instanceof Ln(t).HTMLElement:!1}function OS(t){return!Cg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ln(t).ShadowRoot}function ah(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function iB(t){return["table","td","th"].includes(vc(t))}function Ag(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tb(t){const e=nb(),n=Er(t)?Tr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function oB(t){let e=Hi(t);for(;Qr(e)&&!Wl(e);){if(tb(e))return e;if(Ag(e))return null;e=Hi(e)}return null}function nb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wl(t){return["html","body","#document"].includes(vc(t))}function Tr(t){return Ln(t).getComputedStyle(t)}function Rg(t){return Er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hi(t){if(vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OS(t)&&t.host||Xr(t);return OS(e)?e.host:e}function wk(t){const e=Hi(t);return Wl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qr(e)&&ah(e)?e:wk(e)}function kd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=wk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ln(s);if(i){const a=Yx(o);return e.concat(o,o.visualViewport||[],ah(s)?s:[],a&&n?kd(a):[])}return e.concat(s,kd(s,[],n))}function Yx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _k(t){const e=Tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=mm(n)!==i||mm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function rb(t){return Er(t)?t:t.contextElement}function _l(t){const e=rb(t);if(!Qr(e))return qi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=_k(e);let o=(i?mm(n.width):n.width)/r,a=(i?mm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aB=qi(0);function bk(t){const e=Ln(t);return!nb()||!e.visualViewport?aB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ln(t)?!1:e}function Xo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=rb(t);let o=qi(1);e&&(r?Er(r)&&(o=_l(r)):o=_l(t));const a=lB(i,n,r)?bk(i):qi(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const f=Ln(i),m=r&&Er(r)?Ln(r):r;let y=f,w=Yx(y);for(;w&&r&&m!==y;){const E=_l(w),x=w.getBoundingClientRect(),b=Tr(w),_=x.left+(w.clientLeft+parseFloat(b.paddingLeft))*E.x,C=x.top+(w.clientTop+parseFloat(b.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,p*=E.y,l+=_,u+=C,y=Ln(w),w=Yx(y)}}return vm({width:d,height:p,x:l,y:u})}function cB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Xr(r),a=e?Ag(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=qi(1);const d=qi(0),p=Qr(r);if((p||!p&&!i)&&((vc(r)!=="body"||ah(o))&&(l=Rg(r)),Qr(r))){const f=Xo(r);u=_l(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function uB(t){return Array.from(t.getClientRects())}function Jx(t,e){const n=Rg(t).scrollLeft;return e?e.left+n:Xo(Xr(t)).left+n}function dB(t){const e=Xr(t),n=Rg(t),r=t.ownerDocument.body,s=On(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=On(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jx(t);const a=-n.scrollTop;return Tr(r).direction==="rtl"&&(o+=On(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function hB(t,e){const n=Ln(t),r=Xr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=nb();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function fB(t,e){const n=Xo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qr(t)?_l(t):qi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function DS(t,e,n){let r;if(e==="viewport")r=hB(t,n);else if(e==="document")r=dB(Xr(t));else if(Er(e))r=fB(e,n);else{const s=bk(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return vm(r)}function Ek(t,e){const n=Hi(t);return n===e||!Er(n)||Wl(n)?!1:Tr(n).position==="fixed"||Ek(n,e)}function pB(t,e){const n=e.get(t);if(n)return n;let r=kd(t,[],!1).filter(a=>Er(a)&&vc(a)!=="body"),s=null;const i=Tr(t).position==="fixed";let o=i?Hi(t):t;for(;Er(o)&&!Wl(o);){const a=Tr(o),l=tb(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ah(o)&&!l&&Ek(t,o))?r=r.filter(d=>d!==o):s=a,o=Hi(o)}return e.set(t,r),r}function mB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ag(e)?[]:pB(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const p=DS(e,d,s);return u.top=On(p.top,u.top),u.right=Gi(p.right,u.right),u.bottom=Gi(p.bottom,u.bottom),u.left=On(p.left,u.left),u},DS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gB(t){const{width:e,height:n}=_k(t);return{width:e,height:n}}function vB(t,e,n){const r=Qr(e),s=Xr(e),i=n==="fixed",o=Xo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=qi(0);if(r||!r&&!i)if((vc(e)!=="body"||ah(s))&&(a=Rg(e)),r){const m=Xo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=Jx(s));let u=0,d=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();d=m.top+a.scrollTop,u=m.left+a.scrollLeft-Jx(s,m)}const p=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-d;return{x:p,y:f,width:o.width,height:o.height}}function Ny(t){return Tr(t).position==="static"}function jS(t,e){if(!Qr(t)||Tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Xr(t)===n&&(n=n.ownerDocument.body),n}function Tk(t,e){const n=Ln(t);if(Ag(t))return n;if(!Qr(t)){let s=Hi(t);for(;s&&!Wl(s);){if(Er(s)&&!Ny(s))return s;s=Hi(s)}return n}let r=jS(t,e);for(;r&&iB(r)&&Ny(r);)r=jS(r,e);return r&&Wl(r)&&Ny(r)&&!tb(r)?n:r||oB(t)||n}const yB=async function(t){const e=this.getOffsetParent||Tk,n=this.getDimensions,r=await n(t.floating);return{reference:vB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xB(t){return Tr(t).direction==="rtl"}const wB={convertOffsetParentRelativeRectToViewportRelativeRect:cB,getDocumentElement:Xr,getClippingRect:mB,getOffsetParent:Tk,getElementRects:yB,getClientRects:uB,getDimensions:gB,getScale:_l,isElement:Er,isRTL:xB};function _B(t,e){let n=null,r;const s=Xr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const m=pf(d),y=pf(s.clientWidth-(u+p)),w=pf(s.clientHeight-(d+f)),E=pf(u),b={rootMargin:-m+"px "+-y+"px "+-w+"px "+-E+"px",threshold:On(0,Gi(1,l))||1};let _=!0;function C(O){const M=O[0].intersectionRatio;if(M!==l){if(!_)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(t)}return o(!0),i}function bB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=rb(t),d=s||i?[...u?kd(u):[],...kd(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=u&&a?_B(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,w=l?Xo(t):null;l&&E();function E(){const x=Xo(t);w&&(x.x!==w.x||x.y!==w.y||x.width!==w.width||x.height!==w.height)&&n(),w=x,y=requestAnimationFrame(E)}return n(),()=>{var x;d.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),p==null||p(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const EB=tB,TB=nB,SB=XU,PB=sB,IB=ZU,MS=JU,CB=rB,AB=(t,e,n)=>{const r=new Map,s={platform:wB,...n},i={...s.platform,_c:r};return YU(t,e,{...s,platform:i})};var xp=typeof document<"u"?g.useLayoutEffect:g.useEffect;function ym(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ym(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ym(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Sk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LS(t,e){const n=Sk(t);return Math.round(e*n)/n}function ky(t){const e=g.useRef(t);return xp(()=>{e.current=t}),e}function RB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=g.useState(r);ym(f,r)||m(r);const[y,w]=g.useState(null),[E,x]=g.useState(null),b=g.useCallback(F=>{F!==M.current&&(M.current=F,w(F))},[]),_=g.useCallback(F=>{F!==P.current&&(P.current=F,x(F))},[]),C=i||y,O=o||E,M=g.useRef(null),P=g.useRef(null),S=g.useRef(d),I=l!=null,A=ky(l),N=ky(s),j=ky(u),k=g.useCallback(()=>{if(!M.current||!P.current)return;const F={placement:e,strategy:n,middleware:f};N.current&&(F.platform=N.current),AB(M.current,P.current,F).then(U=>{const K={...U,isPositioned:j.current!==!1};J.current&&!ym(S.current,K)&&(S.current=K,Tg.flushSync(()=>{p(K)}))})},[f,e,n,N,j]);xp(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[u]);const J=g.useRef(!1);xp(()=>(J.current=!0,()=>{J.current=!1}),[]),xp(()=>{if(C&&(M.current=C),O&&(P.current=O),C&&O){if(A.current)return A.current(C,O,k);k()}},[C,O,k,A,I]);const ue=g.useMemo(()=>({reference:M,floating:P,setReference:b,setFloating:_}),[b,_]),ne=g.useMemo(()=>({reference:C,floating:O}),[C,O]),de=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!ne.floating)return F;const U=LS(ne.floating,d.x),K=LS(ne.floating,d.y);return a?{...F,transform:"translate("+U+"px, "+K+"px)",...Sk(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:K}},[n,a,ne.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:ue,elements:ne,floatingStyles:de}),[d,k,ue,ne,de])}const NB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?MS({element:r.current,padding:s}).fn(n):{}:r?MS({element:r,padding:s}).fn(n):{}}}},kB=(t,e)=>({...EB(t),options:[t,e]}),OB=(t,e)=>({...TB(t),options:[t,e]}),DB=(t,e)=>({...CB(t),options:[t,e]}),jB=(t,e)=>({...SB(t),options:[t,e]}),MB=(t,e)=>({...PB(t),options:[t,e]}),LB=(t,e)=>({...IB(t),options:[t,e]}),VB=(t,e)=>({...NB(t),options:[t,e]});var FB="Arrow",Pk=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Pk.displayName=FB;var $B=Pk;function UB(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:m,...y}=p,w=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(w.Provider,{value:E,children:m})}function d(p,f){const m=(f==null?void 0:f[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,BB(s,...e)]}function BB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function sb(t){const[e,n]=g.useState(void 0);return Kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ib="Popper",[Ik,Ng]=UB(ib),[zB,Ck]=Ik(ib),Ak=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return c.jsx(zB,{scope:e,anchor:r,onAnchorChange:s,children:n})};Ak.displayName=ib;var Rk="PopperAnchor",Nk=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Ck(Rk,n),o=g.useRef(null),a=Ne(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(ve.div,{...s,ref:a})});Nk.displayName=Rk;var ob="PopperContent",[GB,qB]=Ik(ob),kk=g.forwardRef((t,e)=>{var Je,Cn,vt,Bt,ts,Ir;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:y,...w}=t,E=Ck(ob,n),[x,b]=g.useState(null),_=Ne(e,or=>b(or)),[C,O]=g.useState(null),M=sb(C),P=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],j=N.length>0,k={padding:A,boundary:N.filter(HB),altBoundary:j},{refs:J,floatingStyles:ue,placement:ne,isPositioned:de,middlewareData:F}=RB({strategy:"fixed",placement:I,whileElementsMounted:(...or)=>bB(...or,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[kB({mainAxis:s+S,alignmentAxis:o}),l&&OB({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?DB():void 0,...k}),l&&jB({...k}),MB({...k,apply:({elements:or,rects:ns,availableWidth:$s,availableHeight:ar})=>{const{width:Ic,height:Cc}=ns.reference,yt=or.floating.style;yt.setProperty("--radix-popper-available-width",`${$s}px`),yt.setProperty("--radix-popper-available-height",`${ar}px`),yt.setProperty("--radix-popper-anchor-width",`${Ic}px`),yt.setProperty("--radix-popper-anchor-height",`${Cc}px`)}}),C&&VB({element:C,padding:a}),KB({arrowWidth:P,arrowHeight:S}),f&&LB({strategy:"referenceHidden",...k})]}),[U,K]=jk(ne),Q=St(y);Kr(()=>{de&&(Q==null||Q())},[de,Q]);const re=(Je=F.arrow)==null?void 0:Je.x,he=(Cn=F.arrow)==null?void 0:Cn.y,Ue=((vt=F.arrow)==null?void 0:vt.centerOffset)!==0,[st,be]=g.useState();return Kr(()=>{x&&be(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:de?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[(Bt=F.transformOrigin)==null?void 0:Bt.x,(ts=F.transformOrigin)==null?void 0:ts.y].join(" "),...((Ir=F.hide)==null?void 0:Ir.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(GB,{scope:n,placedSide:U,onArrowChange:O,arrowX:re,arrowY:he,shouldHideArrow:Ue,children:c.jsx(ve.div,{"data-side":U,"data-align":K,...w,ref:_,style:{...w.style,animation:de?void 0:"none"}})})})});kk.displayName=ob;var Ok="PopperArrow",WB={top:"bottom",right:"left",bottom:"top",left:"right"},Dk=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=qB(Ok,r),o=WB[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx($B,{...s,ref:n,style:{...s.style,display:"block"}})})});Dk.displayName=Ok;function HB(t){return t!==null}var KB=t=>({name:"transformOrigin",options:t,fn(e){var E,x,b;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=jk(n),p={start:"0%",center:"50%",end:"100%"}[d],f=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let y="",w="";return u==="bottom"?(y=o?p:`${f}px`,w=`${-l}px`):u==="top"?(y=o?p:`${f}px`,w=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,w=o?p:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,w=o?p:`${m}px`),{data:{x:y,y:w}}}});function jk(t){const[e,n="center"]=t.split("-");return[e,n]}var Mk=Ak,Lk=Nk,Vk=kk,Fk=Dk,QB="Portal",ab=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Kr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?sk.createPortal(c.jsx(ve.div,{...r,ref:e}),o):null});ab.displayName=QB;function YB(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var fn=t=>{const{present:e,children:n}=t,r=JB(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ne(r.ref,XB(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};fn.displayName="Presence";function JB(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=YB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=mf(r.current);i.current=a==="mounted"?u:"none"},[a]),Kr(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,m=mf(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Kr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=m=>{const w=mf(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=m=>{m.target===e&&(i.current=mf(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function mf(t){return(t==null?void 0:t.animationName)||"none"}function XB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ya({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=ZB({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=St(n),l=g.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,l]}function ZB({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=St(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var e6="VisuallyHidden",$k=g.forwardRef((t,e)=>c.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$k.displayName=e6;var t6=$k,[kg,rce]=Ls("Tooltip",[Ng]),Og=Ng(),Uk="TooltipProvider",n6=700,Xx="tooltip.open",[r6,lb]=kg(Uk),Bk=t=>{const{__scopeTooltip:e,delayDuration:n=n6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(r6,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};Bk.displayName=Uk;var Dg="Tooltip",[s6,jg]=kg(Dg),zk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=lb(Dg,t.__scopeTooltip),u=Og(e),[d,p]=g.useState(null),f=Di(),m=g.useRef(0),y=o??l.disableHoverableContent,w=a??l.delayDuration,E=g.useRef(!1),[x=!1,b]=ya({prop:r,defaultProp:s,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(Xx))):l.onClose(),i==null||i(P)}}),_=g.useMemo(()=>x?E.current?"delayed-open":"instant-open":"closed",[x]),C=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,E.current=!1,b(!0)},[b]),O=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),M=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{E.current=!0,b(!0),m.current=0},w)},[w,b]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(Mk,{...u,children:c.jsx(s6,{scope:e,contentId:f,open:x,stateAttribute:_,trigger:d,onTriggerChange:p,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayed?M():C()},[l.isOpenDelayed,M,C]),onTriggerLeave:g.useCallback(()=>{y?O():(window.clearTimeout(m.current),m.current=0)},[O,y]),onOpen:C,onClose:O,disableHoverableContent:y,children:n})})};zk.displayName=Dg;var Zx="TooltipTrigger",Gk=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=jg(Zx,n),i=lb(Zx,n),o=Og(n),a=g.useRef(null),l=Ne(e,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),p=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(Lk,{asChild:!0,...o,children:c.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ie(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});Gk.displayName=Zx;var i6="TooltipPortal",[sce,o6]=kg(i6,{forceMount:void 0}),Hl="TooltipContent",qk=g.forwardRef((t,e)=>{const n=o6(Hl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=jg(Hl,t.__scopeTooltip);return c.jsx(fn,{present:r||o.open,children:o.disableHoverableContent?c.jsx(Wk,{side:s,...i,ref:e}):c.jsx(a6,{side:s,...i,ref:e})})}),a6=g.forwardRef((t,e)=>{const n=jg(Hl,t.__scopeTooltip),r=lb(Hl,t.__scopeTooltip),s=g.useRef(null),i=Ne(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,f=g.useCallback(()=>{a(null),p(!1)},[p]),m=g.useCallback((y,w)=>{const E=y.currentTarget,x={x:y.clientX,y:y.clientY},b=d6(x,E.getBoundingClientRect()),_=h6(x,b),C=f6(w.getBoundingClientRect()),O=m6([..._,...C]);a(O),p(!0)},[p]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(l&&d){const y=E=>m(E,d),w=E=>m(E,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",w)}}},[l,d,m,f]),g.useEffect(()=>{if(o){const y=w=>{const E=w.target,x={x:w.clientX,y:w.clientY},b=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),_=!p6(x,o);b?f():_&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,o,u,f]),c.jsx(Wk,{...t,ref:i})}),[l6,c6]=kg(Dg,{isInside:!1}),Wk=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=jg(Hl,n),u=Og(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(Xx,d),()=>document.removeEventListener(Xx,d)),[d]),g.useEffect(()=>{if(l.trigger){const p=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,d]),c.jsx(Ig,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:c.jsxs(Vk,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(pk,{children:r}),c.jsx(l6,{scope:n,isInside:!0,children:c.jsx(t6,{id:l.contentId,role:"tooltip",children:s||r})})]})})});qk.displayName=Hl;var Hk="TooltipArrow",u6=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Og(n);return c6(Hk,n).isInside?null:c.jsx(Fk,{...s,...r,ref:e})});u6.displayName=Hk;function d6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function h6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function f6(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function p6(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function m6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),g6(e)}function g6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var v6=Bk,y6=zk,x6=Gk,Kk=qk;function Qk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Qk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Qk(t))&&(r&&(r+=" "),r+=e);return r}const cb="-",w6=t=>{const e=b6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(cb);return a[0]===""&&a.length!==1&&a.shift(),Jk(a,e)||_6(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Jk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Jk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(cb);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},VS=/^\[(.+)\]$/,_6=t=>{if(VS.test(t)){const e=VS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},b6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return T6(Object.entries(t.classGroups),n).forEach(([i,o])=>{ew(o,r,i,e)}),r},ew=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:FS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(E6(s)){ew(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ew(o,FS(e,i),n,r)})})},FS=(t,e)=>{let n=t;return e.split(cb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},E6=t=>t.isThemeGetter,T6=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,S6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Xk="!",P6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,p;for(let E=0;E<a.length;E++){let x=a[E];if(u===0){if(x===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(x==="/"){p=E;continue}}x==="["?u++:x==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(Xk),y=m?f.substring(1):f,w=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},I6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},C6=t=>({cache:S6(t.cacheSize),parseClassName:P6(t),...w6(t)}),A6=/\s+/,R6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(A6);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let y=!!m,w=r(y?f.substring(0,m):f);if(!w){if(!y){a=u+(a.length>0?" "+a:a);continue}if(w=r(f),!w){a=u+(a.length>0?" "+a:a);continue}y=!1}const E=I6(d).join(":"),x=p?E+Xk:E,b=x+w;if(i.includes(b))continue;i.push(b);const _=s(w,y);for(let C=0;C<_.length;++C){const O=_[C];i.push(x+O)}a=u+(a.length>0?" "+a:a)}return a};function N6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Zk(e))&&(r&&(r+=" "),r+=n);return r}const Zk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Zk(t[r]))&&(n&&(n+=" "),n+=e);return n};function k6(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,p)=>p(d),t());return n=C6(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=R6(l,n);return s(l,d),d}return function(){return i(N6.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},e2=/^\[(?:([a-z-]+):)?(.+)\]$/i,O6=/^\d+\/\d+$/,D6=new Set(["px","full","screen"]),j6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,V6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=t=>bl(t)||D6.has(t)||O6.test(t),Ks=t=>yc(t,"length",H6),bl=t=>!!t&&!Number.isNaN(Number(t)),Oy=t=>yc(t,"number",bl),Xc=t=>!!t&&Number.isInteger(Number(t)),$6=t=>t.endsWith("%")&&bl(t.slice(0,-1)),ye=t=>e2.test(t),Qs=t=>j6.test(t),U6=new Set(["length","size","percentage"]),B6=t=>yc(t,U6,t2),z6=t=>yc(t,"position",t2),G6=new Set(["image","url"]),q6=t=>yc(t,G6,Q6),W6=t=>yc(t,"",K6),Zc=()=>!0,yc=(t,e,n)=>{const r=e2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},H6=t=>M6.test(t)&&!L6.test(t),t2=()=>!1,K6=t=>V6.test(t),Q6=t=>F6.test(t),Y6=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),d=We("hueRotate"),p=We("invert"),f=We("gap"),m=We("gradientColorStops"),y=We("gradientColorStopPositions"),w=We("inset"),E=We("margin"),x=We("opacity"),b=We("padding"),_=We("saturate"),C=We("scale"),O=We("sepia"),M=We("skew"),P=We("space"),S=We("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ye,e],j=()=>[ye,e],k=()=>["",as,Ks],J=()=>["auto",bl,ye],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ye],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[bl,ye];return{cacheSize:500,separator:":",theme:{colors:[Zc],spacing:[as,Ks],blur:["none","",Qs,ye],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Qs,ye],borderSpacing:j(),borderWidth:k(),contrast:Q(),grayscale:U(),hueRotate:Q(),invert:U(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[$6,Ks],inset:N(),margin:N(),opacity:Q(),padding:j(),saturate:Q(),scale:Q(),sepia:U(),skew:Q(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Qs]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),ye]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xc,ye]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Xc,ye]}],"grid-cols":[{"grid-cols":[Zc]}],"col-start-end":[{col:["auto",{span:["full",Xc,ye]},ye]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Zc]}],"row-start-end":[{row:["auto",{span:[Xc,ye]},ye]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[Qs]},Qs]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qs,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oy]}],"font-family":[{font:[Zc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",bl,Oy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,Ks]}],"underline-offset":[{"underline-offset":["auto",as,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),z6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},q6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[as,ye]}],"outline-w":[{outline:[as,Ks]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[as,Ks]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qs,W6]}],"shadow-color":[{shadow:[Zc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Qs,ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Xc,ye]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[as,Ks,Oy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J6=k6(Y6);function se(...t){return J6(Yk(t))}const ku=v6,gf=y6,vf=x6,Ou=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(Kk,{ref:r,sideOffset:e,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Ou.displayName=Kk.displayName;var Mg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lg=typeof window>"u"||"Deno"in globalThis;function hr(){}function X6(t,e){return typeof t=="function"?t(e):t}function Z6(t){return typeof t=="number"&&t>=0&&t!==1/0}function ez(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $S(t,e){return typeof t=="function"?t(e):t}function tz(t,e){return typeof t=="function"?t(e):t}function US(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ub(o,e.options))return!1}else if(!Dd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function BS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Od(e.options.mutationKey)!==Od(i))return!1}else if(!Dd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ub(t,e){return((e==null?void 0:e.queryKeyHashFn)||Od)(t)}function Od(t){return JSON.stringify(t,(e,n)=>tw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Dd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Dd(t[n],e[n])):!1}function n2(t,e){if(t===e)return t;const n=zS(t)&&zS(e);if(n||tw(t)&&tw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=n2(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function zS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tw(t){if(!GS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!GS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function GS(t){return Object.prototype.toString.call(t)==="[object Object]"}function nz(t){return new Promise(e=>{setTimeout(e,t)})}function rz(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?n2(t,e):e}function sz(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function iz(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var db=Symbol();function r2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===db?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Lo,mi,Rl,MA,oz=(MA=class extends Mg{constructor(){super();ke(this,Lo);ke(this,mi);ke(this,Rl);xe(this,Rl,e=>{if(!Lg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,mi)||this.setEventListener(B(this,Rl))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,mi))==null||e.call(this),xe(this,mi,void 0))}setEventListener(e){var n;xe(this,Rl,e),(n=B(this,mi))==null||n.call(this),xe(this,mi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Lo)!==e&&(xe(this,Lo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Lo)=="boolean"?B(this,Lo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Lo=new WeakMap,mi=new WeakMap,Rl=new WeakMap,MA),s2=new oz,Nl,gi,kl,LA,az=(LA=class extends Mg{constructor(){super();ke(this,Nl,!0);ke(this,gi);ke(this,kl);xe(this,kl,e=>{if(!Lg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,gi)||this.setEventListener(B(this,kl))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,gi))==null||e.call(this),xe(this,gi,void 0))}setEventListener(e){var n;xe(this,kl,e),(n=B(this,gi))==null||n.call(this),xe(this,gi,e(this.setOnline.bind(this)))}setOnline(e){B(this,Nl)!==e&&(xe(this,Nl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Nl)}},Nl=new WeakMap,gi=new WeakMap,kl=new WeakMap,LA),xm=new az;function lz(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function cz(t){return Math.min(1e3*2**t,3e4)}function i2(t){return(t??"online")==="online"?xm.isOnline():!0}var o2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Dy(t){return t instanceof o2}function a2(t){let e=!1,n=0,r=!1,s;const i=lz(),o=w=>{var E;r||(f(new o2(w)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>s2.isFocused()&&(t.networkMode==="always"||xm.isOnline())&&t.canRun(),d=()=>i2(t.networkMode)&&t.canRun(),p=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),s==null||s(),i.resolve(w))},f=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var E;s=x=>{(r||u())&&w(x)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),y=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(p).catch(x=>{var M;if(r)return;const b=t.retry??(Lg?0:3),_=t.retryDelay??cz,C=typeof _=="function"?_(n,x):_,O=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(e||!O){f(x);return}n++,(M=t.onFail)==null||M.call(t,n,x),nz(C).then(()=>u()?void 0:m()).then(()=>{e?f(x):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),i)}}function uz(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ln=uz(),Vo,VA,l2=(VA=class{constructor(){ke(this,Vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Z6(this.gcTime)&&xe(this,Vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lg?1/0:5*60*1e3))}clearGcTimeout(){B(this,Vo)&&(clearTimeout(B(this,Vo)),xe(this,Vo,void 0))}},Vo=new WeakMap,VA),Ol,Dl,qn,Yt,eh,Fo,pr,ls,FA,dz=(FA=class extends l2{constructor(n){super();ke(this,pr);ke(this,Ol);ke(this,Dl);ke(this,qn);ke(this,Yt);ke(this,eh);ke(this,Fo);xe(this,Fo,!1),xe(this,eh,n.defaultOptions),this.setOptions(n.options),this.observers=[],xe(this,qn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,xe(this,Ol,fz(this.options)),this.state=n.state??B(this,Ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,Yt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,eh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,qn).remove(this)}setData(n,r){const s=rz(this.state.data,n,this.options);return Wt(this,pr,ls).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Wt(this,pr,ls).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,Yt))==null?void 0:s.promise;return(i=B(this,Yt))==null||i.cancel(n),r?r.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Ol))}isActive(){return this.observers.some(n=>tz(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===db||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!ez(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Yt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Yt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,qn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,Yt)&&(B(this,Fo)?B(this,Yt).cancel({revert:!0}):B(this,Yt).cancelRetry()),this.scheduleGc()),B(this,qn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wt(this,pr,ls).call(this,{type:"invalidate"})}fetch(n,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Yt))return B(this,Yt).continueRetry(),B(this,Yt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(xe(this,Fo,!0),s.signal)})},o=()=>{const f=r2(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),xe(this,Fo,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),xe(this,Dl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Wt(this,pr,ls).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var m,y,w,E;Dy(f)&&f.silent||Wt(this,pr,ls).call(this,{type:"error",error:f}),Dy(f)||((y=(m=B(this,qn).config).onError)==null||y.call(m,f,this),(E=(w=B(this,qn).config).onSettled)==null||E.call(w,this.state.data,f,this)),this.scheduleGc()};return xe(this,Yt,a2({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,y,w,E;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(y=(m=B(this,qn).config).onSuccess)==null||y.call(m,f,this),(E=(w=B(this,qn).config).onSettled)==null||E.call(w,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Wt(this,pr,ls).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Wt(this,pr,ls).call(this,{type:"pause"})},onContinue:()=>{Wt(this,pr,ls).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,Yt).start()}},Ol=new WeakMap,Dl=new WeakMap,qn=new WeakMap,Yt=new WeakMap,eh=new WeakMap,Fo=new WeakMap,pr=new WeakSet,ls=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...hz(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Dy(i)&&i.revert&&B(this,Dl)?{...B(this,Dl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,qn).notify({query:this,type:"updated",action:n})})},FA);function hz(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:i2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Lr,$A,pz=($A=class extends Mg{constructor(e={}){super();ke(this,Lr);this.config=e,xe(this,Lr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ub(s,n);let o=this.get(i);return o||(o=new dz({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,Lr).has(e.queryHash)||(B(this,Lr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Lr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Lr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Lr).get(e)}getAll(){return[...B(this,Lr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>US(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>US(e,r)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Lr=new WeakMap,$A),Vr,on,$o,Fr,ri,UA,mz=(UA=class extends l2{constructor(n){super();ke(this,Fr);ke(this,Vr);ke(this,on);ke(this,$o);this.mutationId=n.mutationId,xe(this,on,n.mutationCache),xe(this,Vr,[]),this.state=n.state||gz(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,Vr).includes(n)||(B(this,Vr).push(n),this.clearGcTimeout(),B(this,on).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){xe(this,Vr,B(this,Vr).filter(r=>r!==n)),this.scheduleGc(),B(this,on).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,Vr).length||(this.state.status==="pending"?this.scheduleGc():B(this,on).remove(this))}continue(){var n;return((n=B(this,$o))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,p,f,m,y,w,E,x,b,_,C,O,M,P,S;xe(this,$o,a2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,A)=>{Wt(this,Fr,ri).call(this,{type:"failed",failureCount:I,error:A})},onPause:()=>{Wt(this,Fr,ri).call(this,{type:"pause"})},onContinue:()=>{Wt(this,Fr,ri).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,on).canRun(this)}));const r=this.state.status==="pending",s=!B(this,$o).canStart();try{if(!r){Wt(this,Fr,ri).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=B(this,on).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&Wt(this,Fr,ri).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const I=await B(this,$o).start();return await((d=(u=B(this,on).config).onSuccess)==null?void 0:d.call(u,I,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,I,n,this.state.context)),await((y=(m=B(this,on).config).onSettled)==null?void 0:y.call(m,I,null,this.state.variables,this.state.context,this)),await((E=(w=this.options).onSettled)==null?void 0:E.call(w,I,null,n,this.state.context)),Wt(this,Fr,ri).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(x=B(this,on).config).onError)==null?void 0:b.call(x,I,n,this.state.context,this)),await((C=(_=this.options).onError)==null?void 0:C.call(_,I,n,this.state.context)),await((M=(O=B(this,on).config).onSettled)==null?void 0:M.call(O,void 0,I,this.state.variables,this.state.context,this)),await((S=(P=this.options).onSettled)==null?void 0:S.call(P,void 0,I,n,this.state.context)),I}finally{Wt(this,Fr,ri).call(this,{type:"error",error:I})}}finally{B(this,on).runNext(this)}}},Vr=new WeakMap,on=new WeakMap,$o=new WeakMap,Fr=new WeakSet,ri=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ln.batch(()=>{B(this,Vr).forEach(s=>{s.onMutationUpdate(n)}),B(this,on).notify({mutation:this,type:"updated",action:n})})},UA);function gz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rn,th,BA,vz=(BA=class extends Mg{constructor(e={}){super();ke(this,Rn);ke(this,th);this.config=e,xe(this,Rn,new Map),xe(this,th,Date.now())}build(e,n,r){const s=new mz({mutationCache:this,mutationId:++Kh(this,th)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=yf(e),r=B(this,Rn).get(n)??[];r.push(e),B(this,Rn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=yf(e);if(B(this,Rn).has(n)){const s=(r=B(this,Rn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?B(this,Rn).delete(n):B(this,Rn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=B(this,Rn).get(yf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=B(this,Rn).get(yf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,Rn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>BS(n,r))}findAll(e={}){return this.getAll().filter(n=>BS(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(hr))))}},Rn=new WeakMap,th=new WeakMap,BA);function yf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function qS(t){return{onFetch:(e,n)=>{var d,p,f,m,y;const r=e.options,s=(f=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const E=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},x=r2(e.options,e.fetchOptions),b=async(_,C,O)=>{if(w)return Promise.reject();if(C==null&&_.pages.length)return Promise.resolve(_);const M={queryKey:e.queryKey,pageParam:C,direction:O?"backward":"forward",meta:e.options.meta};E(M);const P=await x(M),{maxPages:S}=e.options,I=O?iz:sz;return{pages:I(_.pages,P,S),pageParams:I(_.pageParams,C,S)}};if(s&&i.length){const _=s==="backward",C=_?yz:WS,O={pages:i,pageParams:o},M=C(r,O);a=await b(O,M,_)}else{const _=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:WS(r,a);if(l>0&&C==null)break;a=await b(a,C),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function WS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function yz(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ct,vi,yi,jl,Ml,xi,Ll,Vl,zA,xz=(zA=class{constructor(t={}){ke(this,ct);ke(this,vi);ke(this,yi);ke(this,jl);ke(this,Ml);ke(this,xi);ke(this,Ll);ke(this,Vl);xe(this,ct,t.queryCache||new pz),xe(this,vi,t.mutationCache||new vz),xe(this,yi,t.defaultOptions||{}),xe(this,jl,new Map),xe(this,Ml,new Map),xe(this,xi,0)}mount(){Kh(this,xi)._++,B(this,xi)===1&&(xe(this,Ll,s2.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,ct).onFocus())})),xe(this,Vl,xm.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,ct).onOnline())})))}unmount(){var t,e;Kh(this,xi)._--,B(this,xi)===0&&((t=B(this,Ll))==null||t.call(this),xe(this,Ll,void 0),(e=B(this,Vl))==null||e.call(this),xe(this,Vl,void 0))}isFetching(t){return B(this,ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,vi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=B(this,ct).build(this,n);return t.revalidateIfStale&&r.isStaleByTime($S(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return B(this,ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,ct).get(r.queryHash),i=s==null?void 0:s.state.data,o=X6(e,i);if(o!==void 0)return B(this,ct).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>B(this,ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,ct);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,ct),r={type:"active",...t};return ln.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ln.batch(()=>B(this,ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hr).catch(hr)}invalidateQueries(t={},e={}){return ln.batch(()=>{if(B(this,ct).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ln.batch(()=>B(this,ct).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,ct).build(this,e);return n.isStaleByTime($S(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hr).catch(hr)}fetchInfiniteQuery(t){return t.behavior=qS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hr).catch(hr)}ensureInfiniteQueryData(t){return t.behavior=qS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return xm.isOnline()?B(this,vi).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,ct)}getMutationCache(){return B(this,vi)}getDefaultOptions(){return B(this,yi)}setDefaultOptions(t){xe(this,yi,t)}setQueryDefaults(t,e){B(this,jl).set(Od(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,jl).values()];let n={};return e.forEach(r=>{Dd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){B(this,Ml).set(Od(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Ml).values()];let n={};return e.forEach(r=>{Dd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,yi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ub(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===db&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,yi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,ct).clear(),B(this,vi).clear()}},ct=new WeakMap,vi=new WeakMap,yi=new WeakMap,jl=new WeakMap,Ml=new WeakMap,xi=new WeakMap,Ll=new WeakMap,Vl=new WeakMap,zA),wz=g.createContext(void 0),_z=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(wz.Provider,{value:t,children:e}));const HS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KS=Yk,lh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return KS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const f=HS(d)||HS(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[p,f]=d;return f===void 0||(u[p]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:f,...m}=d;return Object.entries(m).every(y=>{let[w,E]=y;return Array.isArray(E)?E.includes({...i,...a}[w]):{...i,...a}[w]===E})?[...u,p,f]:u},[]);return KS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},bz=lh("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#1DB954] text-black hover:bg-[#1ed760] hover:scale-105",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-white bg-transparent text-white hover:border-[#1DB954] hover:text-[#1DB954]",secondary:"bg-[#3E3E3E] text-white hover:bg-[#4f4f4f]",ghost:"hover:bg-[#282828] hover:text-white",link:"text-white underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3",lg:"h-11 rounded-full px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Jo:"button";return c.jsx(o,{className:se(bz({variant:e,size:n,className:t})),ref:i,...s})});ee.displayName="Button";function Ez(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:m,...y}=p,w=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(w.Provider,{value:E,children:m})}function d(p,f){const m=(f==null?void 0:f[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Tz(s,...e)]}function Tz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function hb(t){const e=t+"CollectionProvider",[n,r]=Ez(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:w}=m,E=H.useRef(null),x=H.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:x,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((m,y)=>{const{scope:w,children:E}=m,x=i(a,w),b=Ne(y,x.collectionRef);return c.jsx(Jo,{ref:b,children:E})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=H.forwardRef((m,y)=>{const{scope:w,children:E,...x}=m,b=H.useRef(null),_=Ne(y,b),C=i(u,w);return H.useEffect(()=>(C.itemMap.set(b,{ref:b,...x}),()=>void C.itemMap.delete(b))),c.jsx(Jo,{[d]:"",ref:_,children:E})});p.displayName=u;function f(m){const y=i(t+"CollectionConsumer",m);return H.useCallback(()=>{const E=y.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((C,O)=>x.indexOf(C.ref.current)-x.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}var Sz=g.createContext(void 0);function ch(t){const e=g.useContext(Sz);return t||e||"ltr"}var jy=0;function c2(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??QS()),document.body.insertAdjacentElement("beforeend",t[1]??QS()),jy++,()=>{jy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jy--}},[])}function QS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var My="focusScope.autoFocusOnMount",Ly="focusScope.autoFocusOnUnmount",YS={bubbles:!1,cancelable:!0},Pz="FocusScope",fb=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=St(s),d=St(i),p=g.useRef(null),f=Ne(e,w=>l(w)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(_){if(m.paused||!a)return;const C=_.target;a.contains(C)?p.current=C:si(p.current,{select:!0})},E=function(_){if(m.paused||!a)return;const C=_.relatedTarget;C!==null&&(a.contains(C)||si(p.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const O of _)O.removedNodes.length>0&&si(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const b=new MutationObserver(x);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),b.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){XS.add(m);const w=document.activeElement;if(!a.contains(w)){const x=new CustomEvent(My,YS);a.addEventListener(My,u),a.dispatchEvent(x),x.defaultPrevented||(Iz(kz(u2(a)),{select:!0}),document.activeElement===w&&si(a))}return()=>{a.removeEventListener(My,u),setTimeout(()=>{const x=new CustomEvent(Ly,YS);a.addEventListener(Ly,d),a.dispatchEvent(x),x.defaultPrevented||si(w??document.body,{select:!0}),a.removeEventListener(Ly,d),XS.remove(m)},0)}}},[a,u,d,m]);const y=g.useCallback(w=>{if(!n&&!r||m.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(E&&x){const b=w.currentTarget,[_,C]=Cz(b);_&&C?!w.shiftKey&&x===C?(w.preventDefault(),n&&si(_,{select:!0})):w.shiftKey&&x===_&&(w.preventDefault(),n&&si(C,{select:!0})):x===b&&w.preventDefault()}},[n,r,m.paused]);return c.jsx(ve.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});fb.displayName=Pz;function Iz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(si(r,{select:e}),document.activeElement!==n)return}function Cz(t){const e=u2(t),n=JS(e,t),r=JS(e.reverse(),t);return[n,r]}function u2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function JS(t,e){for(const n of t)if(!Az(n,{upTo:e}))return n}function Az(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rz(t){return t instanceof HTMLInputElement&&"select"in t}function si(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Rz(t)&&e&&t.select()}}var XS=Nz();function Nz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ZS(t,e),t.unshift(e)},remove(e){var n;t=ZS(t,e),(n=t[0])==null||n.resume()}}}function ZS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kz(t){return t.filter(e=>e.tagName!=="A")}function Oz(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:m,...y}=p,w=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(w.Provider,{value:E,children:m})}function d(p,f){const m=(f==null?void 0:f[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Dz(s,...e)]}function Dz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Vy="rovingFocusGroup.onEntryFocus",jz={bubbles:!1,cancelable:!0},Vg="RovingFocusGroup",[nw,d2,Mz]=hb(Vg),[Lz,Fg]=Oz(Vg,[Mz]),[Vz,Fz]=Lz(Vg),h2=g.forwardRef((t,e)=>c.jsx(nw.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(nw.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx($z,{...t,ref:e})})}));h2.displayName=Vg;var $z=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,f=g.useRef(null),m=Ne(e,f),y=ch(i),[w=null,E]=ya({prop:o,defaultProp:a,onChange:l}),[x,b]=g.useState(!1),_=St(u),C=d2(n),O=g.useRef(!1),[M,P]=g.useState(0);return g.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(Vy,_),()=>S.removeEventListener(Vy,_)},[_]),c.jsx(Vz,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:w,onItemFocus:g.useCallback(S=>E(S),[E]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>P(S=>S-1),[]),children:c.jsx(ve.div,{tabIndex:x||M===0?-1:0,"data-orientation":r,...p,ref:m,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{O.current=!0}),onFocus:ie(t.onFocus,S=>{const I=!O.current;if(S.target===S.currentTarget&&I&&!x){const A=new CustomEvent(Vy,jz);if(S.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=C().filter(ne=>ne.focusable),j=N.find(ne=>ne.active),k=N.find(ne=>ne.id===w),ue=[j,k,...N].filter(Boolean).map(ne=>ne.ref.current);m2(ue,d)}}O.current=!1}),onBlur:ie(t.onBlur,()=>b(!1))})})}),f2="RovingFocusGroupItem",p2=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Di(),l=i||a,u=Fz(f2,n),d=u.currentTabStopId===l,p=d2(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),c.jsx(nw.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(ve.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ie(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=zz(y,u.orientation,u.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=p().filter(b=>b.focusable).map(b=>b.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const b=x.indexOf(y.currentTarget);x=u.loop?Gz(x,b+1):x.slice(b+1)}setTimeout(()=>m2(x))}})})})});p2.displayName=f2;var Uz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zz(t,e,n){const r=Bz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Uz[r]}function m2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Gz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var g2=h2,v2=p2,qz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ra=new WeakMap,xf=new WeakMap,wf={},Fy=0,y2=function(t){return t&&(t.host||y2(t.parentNode))},Wz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=y2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Hz=function(t,e,n,r){var s=Wz(e,Array.isArray(t)?t:[t]);wf[n]||(wf[n]=new WeakMap);var i=wf[n],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),y=m!==null&&m!=="false",w=(Ra.get(f)||0)+1,E=(i.get(f)||0)+1;Ra.set(f,w),i.set(f,E),o.push(f),w===1&&y&&xf.set(f,!0),E===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),a.clear(),Fy++,function(){o.forEach(function(p){var f=Ra.get(p)-1,m=i.get(p)-1;Ra.set(p,f),i.set(p,m),f||(xf.has(p)||p.removeAttribute(r),xf.delete(p)),m||p.removeAttribute(n)}),Fy--,Fy||(Ra=new WeakMap,Ra=new WeakMap,xf=new WeakMap,wf={})}},x2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=qz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Hz(r,s,n,"aria-hidden")):function(){return null}},Br=function(){return Br=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Br.apply(this,arguments)};function uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Kz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var wp="right-scroll-bar-position",_p="width-before-scroll-bar",Qz="with-scroll-bars-hidden",Yz="--removed-body-scroll-bar-size";function $y(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Jz(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Xz=typeof window<"u"?g.useLayoutEffect:g.useEffect,eP=new WeakMap;function Zz(t,e){var n=Jz(null,function(r){return t.forEach(function(s){return $y(s,r)})});return Xz(function(){var r=eP.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||$y(a,null)}),i.forEach(function(a){s.has(a)||$y(a,o)})}eP.set(n,t)},[t]),n}function e9(t){return t}function t9(t,e){e===void 0&&(e=e9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function n9(t){t===void 0&&(t={});var e=t9(null);return e.options=Br({async:!0,ssr:!1},t),e}var w2=function(t){var e=t.sideCar,n=uh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Br({},n))};w2.isSideCarExport=!0;function r9(t,e){return t.useMedium(e),w2}var _2=n9(),Uy=function(){},$g=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Uy,onWheelCapture:Uy,onTouchMoveCapture:Uy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,f=t.sideCar,m=t.noIsolation,y=t.inert,w=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,b=t.gapMode,_=uh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,O=Zz([n,e]),M=Br(Br({},_),s);return g.createElement(g.Fragment,null,d&&g.createElement(C,{sideCar:_2,removeScrollBar:u,shards:p,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(a),Br(Br({},M),{ref:O})):g.createElement(x,Br({},M,{className:l,ref:O}),a))});$g.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$g.classNames={fullWidth:_p,zeroRight:wp};var s9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function i9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=s9();return e&&t.setAttribute("nonce",e),t}function o9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function a9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var l9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=i9())&&(o9(e,n),a9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},c9=function(){var t=l9();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},b2=function(){var t=c9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},u9={left:0,top:0,right:0,gap:0},By=function(t){return parseInt(t||"",10)||0},d9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[By(n),By(r),By(s)]},h9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return u9;var e=d9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},f9=b2(),El="data-scroll-locked",p9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Qz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(El,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_p,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wp," .").concat(wp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_p," .").concat(_p,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(El,`] {
    `).concat(Yz,": ").concat(a,`px;
  }
`)},tP=function(){var t=parseInt(document.body.getAttribute(El)||"0",10);return isFinite(t)?t:0},m9=function(){g.useEffect(function(){return document.body.setAttribute(El,(tP()+1).toString()),function(){var t=tP()-1;t<=0?document.body.removeAttribute(El):document.body.setAttribute(El,t.toString())}},[])},g9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;m9();var i=g.useMemo(function(){return h9(s)},[s]);return g.createElement(f9,{styles:p9(i,!e,s,n?"":"!important")})},rw=!1;if(typeof window<"u")try{var _f=Object.defineProperty({},"passive",{get:function(){return rw=!0,!0}});window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch{rw=!1}var Na=rw?{passive:!1}:!1,v9=function(t){return t.tagName==="TEXTAREA"},E2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!v9(t)&&n[e]==="visible")},y9=function(t){return E2(t,"overflowY")},x9=function(t){return E2(t,"overflowX")},nP=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=T2(t,r);if(s){var i=S2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},w9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},T2=function(t,e){return t==="v"?y9(e):x9(e)},S2=function(t,e){return t==="v"?w9(e):_9(e)},b9=function(t,e){return t==="h"&&e==="rtl"?-1:1},E9=function(t,e,n,r,s){var i=b9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,p=0,f=0;do{var m=S2(t,a),y=m[0],w=m[1],E=m[2],x=w-E-i*y;(y||x)&&T2(t,a)&&(p+=x,f+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},bf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rP=function(t){return[t.deltaX,t.deltaY]},sP=function(t){return t&&"current"in t?t.current:t},T9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},S9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},P9=0,ka=[];function I9(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(P9++)[0],i=g.useState(b2)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=Kz([t.lockRef.current],(t.shards||[]).map(sP),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var x=bf(w),b=n.current,_="deltaX"in w?w.deltaX:b[0]-x[0],C="deltaY"in w?w.deltaY:b[1]-x[1],O,M=w.target,P=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in w&&P==="h"&&M.type==="range")return!1;var S=nP(P,M);if(!S)return!0;if(S?O=P:(O=P==="v"?"h":"v",S=nP(P,M)),!S)return!1;if(!r.current&&"changedTouches"in w&&(_||C)&&(r.current=O),!O)return!0;var I=r.current||O;return E9(I,E,w,I==="h"?_:C,!0)},[]),l=g.useCallback(function(w){var E=w;if(!(!ka.length||ka[ka.length-1]!==i)){var x="deltaY"in E?rP(E):bf(E),b=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&T9(O.delta,x)})[0];if(b&&b.should){E.cancelable&&E.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(sP).filter(Boolean).filter(function(O){return O.contains(E.target)}),C=_.length>0?a(E,_[0]):!o.current.noIsolation;C&&E.cancelable&&E.preventDefault()}}},[]),u=g.useCallback(function(w,E,x,b){var _={name:w,delta:E,target:x,should:b,shadowParent:C9(x)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),d=g.useCallback(function(w){n.current=bf(w),r.current=void 0},[]),p=g.useCallback(function(w){u(w.type,rP(w),w.target,a(w,t.lockRef.current))},[]),f=g.useCallback(function(w){u(w.type,bf(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return ka.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Na),document.addEventListener("touchmove",l,Na),document.addEventListener("touchstart",d,Na),function(){ka=ka.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,Na),document.removeEventListener("touchmove",l,Na),document.removeEventListener("touchstart",d,Na)}},[]);var m=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(i,{styles:S9(s)}):null,m?g.createElement(g9,{gapMode:t.gapMode}):null)}function C9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const A9=r9(_2,I9);var pb=g.forwardRef(function(t,e){return g.createElement($g,Br({},t,{ref:e,sideCar:A9}))});pb.classNames=$g.classNames;var sw=["Enter"," "],R9=["ArrowDown","PageUp","Home"],P2=["ArrowUp","PageDown","End"],N9=[...R9,...P2],k9={ltr:[...sw,"ArrowRight"],rtl:[...sw,"ArrowLeft"]},O9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dh="Menu",[jd,D9,j9]=hb(dh),[xa,I2]=Ls(dh,[j9,Ng,Fg]),Ug=Ng(),C2=Fg(),[M9,wa]=xa(dh),[L9,hh]=xa(dh),A2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Ug(e),[l,u]=g.useState(null),d=g.useRef(!1),p=St(i),f=ch(s);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),c.jsx(Mk,{...a,children:c.jsx(M9,{scope:e,open:n,onOpenChange:p,content:l,onContentChange:u,children:c.jsx(L9,{scope:e,onClose:g.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};A2.displayName=dh;var V9="MenuAnchor",mb=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ug(n);return c.jsx(Lk,{...s,...r,ref:e})});mb.displayName=V9;var gb="MenuPortal",[F9,R2]=xa(gb,{forceMount:void 0}),N2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=wa(gb,e);return c.jsx(F9,{scope:e,forceMount:n,children:c.jsx(fn,{present:n||i.open,children:c.jsx(ab,{asChild:!0,container:s,children:r})})})};N2.displayName=gb;var Jn="MenuContent",[$9,vb]=xa(Jn),k2=g.forwardRef((t,e)=>{const n=R2(Jn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=wa(Jn,t.__scopeMenu),o=hh(Jn,t.__scopeMenu);return c.jsx(jd.Provider,{scope:t.__scopeMenu,children:c.jsx(fn,{present:r||i.open,children:c.jsx(jd.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(U9,{...s,ref:e}):c.jsx(B9,{...s,ref:e})})})})}),U9=g.forwardRef((t,e)=>{const n=wa(Jn,t.__scopeMenu),r=g.useRef(null),s=Ne(e,r);return g.useEffect(()=>{const i=r.current;if(i)return x2(i)},[]),c.jsx(yb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),B9=g.forwardRef((t,e)=>{const n=wa(Jn,t.__scopeMenu);return c.jsx(yb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yb=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:m,disableOutsideScroll:y,...w}=t,E=wa(Jn,n),x=hh(Jn,n),b=Ug(n),_=C2(n),C=D9(n),[O,M]=g.useState(null),P=g.useRef(null),S=Ne(e,P,E.onContentChange),I=g.useRef(0),A=g.useRef(""),N=g.useRef(0),j=g.useRef(null),k=g.useRef("right"),J=g.useRef(0),ue=y?pb:g.Fragment,ne=y?{as:Jo,allowPinchZoom:!0}:void 0,de=U=>{var Je,Cn;const K=A.current+U,Q=C().filter(vt=>!vt.disabled),re=document.activeElement,he=(Je=Q.find(vt=>vt.ref.current===re))==null?void 0:Je.textValue,Ue=Q.map(vt=>vt.textValue),st=e8(Ue,K,he),be=(Cn=Q.find(vt=>vt.textValue===st))==null?void 0:Cn.ref.current;(function vt(Bt){A.current=Bt,window.clearTimeout(I.current),Bt!==""&&(I.current=window.setTimeout(()=>vt(""),1e3))})(K),be&&setTimeout(()=>be.focus())};g.useEffect(()=>()=>window.clearTimeout(I.current),[]),c2();const F=g.useCallback(U=>{var Q,re;return k.current===((Q=j.current)==null?void 0:Q.side)&&n8(U,(re=j.current)==null?void 0:re.area)},[]);return c.jsx($9,{scope:n,searchRef:A,onItemEnter:g.useCallback(U=>{F(U)&&U.preventDefault()},[F]),onItemLeave:g.useCallback(U=>{var K;F(U)||((K=P.current)==null||K.focus(),M(null))},[F]),onTriggerLeave:g.useCallback(U=>{F(U)&&U.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:g.useCallback(U=>{j.current=U},[]),children:c.jsx(ue,{...ne,children:c.jsx(fb,{asChild:!0,trapped:s,onMountAutoFocus:ie(i,U=>{var K;U.preventDefault(),(K=P.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(Ig,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:f,onDismiss:m,children:c.jsx(g2,{asChild:!0,..._,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:M,onEntryFocus:ie(l,U=>{x.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Vk,{role:"menu","aria-orientation":"vertical","data-state":K2(E.open),"data-radix-menu-content":"",dir:x.dir,...b,...w,ref:S,style:{outline:"none",...w.style},onKeyDown:ie(w.onKeyDown,U=>{const Q=U.target.closest("[data-radix-menu-content]")===U.currentTarget,re=U.ctrlKey||U.altKey||U.metaKey,he=U.key.length===1;Q&&(U.key==="Tab"&&U.preventDefault(),!re&&he&&de(U.key));const Ue=P.current;if(U.target!==Ue||!N9.includes(U.key))return;U.preventDefault();const be=C().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);P2.includes(U.key)&&be.reverse(),X9(be)}),onBlur:ie(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(I.current),A.current="")}),onPointerMove:ie(t.onPointerMove,Md(U=>{const K=U.target,Q=J.current!==U.clientX;if(U.currentTarget.contains(K)&&Q){const re=U.clientX>J.current?"right":"left";k.current=re,J.current=U.clientX}}))})})})})})})});k2.displayName=Jn;var z9="MenuGroup",xb=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{role:"group",...r,ref:e})});xb.displayName=z9;var G9="MenuLabel",O2=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});O2.displayName=G9;var wm="MenuItem",iP="menu.itemSelect",Bg=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=hh(wm,t.__scopeMenu),a=vb(wm,t.__scopeMenu),l=Ne(e,i),u=g.useRef(!1),d=()=>{const p=i.current;if(!n&&p){const f=new CustomEvent(iP,{bubbles:!0,cancelable:!0});p.addEventListener(iP,m=>r==null?void 0:r(m),{once:!0}),mk(p,f),f.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(D2,{...s,ref:l,disabled:n,onClick:ie(t.onClick,d),onPointerDown:p=>{var f;(f=t.onPointerDown)==null||f.call(t,p),u.current=!0},onPointerUp:ie(t.onPointerUp,p=>{var f;u.current||(f=p.currentTarget)==null||f.click()}),onKeyDown:ie(t.onKeyDown,p=>{const f=a.searchRef.current!=="";n||f&&p.key===" "||sw.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Bg.displayName=wm;var D2=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=vb(wm,n),a=C2(n),l=g.useRef(null),u=Ne(e,l),[d,p]=g.useState(!1),[f,m]=g.useState("");return g.useEffect(()=>{const y=l.current;y&&m((y.textContent??"").trim())},[i.children]),c.jsx(jd.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:c.jsx(v2,{asChild:!0,...a,focusable:!r,children:c.jsx(ve.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ie(t.onPointerMove,Md(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,Md(y=>o.onItemLeave(y))),onFocus:ie(t.onFocus,()=>p(!0)),onBlur:ie(t.onBlur,()=>p(!1))})})})}),q9="MenuCheckboxItem",j2=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx($2,{scope:t.__scopeMenu,checked:n,children:c.jsx(Bg,{role:"menuitemcheckbox","aria-checked":_m(n)?"mixed":n,...s,ref:e,"data-state":_b(n),onSelect:ie(s.onSelect,()=>r==null?void 0:r(_m(n)?!0:!n),{checkForDefaultPrevented:!1})})})});j2.displayName=q9;var M2="MenuRadioGroup",[W9,H9]=xa(M2,{value:void 0,onValueChange:()=>{}}),L2=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=St(r);return c.jsx(W9,{scope:t.__scopeMenu,value:n,onValueChange:i,children:c.jsx(xb,{...s,ref:e})})});L2.displayName=M2;var V2="MenuRadioItem",F2=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=H9(V2,t.__scopeMenu),i=n===s.value;return c.jsx($2,{scope:t.__scopeMenu,checked:i,children:c.jsx(Bg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":_b(i),onSelect:ie(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});F2.displayName=V2;var wb="MenuItemIndicator",[$2,K9]=xa(wb,{checked:!1}),U2=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=K9(wb,n);return c.jsx(fn,{present:r||_m(i.checked)||i.checked===!0,children:c.jsx(ve.span,{...s,ref:e,"data-state":_b(i.checked)})})});U2.displayName=wb;var Q9="MenuSeparator",B2=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});B2.displayName=Q9;var Y9="MenuArrow",z2=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ug(n);return c.jsx(Fk,{...s,...r,ref:e})});z2.displayName=Y9;var J9="MenuSub",[ace,G2]=xa(J9),Du="MenuSubTrigger",q2=g.forwardRef((t,e)=>{const n=wa(Du,t.__scopeMenu),r=hh(Du,t.__scopeMenu),s=G2(Du,t.__scopeMenu),i=vb(Du,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),c.jsx(mb,{asChild:!0,...u,children:c.jsx(D2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":K2(n.open),...t,ref:Pg(e,s.onTriggerChange),onClick:p=>{var f;(f=t.onClick)==null||f.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,Md(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ie(t.onPointerLeave,Md(p=>{var m,y;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const w=(y=n.content)==null?void 0:y.dataset.side,E=w==="right",x=E?-5:5,b=f[E?"left":"right"],_=f[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+x,y:p.clientY},{x:b,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x:b,y:f.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,p=>{var m;const f=i.searchRef.current!=="";t.disabled||f&&p.key===" "||k9[r.dir].includes(p.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),p.preventDefault())})})})});q2.displayName=Du;var W2="MenuSubContent",H2=g.forwardRef((t,e)=>{const n=R2(Jn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=wa(Jn,t.__scopeMenu),o=hh(Jn,t.__scopeMenu),a=G2(W2,t.__scopeMenu),l=g.useRef(null),u=Ne(e,l);return c.jsx(jd.Provider,{scope:t.__scopeMenu,children:c.jsx(fn,{present:r||i.open,children:c.jsx(jd.Slot,{scope:t.__scopeMenu,children:c.jsx(yb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var p;o.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ie(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ie(t.onKeyDown,d=>{var m;const p=d.currentTarget.contains(d.target),f=O9[o.dir].includes(d.key);p&&f&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});H2.displayName=W2;function K2(t){return t?"open":"closed"}function _m(t){return t==="indeterminate"}function _b(t){return _m(t)?"indeterminate":t?"checked":"unchecked"}function X9(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Z9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function e8(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Z9(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function t8(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function n8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return t8(n,e)}function Md(t){return e=>e.pointerType==="mouse"?t(e):void 0}var r8=A2,s8=mb,i8=N2,o8=k2,a8=xb,l8=O2,c8=Bg,u8=j2,d8=L2,h8=F2,f8=U2,p8=B2,m8=z2,g8=q2,v8=H2,bb="DropdownMenu",[y8,lce]=Ls(bb,[I2]),pn=I2(),[x8,Q2]=y8(bb),Y2=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=pn(e),u=g.useRef(null),[d=!1,p]=ya({prop:s,defaultProp:i,onChange:o});return c.jsx(x8,{scope:e,triggerId:Di(),triggerRef:u,contentId:Di(),open:d,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(f=>!f),[p]),modal:a,children:c.jsx(r8,{...l,open:d,onOpenChange:p,dir:r,modal:a,children:n})})};Y2.displayName=bb;var J2="DropdownMenuTrigger",X2=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=Q2(J2,n),o=pn(n);return c.jsx(s8,{asChild:!0,...o,children:c.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Pg(e,i.triggerRef),onPointerDown:ie(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ie(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});X2.displayName=J2;var w8="DropdownMenuPortal",Z2=t=>{const{__scopeDropdownMenu:e,...n}=t,r=pn(e);return c.jsx(i8,{...r,...n})};Z2.displayName=w8;var eO="DropdownMenuContent",tO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Q2(eO,n),i=pn(n),o=g.useRef(!1);return c.jsx(o8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ie(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tO.displayName=eO;var _8="DropdownMenuGroup",b8=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(a8,{...s,...r,ref:e})});b8.displayName=_8;var E8="DropdownMenuLabel",nO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(l8,{...s,...r,ref:e})});nO.displayName=E8;var T8="DropdownMenuItem",rO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(c8,{...s,...r,ref:e})});rO.displayName=T8;var S8="DropdownMenuCheckboxItem",sO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(u8,{...s,...r,ref:e})});sO.displayName=S8;var P8="DropdownMenuRadioGroup",I8=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(d8,{...s,...r,ref:e})});I8.displayName=P8;var C8="DropdownMenuRadioItem",iO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(h8,{...s,...r,ref:e})});iO.displayName=C8;var A8="DropdownMenuItemIndicator",oO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(f8,{...s,...r,ref:e})});oO.displayName=A8;var R8="DropdownMenuSeparator",aO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(p8,{...s,...r,ref:e})});aO.displayName=R8;var N8="DropdownMenuArrow",k8=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(m8,{...s,...r,ref:e})});k8.displayName=N8;var O8="DropdownMenuSubTrigger",lO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(g8,{...s,...r,ref:e})});lO.displayName=O8;var D8="DropdownMenuSubContent",cO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(v8,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cO.displayName=D8;var j8=Y2,M8=X2,L8=Z2,uO=tO,dO=nO,hO=rO,fO=sO,pO=iO,mO=oO,gO=aO,vO=lO,yO=cO;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...F8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xO("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement($8,{ref:i,iconNode:e,className:xO(`lucide-${V8(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=te("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=te("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=te("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=te("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=te("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=te("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=te("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=te("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=te("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=te("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=te("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=te("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=te("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=te("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=te("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=te("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=te("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),EG=j8,TG=M8,SG=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>c.jsxs(vO,{ref:s,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,c.jsx(wO,{className:"ml-auto h-4 w-4"})]}));SG.displayName=vO.displayName;const PG=g.forwardRef(({className:t,...e},n)=>c.jsx(yO,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));PG.displayName=yO.displayName;const OO=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(L8,{children:c.jsx(uO,{ref:r,sideOffset:e,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));OO.displayName=uO.displayName;const ju=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(hO,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ju.displayName=hO.displayName;const IG=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>c.jsxs(fO,{ref:s,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(mO,{children:c.jsx(xc,{className:"h-4 w-4"})})}),e]}));IG.displayName=fO.displayName;const CG=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(pO,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(mO,{children:c.jsx(Q8,{className:"h-2 w-2 fill-current"})})}),e]}));CG.displayName=pO.displayName;const DO=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(dO,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));DO.displayName=dO.displayName;const iw=g.forwardRef(({className:t,...e},n)=>c.jsx(gO,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e}));iw.displayName=gO.displayName;var Cb="Avatar",[AG,cce]=Ls(Cb),[RG,jO]=AG(Cb),MO=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return c.jsx(RG,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(ve.span,{...r,ref:e})})});MO.displayName=Cb;var LO="AvatarImage",VO=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=jO(LO,n),a=NG(r,i.referrerPolicy),l=St(u=>{s(u),o.onImageLoadingStatusChange(u)});return Kr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ve.img,{...i,ref:e,src:r}):null});VO.displayName=LO;var FO="AvatarFallback",$O=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=jO(FO,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(ve.span,{...s,ref:e}):null});$O.displayName=FO;function NG(t,e){const[n,r]=g.useState("idle");return Kr(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var UO=MO,BO=VO,zO=$O;const Wg=g.forwardRef(({className:t,...e},n)=>c.jsx(UO,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Wg.displayName=UO.displayName;const Hg=g.forwardRef(({className:t,...e},n)=>c.jsx(BO,{ref:n,className:se("aspect-square h-full w-full",t),...e}));Hg.displayName=BO.displayName;const Kg=g.forwardRef(({className:t,...e},n)=>c.jsx(zO,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Kg.displayName=zO.displayName;var oP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},qO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[p],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new OG;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),p!==64){const y=u<<6&192|p;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DG=function(t){const e=GO(t);return qO.encodeByteArray(e,!0)},bm=function(t){return DG(t).replace(/\./g,"")},WO=function(t){try{return qO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=()=>jG().__FIREBASE_DEFAULTS__,LG=()=>{if(typeof process>"u"||typeof oP>"u")return;const t=oP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WO(t[1]);return e&&JSON.parse(e)},Qg=()=>{try{return MG()||LG()||VG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HO=t=>{var e,n;return(n=(e=Qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KO=t=>{const e=HO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QO=()=>{var t;return(t=Qg())===null||t===void 0?void 0:t.config},YO=t=>{var e;return(e=Qg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bm(JSON.stringify(n)),bm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $G(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function UG(){var t;const e=(t=Qg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GG(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZO(){return!UG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ab(){try{return typeof indexedDB=="object"}catch{return!1}}function eD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function qG(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WG,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_a.prototype.create)}}class _a{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?HG(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new rr(s,a,r)}}function HG(t,e){return t.replace(KG,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const KG=/\{\$([^}]+)}/g;function QG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(aP(i)&&aP(o)){if(!Vd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function aP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Lu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YG(t,e){const n=new JG(t,e);return n.subscribe.bind(n)}class JG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XG(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zy),s.error===void 0&&(s.error=zy),s.complete===void 0&&(s.complete=zy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG=1e3,eq=2,tq=4*60*60*1e3,nq=.5;function lP(t,e=ZG,n=eq){const r=e*Math.pow(n,t),s=Math.round(nq*r*(Math.random()-.5)*2);return Math.min(tq,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iq(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sq(t){return t===So?void 0:t}function iq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const aq={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},lq=Se.INFO,cq={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},uq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=lq,this._logHandler=uq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const dq=(t,e)=>e.some(n=>t instanceof n);let cP,uP;function hq(){return cP||(cP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fq(){return uP||(uP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tD=new WeakMap,ow=new WeakMap,nD=new WeakMap,Gy=new WeakMap,Rb=new WeakMap;function pq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ji(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tD.set(n,t)}).catch(()=>{}),Rb.set(e,t),e}function mq(t){if(ow.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ow.set(t,e)}let aw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ow.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gq(t){aw=t(aw)}function vq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qy(this),e,...n);return nD.set(r,e.sort?e.sort():[e]),ji(r)}:fq().includes(t)?function(...e){return t.apply(qy(this),e),ji(tD.get(this))}:function(...e){return ji(t.apply(qy(this),e))}}function yq(t){return typeof t=="function"?vq(t):(t instanceof IDBTransaction&&mq(t),dq(t,hq())?new Proxy(t,aw):t)}function ji(t){if(t instanceof IDBRequest)return pq(t);if(Gy.has(t))return Gy.get(t);const e=yq(t);return e!==t&&(Gy.set(t,e),Rb.set(e,t)),e}const qy=t=>Rb.get(t);function rD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xq=["get","getKey","getAll","getAllKeys","count"],wq=["put","add","delete","clear"],Wy=new Map;function dP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wy.get(e))return Wy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xq.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Wy.set(e,i),i}gq(t=>({...t,get:(e,n,r)=>dP(e,n)||t.get(e,n,r),has:(e,n)=>!!dP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lw="@firebase/app",hP="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Yg("@firebase/app"),Eq="@firebase/app-compat",Tq="@firebase/analytics-compat",Sq="@firebase/analytics",Pq="@firebase/app-check-compat",Iq="@firebase/app-check",Cq="@firebase/auth",Aq="@firebase/auth-compat",Rq="@firebase/database",Nq="@firebase/data-connect",kq="@firebase/database-compat",Oq="@firebase/functions",Dq="@firebase/functions-compat",jq="@firebase/installations",Mq="@firebase/installations-compat",Lq="@firebase/messaging",Vq="@firebase/messaging-compat",Fq="@firebase/performance",$q="@firebase/performance-compat",Uq="@firebase/remote-config",Bq="@firebase/remote-config-compat",zq="@firebase/storage",Gq="@firebase/storage-compat",qq="@firebase/firestore",Wq="@firebase/vertexai",Hq="@firebase/firestore-compat",Kq="firebase",Qq="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="[DEFAULT]",Yq={[lw]:"fire-core",[Eq]:"fire-core-compat",[Sq]:"fire-analytics",[Tq]:"fire-analytics-compat",[Iq]:"fire-app-check",[Pq]:"fire-app-check-compat",[Cq]:"fire-auth",[Aq]:"fire-auth-compat",[Rq]:"fire-rtdb",[Nq]:"fire-data-connect",[kq]:"fire-rtdb-compat",[Oq]:"fire-fn",[Dq]:"fire-fn-compat",[jq]:"fire-iid",[Mq]:"fire-iid-compat",[Lq]:"fire-fcm",[Vq]:"fire-fcm-compat",[Fq]:"fire-perf",[$q]:"fire-perf-compat",[Uq]:"fire-rc",[Bq]:"fire-rc-compat",[zq]:"fire-gcs",[Gq]:"fire-gcs-compat",[qq]:"fire-fst",[Hq]:"fire-fst-compat",[Wq]:"fire-vertex","fire-js":"fire-js",[Kq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new Map,Jq=new Map,uw=new Map;function fP(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(uw.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;uw.set(e,t);for(const n of Em.values())fP(n,t);for(const n of Jq.values())fP(n,t);return!0}function no(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new _a("app","Firebase",Xq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=Qq;function sD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cw,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(n||(n=QO()),!n)throw Mi.create("no-options");const i=Em.get(s);if(i){if(Vd(n,i.options)&&Vd(r,i.config))return i;throw Mi.create("duplicate-app",{appName:s})}const o=new oq(s);for(const l of uw.values())o.addComponent(l);const a=new Zq(n,r,o);return Em.set(s,a),a}function Jg(t=cw){const e=Em.get(t);if(!e&&t===cw&&QO())return sD();if(!e)throw Mi.create("no-app",{appName:t});return e}function Sn(t,e,n){var r;let s=(r=Yq[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(a.join(" "));return}Sr(new er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="firebase-heartbeat-database",tW=1,Fd="firebase-heartbeat-store";let Hy=null;function iD(){return Hy||(Hy=rD(eW,tW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Hy}async function nW(t){try{const n=(await iD()).transaction(Fd),r=await n.objectStore(Fd).get(oD(t));return await n.done,r}catch(e){if(e instanceof rr)Ns.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(n.message)}}}async function pP(t,e){try{const r=(await iD()).transaction(Fd,"readwrite");await r.objectStore(Fd).put(e,oD(t)),await r.done}catch(n){if(n instanceof rr)Ns.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(r.message)}}}function oD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=1024,sW=30*24*60*60*1e3;class iW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=sW}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mP(),{heartbeatsToSend:r,unsentEntries:s}=oW(this._heartbeatsCache.heartbeats),i=bm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ns.warn(n),""}}}function mP(){return new Date().toISOString().substring(0,10)}function oW(t,e=rW){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),gP(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),gP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ab()?eD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return pP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return pP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gP(t){return bm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t){Sr(new er("platform-logger",e=>new _q(e),"PRIVATE")),Sr(new er("heartbeat",e=>new iW(e),"PRIVATE")),Sn(lw,hP,t),Sn(lw,hP,"esm2017"),Sn("fire-js","")}lW("");var cW="firebase",uW="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(cW,uW,"app");function aD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dW=aD,lD=new _a("auth","Firebase",aD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new Yg("@firebase/auth");function hW(t,...e){Tm.logLevel<=Se.WARN&&Tm.warn(`Auth (${ba}): ${t}`,...e)}function bp(t,...e){Tm.logLevel<=Se.ERROR&&Tm.error(`Auth (${ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw kb(t,...e)}function _r(t,...e){return kb(t,...e)}function Nb(t,e,n){const r=Object.assign(Object.assign({},dW()),{[e]:n});return new _a("auth","Firebase",r).create(e,{appName:t.name})}function bs(t){return Nb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&tr(t,"argument-error"),Nb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lD.create(t,...e)}function fe(t,e,...n){if(!t)throw kb(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bp(e),new Error(e)}function ks(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pW(){return vP()==="http:"||vP()==="https:"}function vP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pW()||XO()||"connection"in navigator)?navigator.onLine:!0}function gW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=$G()||zG()}get(){return mW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=new ph(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function so(t,e,n,r,s={}){return uD(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return BG()||(u.referrerPolicy="no-referrer"),cD.fetch()(dD(t,t.config.apiHost,n,a),u)})}async function uD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vW),e);try{const s=new wW(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ef(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ef(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Nb(t,d,u);tr(t,d)}}catch(s){if(s instanceof rr)throw s;tr(t,"network-request-failed",{message:String(s)})}}async function mh(t,e,n,r,s={}){const i=await so(t,e,n,r,s);return"mfaPendingCredential"in i&&tr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function dD(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ob(t.config,s):`${t.config.apiScheme}://${s}`}function xW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),yW.get())})}}function Ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=_r(t,e,r);return s.customData._tokenResponse=n,s}function yP(t){return t!==void 0&&t.enterprise!==void 0}class _W{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bW(t,e){return so(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EW(t,e){return so(t,"POST","/v1/accounts:delete",e)}async function hD(t,e){return so(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TW(t,e=!1){const n=jt(t),r=await n.getIdToken(e),s=Db(r);fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ju(Ky(s.auth_time)),issuedAtTime:Ju(Ky(s.iat)),expirationTime:Ju(Ky(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ky(t){return Number(t)*1e3}function Db(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bp("JWT malformed, contained fewer than 3 sections"),null;try{const s=WO(n);return s?JSON.parse(s):(bp("Failed to decode base64 JWT payload"),null)}catch(s){return bp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xP(t){const e=Db(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&SW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await $d(t,hD(n,{idToken:r}));fe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?fD(i.providerUserInfo):[],a=CW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function IW(t){const e=jt(t);await Sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CW(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fD(t){return t.map(e=>{var{providerId:n}=e,r=uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AW(t,e){const n=await uD(t,{},async()=>{const r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=dD(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RW(t,e){return so(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=xP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await AW(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Sl;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(fe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(fe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $d(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TW(this,e)}reload(){return IW(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await $d(this,EW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:C,isAnonymous:O,providerData:M,stsTokenManager:P}=n;fe(_&&P,e,"internal-error");const S=Sl.fromJSON(this.name,P);fe(typeof _=="string",e,"internal-error"),Ys(p,e.name),Ys(f,e.name),fe(typeof C=="boolean",e,"internal-error"),fe(typeof O=="boolean",e,"internal-error"),Ys(m,e.name),Ys(y,e.name),Ys(w,e.name),Ys(E,e.name),Ys(x,e.name),Ys(b,e.name);const I=new ys({uid:_,auth:e,email:f,emailVerified:C,displayName:p,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:S,createdAt:x,lastLoginAt:b});return M&&Array.isArray(M)&&(I.providerData=M.map(A=>Object.assign({},A))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Sl;s.updateFromServerResponse(n);const i=new ys({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];fe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?fD(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Sl;a.updateFromIdToken(r);const l=new ys({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new hw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Map;function xs(t){ks(t instanceof Function,"Expected a class definition");let e=wP.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pD.type="NONE";const _P=pD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ep(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ep("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(xs(_P),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||xs(_P);const o=Ep(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const p=ys._fromJSON(e,d);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Pl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Pl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wD(e))return"Blackberry";if(_D(e))return"Webos";if(gD(e))return"Safari";if((e.includes("chrome/")||vD(e))&&!e.includes("edge/"))return"Chrome";if(xD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mD(t=It()){return/firefox\//i.test(t)}function gD(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vD(t=It()){return/crios\//i.test(t)}function yD(t=It()){return/iemobile/i.test(t)}function xD(t=It()){return/android/i.test(t)}function wD(t=It()){return/blackberry/i.test(t)}function _D(t=It()){return/webos/i.test(t)}function jb(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NW(t=It()){var e;return jb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kW(){return GG()&&document.documentMode===10}function bD(t=It()){return jb(t)||xD(t)||_D(t)||wD(t)||/windows phone/i.test(t)||yD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e=[]){let n;switch(t){case"Browser":n=bP(It());break;case"Worker":n=`${bP(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DW(t,e={}){return so(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=6;class MW{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EP(this),this.idTokenSubscription=new EP(this),this.beforeStateQueue=new OW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hD(this,{idToken:e}),r=await ys._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(bs(this));const n=e?jt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DW(this),n=new MW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _a("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ED(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function io(t){return jt(t)}let EP=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YG(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VW(t){Xg=t}function TD(t){return Xg.loadJS(t)}function FW(){return Xg.recaptchaEnterpriseScript}function $W(){return Xg.gapiScript}function UW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class BW{constructor(){this.enterprise=new zW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GW="recaptcha-enterprise",SD="NO_RECAPTCHA";class qW{constructor(e){this.type=GW,this.auth=io(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{bW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _W(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;yP(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(SD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BW().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&yP(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=FW();l.length!==0&&(l+=a),TD(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function TP(t,e,n,r=!1,s=!1){const i=new qW(t);let o;if(s)o=SD;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fw(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await TP(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await TP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t,e){const n=no(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vd(i,e??{}))return s;tr(s,"already-initialized")}return n.initialize({options:e})}function HW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KW(t,e,n){const r=io(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=PD(e),{host:o,port:a}=QW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),YW()}function PD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QW(t){const e=PD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:SP(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:SP(o)}}}function SP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function JW(t,e){return so(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(t,e){return mh(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function eH(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Mb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ud(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ud(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fw(e,n,"signInWithPassword",XW);case"emailLink":return ZW(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fw(e,r,"signUpPassword",JW);case"emailLink":return eH(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return mh(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH="http://localhost";class ea extends Mb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=uh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ea(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Il(e,n)}buildRequest(){const e={requestUri:tH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rH(t){const e=Mu(Lu(t)).link,n=e?Mu(Lu(e)).deep_link_id:null,r=Mu(Lu(t)).deep_link_id;return(r?Mu(Lu(r)).link:null)||r||n||e||t}class Lb{constructor(e){var n,r,s,i,o,a;const l=Mu(Lu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,p=nH((s=l.mode)!==null&&s!==void 0?s:null);fe(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rH(e);try{return new Lb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.providerId=wc.PROVIDER_ID}static credential(e,n){return Ud._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lb.parseLink(n);return fe(r,"argument-error"),Ud._fromEmailAndCode(e,r.code,r.tenantId)}}wc.PROVIDER_ID="password";wc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Vb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends gh{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends gh{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends gh{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sH(t,e){return mh(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ys._fromIdTokenResponse(e,r,s),o=PP(r);return new ta({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=PP(r);return new ta({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function PP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends rr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pm(e,n,r,s)}}function ID(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Pm._fromErrorAndOperation(t,i,e,r):i})}async function iH(t,e,n=!1){const r=await $d(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e,n=!1){const{auth:r}=t;if(vr(r.app))return Promise.reject(bs(r));const s="reauthenticate";try{const i=await $d(t,ID(r,s,e,t),n);fe(i.idToken,r,"internal-error");const o=Db(i.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),ta._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e,n=!1){if(vr(t.app))return Promise.reject(bs(t));const r="signIn",s=await ID(t,r,e),i=await ta._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function aH(t,e){return CD(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lH(t,e,n){if(vr(t.app))return Promise.reject(bs(t));const r=io(t),o=await fw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AD(t),l}),a=await ta._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cH(t,e,n){return vr(t.app)?Promise.reject(bs(t)):aH(jt(t),wc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AD(t),r})}function uH(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function dH(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}const Im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Im,"1"),this.storage.removeItem(Im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=1e3,fH=10;class ND extends RD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);kW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ND.type="LOCAL";const pH=ND;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD extends RD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kD.type="SESSION";const OD=kD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Zg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await mH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Fb("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function vH(t){Hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function yH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wH(){return DD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebaseLocalStorageDb",_H=1,Cm="firebaseLocalStorage",MD="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ev(t,e){return t.transaction([Cm],e?"readwrite":"readonly").objectStore(Cm)}function bH(){const t=indexedDB.deleteDatabase(jD);return new vh(t).toPromise()}function pw(){const t=indexedDB.open(jD,_H);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cm,{keyPath:MD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cm)?e(r):(r.close(),await bH(),e(await pw()))})})}async function IP(t,e,n){const r=ev(t,!0).put({[MD]:e,value:n});return new vh(r).toPromise()}async function EH(t,e){const n=ev(t,!1).get(e),r=await new vh(n).toPromise();return r===void 0?null:r.value}function CP(t,e){const n=ev(t,!0).delete(e);return new vh(n).toPromise()}const TH=800,SH=3;class LD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zg._getInstance(wH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yH(),!this.activeServiceWorker)return;this.sender=new gH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pw();return await IP(e,Im,"1"),await CP(e,Im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ev(s,!1).getAll();return new vh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LD.type="LOCAL";const PH=LD;new ph(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e){return e?xs(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends Mb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IH(t){return CD(t.auth,new $b(t),t.bypassAuthState)}function CH(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),oH(n,new $b(t),t.bypassAuthState)}async function AH(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),iH(n,new $b(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IH;case"linkViaPopup":case"linkViaRedirect":return AH;case"reauthViaPopup":case"reauthViaRedirect":return CH;default:tr(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new ph(2e3,1e4);async function NH(t,e,n){if(vr(t.app))return Promise.reject(_r(t,"operation-not-supported-in-this-environment"));const r=io(t);fW(t,e,Vb);const s=VD(r,n);return new jo(r,"signInViaPopup",e,s).executeNotNull()}class jo extends FD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=Fb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RH.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="pendingRedirect",Tp=new Map;class OH extends FD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tp.get(this.auth._key());if(!e){try{const r=await DH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tp.set(this.auth._key(),e)}return this.bypassAuthState||Tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DH(t,e){const n=LH(e),r=MH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jH(t,e){Tp.set(t._key(),e)}function MH(t){return xs(t._redirectPersistence)}function LH(t){return Ep(kH,t.config.apiKey,t.name)}async function VH(t,e,n=!1){if(vr(t.app))return Promise.reject(bs(t));const r=io(t),s=VD(r,e),o=await new OH(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=10*60*1e3;class $H{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$D(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_r(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FH&&this.cachedEventUids.clear(),this.cachedEventUids.has(AP(e))}saveEventToCache(e){this.cachedEventUids.add(AP(e)),this.lastProcessedEventTime=Date.now()}}function AP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $D({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $D(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BH(t,e={}){return so(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GH=/^https?/;async function qH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BH(t);for(const n of e)try{if(WH(n))return}catch{}tr(t,"unauthorized-domain")}function WH(t){const e=dw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GH.test(n))return!1;if(zH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new ph(3e4,6e4);function RP(){const t=Hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KH(t){return new Promise((e,n)=>{var r,s,i;function o(){RP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RP(),n(_r(t,"network-request-failed"))},timeout:HH.get()})}if(!((s=(r=Hr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Hr().gapi)===null||i===void 0)&&i.load)o();else{const a=UW("iframefcb");return Hr()[a]=()=>{gapi.load?o():n(_r(t,"network-request-failed"))},TD(`${$W()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sp=null,e})}let Sp=null;function QH(t){return Sp=Sp||KH(t),Sp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=new ph(5e3,15e3),JH="__/auth/iframe",XH="emulator/auth/iframe",ZH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t7(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ob(e,XH):`https://${t.config.authDomain}/${JH}`,r={apiKey:e.apiKey,appName:t.name,v:ba},s=e7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fh(r).slice(1)}`}async function n7(t){const e=await QH(t),n=Hr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:t7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=_r(t,"network-request-failed"),a=Hr().setTimeout(()=>{i(o)},YH.get());function l(){Hr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s7=500,i7=600,o7="_blank",a7="http://localhost";class NP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l7(t,e,n,r=s7,s=i7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},r7),{width:r.toString(),height:s.toString(),top:i,left:o}),u=It().toLowerCase();n&&(a=vD(u)?o7:n),mD(u)&&(e=e||a7,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(NW(u)&&a!=="_self")return c7(e||"",a),new NP(null);const p=window.open(e||"",a,d);fe(p,t,"popup-blocked");try{p.focus()}catch{}return new NP(p)}function c7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="__/auth/handler",d7="emulator/auth/handler",h7=encodeURIComponent("fac");async function kP(t,e,n,r,s,i){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ba,eventId:s};if(e instanceof Vb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QG(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof gh){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${h7}=${encodeURIComponent(l)}`:"";return`${f7(t)}?${fh(a).slice(1)}${u}`}function f7({config:t}){return t.emulator?Ob(t,d7):`https://${t.authDomain}/${u7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="webStorageSupport";class p7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OD,this._completeRedirectFn=VH,this._overrideRedirectResult=jH}async _openPopup(e,n,r,s){var i;ks((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await kP(e,n,r,dw(),s);return l7(e,o,Fb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await kP(e,n,r,dw(),s);return vH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ks(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n7(e),r=new $H(e);return n.register("authEvent",s=>(fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qy,{type:Qy},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Qy];o!==void 0&&n(!!o),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bD()||gD()||jb()}}const m7=p7;var OP="@firebase/auth",DP="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y7(t){Sr(new er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ED(t)},u=new LW(r,s,i,l);return HW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new er("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(r=>new g7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(OP,DP,v7(t)),Sn(OP,DP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=5*60,w7=YO("authIdTokenMaxAge")||x7;let jP=null;const _7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w7)return;const s=n==null?void 0:n.token;jP!==s&&(jP=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function b7(t=Jg()){const e=no(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WW(t,{popupRedirectResolver:m7,persistence:[PH,pH,OD]}),r=YO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=_7(i.toString());dH(n,o,()=>o(n.currentUser)),uH(n,a=>o(a))}}const s=HO("auth");return s&&KW(n,`http://${s}`),n}function E7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=_r("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",E7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y7("Browser");var MP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,UD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function I(){}I.prototype=S.prototype,P.D=S.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(A,N,j){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return S.prototype[N].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,S,I){I||(I=0);var A=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)A[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;16>N;++N)A[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=P.g[0],I=P.g[1],N=P.g[2];var j=P.g[3],k=S+(j^I&(N^j))+A[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=j+(N^S&(I^N))+A[1]+3905402710&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(I^j&(S^I))+A[2]+606105819&4294967295,N=j+(k<<17&4294967295|k>>>15),k=I+(S^N&(j^S))+A[3]+3250441966&4294967295,I=N+(k<<22&4294967295|k>>>10),k=S+(j^I&(N^j))+A[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(N^S&(I^N))+A[5]+1200080426&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(I^j&(S^I))+A[6]+2821735955&4294967295,N=j+(k<<17&4294967295|k>>>15),k=I+(S^N&(j^S))+A[7]+4249261313&4294967295,I=N+(k<<22&4294967295|k>>>10),k=S+(j^I&(N^j))+A[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(N^S&(I^N))+A[9]+2336552879&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(I^j&(S^I))+A[10]+4294925233&4294967295,N=j+(k<<17&4294967295|k>>>15),k=I+(S^N&(j^S))+A[11]+2304563134&4294967295,I=N+(k<<22&4294967295|k>>>10),k=S+(j^I&(N^j))+A[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(N^S&(I^N))+A[13]+4254626195&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(I^j&(S^I))+A[14]+2792965006&4294967295,N=j+(k<<17&4294967295|k>>>15),k=I+(S^N&(j^S))+A[15]+1236535329&4294967295,I=N+(k<<22&4294967295|k>>>10),k=S+(N^j&(I^N))+A[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^N&(S^I))+A[6]+3225465664&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^I&(j^S))+A[11]+643717713&4294967295,N=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(N^j))+A[0]+3921069994&4294967295,I=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(I^N))+A[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^N&(S^I))+A[10]+38016083&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^I&(j^S))+A[15]+3634488961&4294967295,N=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(N^j))+A[4]+3889429448&4294967295,I=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(I^N))+A[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^N&(S^I))+A[14]+3275163606&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^I&(j^S))+A[3]+4107603335&4294967295,N=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(N^j))+A[8]+1163531501&4294967295,I=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(I^N))+A[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^N&(S^I))+A[2]+4243563512&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^I&(j^S))+A[7]+1735328473&4294967295,N=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(N^j))+A[12]+2368359562&4294967295,I=N+(k<<20&4294967295|k>>>12),k=S+(I^N^j)+A[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^N)+A[8]+2272392833&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^I)+A[11]+1839030562&4294967295,N=j+(k<<16&4294967295|k>>>16),k=I+(N^j^S)+A[14]+4259657740&4294967295,I=N+(k<<23&4294967295|k>>>9),k=S+(I^N^j)+A[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^N)+A[4]+1272893353&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^I)+A[7]+4139469664&4294967295,N=j+(k<<16&4294967295|k>>>16),k=I+(N^j^S)+A[10]+3200236656&4294967295,I=N+(k<<23&4294967295|k>>>9),k=S+(I^N^j)+A[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^N)+A[0]+3936430074&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^I)+A[3]+3572445317&4294967295,N=j+(k<<16&4294967295|k>>>16),k=I+(N^j^S)+A[6]+76029189&4294967295,I=N+(k<<23&4294967295|k>>>9),k=S+(I^N^j)+A[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^N)+A[12]+3873151461&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^I)+A[15]+530742520&4294967295,N=j+(k<<16&4294967295|k>>>16),k=I+(N^j^S)+A[2]+3299628645&4294967295,I=N+(k<<23&4294967295|k>>>9),k=S+(N^(I|~j))+A[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~N))+A[7]+1126891415&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~I))+A[14]+2878612391&4294967295,N=j+(k<<15&4294967295|k>>>17),k=I+(j^(N|~S))+A[5]+4237533241&4294967295,I=N+(k<<21&4294967295|k>>>11),k=S+(N^(I|~j))+A[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~N))+A[3]+2399980690&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~I))+A[10]+4293915773&4294967295,N=j+(k<<15&4294967295|k>>>17),k=I+(j^(N|~S))+A[1]+2240044497&4294967295,I=N+(k<<21&4294967295|k>>>11),k=S+(N^(I|~j))+A[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~N))+A[15]+4264355552&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~I))+A[6]+2734768916&4294967295,N=j+(k<<15&4294967295|k>>>17),k=I+(j^(N|~S))+A[13]+1309151649&4294967295,I=N+(k<<21&4294967295|k>>>11),k=S+(N^(I|~j))+A[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~N))+A[11]+3174756917&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~I))+A[2]+718787259&4294967295,N=j+(k<<15&4294967295|k>>>17),k=I+(j^(N|~S))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+j&4294967295}r.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var I=S-this.blockSize,A=this.B,N=this.h,j=0;j<S;){if(N==0)for(;j<=I;)s(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<S;)if(A[N++]=P.charCodeAt(j++),N==this.blockSize){s(this,A),N=0;break}}else for(;j<S;)if(A[N++]=P[j++],N==this.blockSize){s(this,A),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var I=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=I&255,I/=256;for(this.u(P),P=Array(16),S=I=0;4>S;++S)for(var A=0;32>A;A+=8)P[I++]=this.g[S]>>>A&255;return P};function i(P,S){var I=a;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=S(P)}function o(P,S){this.h=S;for(var I=[],A=!0,N=P.length-1;0<=N;N--){var j=P[N]|0;A&&j==S||(I[N]=j,A=!1)}this.g=I}var a={};function l(P){return-128<=P&&128>P?i(P,function(S){return new o([S|0],0>S?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return E(u(-P));for(var S=[],I=1,A=0;P>=I;A++)S[A]=P/I|0,I*=4294967296;return new o(S,0)}function d(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return E(d(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),A=p,N=0;N<P.length;N+=8){var j=Math.min(8,P.length-N),k=parseInt(P.substring(N,N+j),S);8>j?(j=u(Math.pow(S,j)),A=A.j(j).add(u(k))):(A=A.j(I),A=A.add(u(k)))}return A}var p=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var P=0,S=1,I=0;I<this.g.length;I++){var A=this.i(I);P+=(0<=A?A:4294967296+A)*S,S*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(w(this))return"-"+E(this).toString(P);for(var S=u(Math.pow(P,6)),I=this,A="";;){var N=C(I,S).g;I=x(I,N.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=N,y(I))return j+A;for(;6>j.length;)j="0"+j;A=j+A}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=x(this,P),w(P)?-1:y(P)?0:1};function E(P){for(var S=P.g.length,I=[],A=0;A<S;A++)I[A]=~P.g[A];return new o(I,~P.h).add(f)}t.abs=function(){return w(this)?E(this):this},t.add=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],A=0,N=0;N<=S;N++){var j=A+(this.i(N)&65535)+(P.i(N)&65535),k=(j>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);A=k>>>16,j&=65535,k&=65535,I[N]=k<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(P,S){return P.add(E(S))}t.j=function(P){if(y(this)||y(P))return p;if(w(this))return w(P)?E(this).j(E(P)):E(E(this).j(P));if(w(P))return E(this.j(E(P)));if(0>this.l(m)&&0>P.l(m))return u(this.m()*P.m());for(var S=this.g.length+P.g.length,I=[],A=0;A<2*S;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<P.g.length;N++){var j=this.i(A)>>>16,k=this.i(A)&65535,J=P.i(N)>>>16,ue=P.i(N)&65535;I[2*A+2*N]+=k*ue,b(I,2*A+2*N),I[2*A+2*N+1]+=j*ue,b(I,2*A+2*N+1),I[2*A+2*N+1]+=k*J,b(I,2*A+2*N+1),I[2*A+2*N+2]+=j*J,b(I,2*A+2*N+2)}for(A=0;A<S;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=S;A<2*S;A++)I[A]=0;return new o(I,0)};function b(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function _(P,S){this.g=P,this.h=S}function C(P,S){if(y(S))throw Error("division by zero");if(y(P))return new _(p,p);if(w(P))return S=C(E(P),S),new _(E(S.g),E(S.h));if(w(S))return S=C(P,E(S)),new _(E(S.g),S.h);if(30<P.g.length){if(w(P)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var I=f,A=S;0>=A.l(P);)I=O(I),A=O(A);var N=M(I,1),j=M(A,1);for(A=M(A,2),I=M(I,2);!y(A);){var k=j.add(A);0>=k.l(P)&&(N=N.add(I),j=k),A=M(A,1),I=M(I,1)}return S=x(P,N.j(S)),new _(N,S)}for(N=p;0<=P.l(S);){for(I=Math.max(1,Math.floor(P.m()/S.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),j=u(I),k=j.j(S);w(k)||0<k.l(P);)I-=A,j=u(I),k=j.j(S);y(j)&&(j=f),N=N.add(j),P=x(P,k)}return new _(N,P)}t.A=function(P){return C(this,P).h},t.and=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)&P.i(A);return new o(I,this.h&P.h)},t.or=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)|P.i(A);return new o(I,this.h|P.h)},t.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)^P.i(A);return new o(I,this.h^P.h)};function O(P){for(var S=P.g.length+1,I=[],A=0;A<S;A++)I[A]=P.i(A)<<1|P.i(A-1)>>>31;return new o(I,P.h)}function M(P,S){var I=S>>5;S%=32;for(var A=P.g.length-I,N=[],j=0;j<A;j++)N[j]=0<S?P.i(j+I)>>>S|P.i(j+I+1)<<32-S:P.i(j+I);return new o(N,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,zo=o}).apply(typeof MP<"u"?MP:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BD,Vu,zD,Pp,mw,GD,qD,WD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var T=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var V=h[R];if(!(V in T))break e;T=T[V]}h=h[h.length-1],R=T[h],v=v(R),v!=R&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function i(h,v){h instanceof String&&(h+="");var T=0,R=!1,V={next:function(){if(!R&&T<h.length){var $=T++;return{value:v($,h[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(h){return h||function(){return i(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function u(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function d(h,v,T){return h.call.apply(h.bind,arguments)}function p(h,v,T){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),h.apply(v,V)}}return function(){return h.apply(v,arguments)}}function f(h,v,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,f.apply(null,arguments)}function m(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function y(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(R,V,$){for(var W=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)W[$e-2]=arguments[$e];return v.prototype[V].apply(R,W)}}function w(h){const v=h.length;if(0<v){const T=Array(v);for(let R=0;R<v;R++)T[R]=h[R];return T}return[]}function E(h,v){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const V=h.length||0,$=R.length||0;h.length=V+$;for(let W=0;W<$;W++)h[V+W]=R[W]}else h.push(R)}}class x{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(h){return/^[\s\xa0]*$/.test(h)}function _(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function C(h){return C[" "](h),h}C[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function M(h,v,T){for(const R in h)v.call(T,h[R],R,h)}function P(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function S(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(h,v){let T,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(T in R)h[T]=R[T];for(let $=0;$<I.length;$++)T=I[$],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function N(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function j(h){a.setTimeout(()=>{throw h},0)}function k(){var h=U;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,T){const R=ue.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var ue=new x(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,F=!1,U=new J,K=()=>{const h=a.Promise.resolve(void 0);de=()=>{h.then(Q)}};var Q=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(T){j(T)}var v=ue;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}F=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};a.addEventListener("test",T,v),a.removeEventListener("test",T,v)}catch{}return h}();function st(h,v){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(O){e:{try{C(v.nodeName);var V=!0;break e}catch{}V=!1}V||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:be[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&st.aa.h.call(this)}}y(st,he);var be={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function vt(h,v,T,R,V){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=V,this.key=++Cn,this.da=this.fa=!1}function Bt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ts(h){this.src=h,this.g={},this.h=0}ts.prototype.add=function(h,v,T,R,V){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var W=or(h,v,R,V);return-1<W?(v=h[W],T||(v.fa=!1)):(v=new vt(v,this.src,$,!!R,V),v.fa=T,h.push(v)),v};function Ir(h,v){var T=v.type;if(T in h.g){var R=h.g[T],V=Array.prototype.indexOf.call(R,v,void 0),$;($=0<=V)&&Array.prototype.splice.call(R,V,1),$&&(Bt(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function or(h,v,T,R){for(var V=0;V<h.length;++V){var $=h[V];if(!$.da&&$.listener==v&&$.capture==!!T&&$.ha==R)return V}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),$s={};function ar(h,v,T,R,V){if(Array.isArray(v)){for(var $=0;$<v.length;$++)ar(h,v[$],T,R,V);return null}return T=Rc(T),h&&h[Je]?h.K(v,T,u(R)?!!R.capture:!!R,V):Ic(h,v,T,!1,R,V)}function Ic(h,v,T,R,V,$){if(!v)throw Error("Invalid event type");var W=u(V)?!!V.capture:!!V,$e=Us(h);if($e||(h[ns]=$e=new ts(h)),T=$e.add(v,T,R,W,$),T.proxy)return T;if(R=Cc(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)Ue||(V=W),V===void 0&&(V=!1),h.addEventListener(v.toString(),R,V);else if(h.attachEvent)h.attachEvent(Nh(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Cc(){function h(T){return v.call(h.src,h.listener,T)}const v=Bv;return h}function yt(h,v,T,R,V){if(Array.isArray(v))for(var $=0;$<v.length;$++)yt(h,v[$],T,R,V);else R=u(R)?!!R.capture:!!R,T=Rc(T),h&&h[Je]?(h=h.i,v=String(v).toString(),v in h.g&&($=h.g[v],T=or($,T,R,V),-1<T&&(Bt($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete h.g[v],h.h--)))):h&&(h=Us(h))&&(v=h.g[v.toString()],h=-1,v&&(h=or(v,T,R,V)),(T=-1<h?v[h]:null)&&Cr(T))}function Cr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Je])Ir(v.i,h);else{var T=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(T,R,h.capture):v.detachEvent?v.detachEvent(Nh(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Us(v))?(Ir(T,h),T.h==0&&(T.src=null,v[ns]=null)):Bt(h)}}}function Nh(h){return h in $s?$s[h]:$s[h]="on"+h}function Bv(h,v){if(h.da)h=!0;else{v=new st(v,this);var T=h.listener,R=h.ha||h.src;h.fa&&Cr(h),h=T.call(R,v)}return h}function Us(h){return h=h[ns],h instanceof ts?h:null}var Ac="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(h){return typeof h=="function"?h:(h[Ac]||(h[Ac]=function(v){return h.handleEvent(v)}),h[Ac])}function xt(){re.call(this),this.i=new ts(this),this.M=this,this.F=null}y(xt,re),xt.prototype[Je]=!0,xt.prototype.removeEventListener=function(h,v,T,R){yt(this,h,v,T,R)};function it(h,v){var T,R=h.F;if(R)for(T=[];R;R=R.F)T.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new he(v,h);else if(v instanceof he)v.target=v.target||h;else{var V=v;v=new he(R,h),A(v,V)}if(V=!0,T)for(var $=T.length-1;0<=$;$--){var W=v.g=T[$];V=ho(W,R,!0,v)&&V}if(W=v.g=h,V=ho(W,R,!0,v)&&V,V=ho(W,R,!1,v)&&V,T)for($=0;$<T.length;$++)W=v.g=T[$],V=ho(W,R,!1,v)&&V}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],R=0;R<T.length;R++)Bt(T[R]);delete h.g[v],h.h--}}this.F=null},xt.prototype.K=function(h,v,T,R){return this.i.add(String(h),v,!1,T,R)},xt.prototype.L=function(h,v,T,R){return this.i.add(String(h),v,!0,T,R)};function ho(h,v,T,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var V=!0,$=0;$<v.length;++$){var W=v[$];if(W&&!W.da&&W.capture==T){var $e=W.listener,Mt=W.ha||W.src;W.fa&&Ir(h.i,W),V=$e.call(Mt,R)!==!1&&V}}return V&&!R.defaultPrevented}function rs(h,v,T){if(typeof h=="function")T&&(h=f(h,T));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(h,v||0)}function Nc(h){h.g=rs(()=>{h.g=null,h.i&&(h.i=!1,Nc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class zv extends re{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Nc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(h){re.call(this),this.h=h,this.g={}}y(Bs,re);var kc=[];function kh(h){M(h.g,function(v,T){this.g.hasOwnProperty(T)&&Cr(v)},h),h.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),kh(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fo=a.JSON.stringify,Ar=a.JSON.parse,Gv=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function me(){}me.prototype.h=null;function Le(h){return h.h||(h.h=h.i())}function Oe(){}var zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mn(){he.call(this,"d")}y(mn,he);function zs(){he.call(this,"c")}y(zs,he);var ss={},yE=null;function Oh(){return yE=yE||new xt}ss.La="serverreachability";function xE(h){he.call(this,ss.La,h)}y(xE,he);function Oc(h){const v=Oh();it(v,new xE(v))}ss.STAT_EVENT="statevent";function wE(h,v){he.call(this,ss.STAT_EVENT,h),this.stat=v}y(wE,he);function sn(h){const v=Oh();it(v,new wE(v,h))}ss.Ma="timingevent";function _E(h,v){he.call(this,ss.Ma,h),this.size=v}y(_E,he);function Dc(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},v)}function jc(){this.g=!0}jc.prototype.xa=function(){this.g=!1};function X5(h,v,T,R,V,$){h.info(function(){if(h.g)if($)for(var W="",$e=$.split("&"),Mt=0;Mt<$e.length;Mt++){var Re=$e[Mt].split("=");if(1<Re.length){var Gt=Re[0];Re=Re[1];var qt=Gt.split("_");W=2<=qt.length&&qt[1]=="type"?W+(Gt+"="+Re+"&"):W+(Gt+"=redacted&")}}else W=null;else W=$;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+v+`
`+T+`
`+W})}function Z5(h,v,T,R,V,$,W){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+v+`
`+T+`
`+$+" "+W})}function Sa(h,v,T,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+tV(h,T)+(R?" "+R:"")})}function eV(h,v){h.info(function(){return"TIMEOUT: "+v})}jc.prototype.info=function(){};function tV(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var R=T[h];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return fo(T)}catch{return v}}var Dh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qv;function jh(){}y(jh,me),jh.prototype.g=function(){return new XMLHttpRequest},jh.prototype.i=function(){return{}},qv=new jh;function Gs(h,v,T,R){this.j=h,this.i=v,this.l=T,this.R=R||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new EE}function EE(){this.i=null,this.g="",this.h=!1}var TE={},Wv={};function Hv(h,v,T){h.L=1,h.v=Fh(is(v)),h.m=T,h.P=!0,SE(h,null)}function SE(h,v){h.F=Date.now(),Mh(h),h.A=is(h.v);var T=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),FE(T.i,"t",R),h.C=0,T=h.j.J,h.h=new EE,h.g=rT(h.j,T?v:null,!h.m),0<h.O&&(h.M=new zv(f(h.Y,h,h.g),h.O)),v=h.U,T=h.g,R=h.ca;var V="readystatechange";Array.isArray(V)||(V&&(kc[0]=V.toString()),V=kc);for(var $=0;$<V.length;$++){var W=ar(T,V[$],R||v.handleEvent,!1,v.h||v);if(!W)break;v.g[W.key]=W}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Oc(),X5(h.i,h.u,h.A,h.l,h.R,h.m)}Gs.prototype.ca=function(h){h=h.target;const v=this.M;v&&os(h)==3?v.j():this.Y(h)},Gs.prototype.Y=function(h){try{if(h==this.g)e:{const qt=os(this.g);var v=this.g.Ba();const Ca=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||WE(this.g)))){this.J||qt!=4||v==7||(v==8||0>=Ca?Oc(3):Oc(2)),Kv(this);var T=this.g.Z();this.X=T;t:if(PE(this)){var R=WE(this.g);h="";var V=R.length,$=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),Mc(this);var W="";break t}this.h.i=new a.TextDecoder}for(v=0;v<V;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!($&&v==V-1)});R.length=0,this.h.g+=h,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=T==200,Z5(this.i,this.u,this.A,this.l,this.R,qt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Mt=this.g;if(($e=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b($e)){var Re=$e;break t}}Re=null}if(T=Re)Sa(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qv(this,T);else{this.o=!1,this.s=3,sn(12),po(this),Mc(this);break e}}if(this.P){T=!0;let lr;for(;!this.J&&this.C<W.length;)if(lr=nV(this,W),lr==Wv){qt==4&&(this.s=4,sn(14),T=!1),Sa(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==TE){this.s=4,sn(15),Sa(this.i,this.l,W,"[Invalid Chunk]"),T=!1;break}else Sa(this.i,this.l,lr,null),Qv(this,lr);if(PE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||W.length!=0||this.h.h||(this.s=1,sn(16),T=!1),this.o=this.o&&T,!T)Sa(this.i,this.l,W,"[Invalid Chunked Response]"),po(this),Mc(this);else if(0<W.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ty(Gt),Gt.M=!0,sn(11))}}else Sa(this.i,this.l,W,null),Qv(this,W);qt==4&&po(this),this.o&&!this.J&&(qt==4?ZE(this.j,this):(this.o=!1,Mh(this)))}else xV(this.g),T==400&&0<W.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),po(this),Mc(this)}}}catch{}finally{}};function PE(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function nV(h,v){var T=h.C,R=v.indexOf(`
`,T);return R==-1?Wv:(T=Number(v.substring(T,R)),isNaN(T)?TE:(R+=1,R+T>v.length?Wv:(v=v.slice(R,R+T),h.C=R+T,v)))}Gs.prototype.cancel=function(){this.J=!0,po(this)};function Mh(h){h.S=Date.now()+h.I,IE(h,h.I)}function IE(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Dc(f(h.ba,h),v)}function Kv(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Gs.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(eV(this.i,this.A),this.L!=2&&(Oc(),sn(17)),po(this),this.s=2,Mc(this)):IE(this,this.S-h)};function Mc(h){h.j.G==0||h.J||ZE(h.j,h)}function po(h){Kv(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,kh(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Qv(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Yv(T.h,h))){if(!h.K&&Yv(T.h,h)&&T.G==3){try{var R=T.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)qh(T),zh(T);else break e;ey(T),sn(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=Dc(f(T.Za,T),6e3));if(1>=RE(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else go(T,11)}else if((h.K||T.g==h)&&qh(T),!b(v))for(V=T.Da.g.parse(v),v=0;v<V.length;v++){let Re=V[v];if(T.T=Re[0],Re=Re[1],T.G==2)if(Re[0]=="c"){T.K=Re[1],T.ia=Re[2];const Gt=Re[3];Gt!=null&&(T.la=Gt,T.j.info("VER="+T.la));const qt=Re[4];qt!=null&&(T.Aa=qt,T.j.info("SVER="+T.Aa));const Ca=Re[5];Ca!=null&&typeof Ca=="number"&&0<Ca&&(R=1.5*Ca,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const lr=h.g;if(lr){const Hh=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hh){var $=R.h;$.g||Hh.indexOf("spdy")==-1&&Hh.indexOf("quic")==-1&&Hh.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Jv($,$.h),$.h=null))}if(R.D){const ny=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;ny&&(R.ya=ny,qe(R.I,R.D,ny))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var W=h;if(R.qa=nT(R,R.J?R.ia:null,R.W),W.K){NE(R.h,W);var $e=W,Mt=R.L;Mt&&($e.I=Mt),$e.B&&(Kv($e),Mh($e)),R.g=W}else JE(R);0<T.i.length&&Gh(T)}else Re[0]!="stop"&&Re[0]!="close"||go(T,7);else T.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?go(T,7):Zv(T):Re[0]!="noop"&&T.l&&T.l.ta(Re),T.v=0)}}Oc(4)}catch{}}var rV=class{constructor(h,v){this.g=h,this.map=v}};function CE(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function AE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function RE(h){return h.h?1:h.g?h.g.size:0}function Yv(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Jv(h,v){h.g?h.g.add(v):h.h=v}function NE(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}CE.prototype.cancel=function(){if(this.i=kE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kE(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return w(h.i)}function sV(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var v=[],T=h.length,R=0;R<T;R++)v.push(h[R]);return v}v=[],T=0;for(R in h)v[T++]=h[R];return v}function iV(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const R in h)v[T++]=R;return v}}}function OE(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=iV(h),R=sV(h),V=R.length,$=0;$<V;$++)v.call(void 0,R[$],T&&T[$],h)}var DE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oV(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var R=h[T].indexOf("="),V=null;if(0<=R){var $=h[T].substring(0,R);V=h[T].substring(R+1)}else $=h[T];v($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function mo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof mo){this.h=h.h,Lh(this,h.j),this.o=h.o,this.g=h.g,Vh(this,h.s),this.l=h.l;var v=h.i,T=new Fc;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),jE(this,T),this.m=h.m}else h&&(v=String(h).match(DE))?(this.h=!1,Lh(this,v[1]||"",!0),this.o=Lc(v[2]||""),this.g=Lc(v[3]||"",!0),Vh(this,v[4]),this.l=Lc(v[5]||"",!0),jE(this,v[6]||"",!0),this.m=Lc(v[7]||"")):(this.h=!1,this.i=new Fc(null,this.h))}mo.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Vc(v,ME,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Vc(v,ME,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Vc(T,T.charAt(0)=="/"?cV:lV,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Vc(T,dV)),h.join("")};function is(h){return new mo(h)}function Lh(h,v,T){h.j=T?Lc(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Vh(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function jE(h,v,T){v instanceof Fc?(h.i=v,hV(h.i,h.h)):(T||(v=Vc(v,uV)),h.i=new Fc(v,h.h))}function qe(h,v,T){h.i.set(v,T)}function Fh(h){return qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Lc(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vc(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,aV),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function aV(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ME=/[#\/\?@]/g,lV=/[#\?:]/g,cV=/[#\?]/g,uV=/[#\?@]/g,dV=/#/g;function Fc(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function qs(h){h.g||(h.g=new Map,h.h=0,h.i&&oV(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Fc.prototype,t.add=function(h,v){qs(this),this.i=null,h=Pa(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function LE(h,v){qs(h),v=Pa(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function VE(h,v){return qs(h),v=Pa(h,v),h.g.has(v)}t.forEach=function(h,v){qs(this),this.g.forEach(function(T,R){T.forEach(function(V){h.call(v,V,R,this)},this)},this)},t.na=function(){qs(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let R=0;R<v.length;R++){const V=h[R];for(let $=0;$<V.length;$++)T.push(v[R])}return T},t.V=function(h){qs(this);let v=[];if(typeof h=="string")VE(this,h)&&(v=v.concat(this.g.get(Pa(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return qs(this),this.i=null,h=Pa(this,h),VE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function FE(h,v,T){LE(h,v),0<T.length&&(h.i=null,h.g.set(Pa(h,v),w(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var R=v[T];const $=encodeURIComponent(String(R)),W=this.V(R);for(R=0;R<W.length;R++){var V=$;W[R]!==""&&(V+="="+encodeURIComponent(String(W[R]))),h.push(V)}}return this.i=h.join("&")};function Pa(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function hV(h,v){v&&!h.j&&(qs(h),h.i=null,h.g.forEach(function(T,R){var V=R.toLowerCase();R!=V&&(LE(this,R),FE(this,V,T))},h)),h.j=v}function fV(h,v){const T=new jc;if(a.Image){const R=new Image;R.onload=m(Ws,T,"TestLoadImage: loaded",!0,v,R),R.onerror=m(Ws,T,"TestLoadImage: error",!1,v,R),R.onabort=m(Ws,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=m(Ws,T,"TestLoadImage: timeout",!1,v,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function pV(h,v){const T=new jc,R=new AbortController,V=setTimeout(()=>{R.abort(),Ws(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then($=>{clearTimeout(V),$.ok?Ws(T,"TestPingServer: ok",!0,v):Ws(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(V),Ws(T,"TestPingServer: error",!1,v)})}function Ws(h,v,T,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(T)}catch{}}function mV(){this.g=new Gv}function gV(h,v,T){const R=T||"";try{OE(h,function(V,$){let W=V;u(V)&&(W=fo(V)),v.push(R+$+"="+encodeURIComponent(W))})}catch(V){throw v.push(R+"type="+encodeURIComponent("_badmap")),V}}function $h(h){this.l=h.Ub||null,this.j=h.eb||!1}y($h,me),$h.prototype.g=function(){return new Uh(this.l,this.j)},$h.prototype.i=function(h){return function(){return h}}({});function Uh(h,v){xt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Uh,xt),t=Uh.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Uc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$c(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$E(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function $E(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?$c(this):Uc(this),this.readyState==3&&$E(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,$c(this))},t.Qa=function(h){this.g&&(this.response=h,$c(this))},t.ga=function(){this.g&&$c(this)};function $c(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Uc(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Uc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function UE(h){let v="";return M(h,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function Xv(h,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=UE(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):qe(h,v,T))}function ot(h){xt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ot,xt);var vV=/^https?$/i,yV=["POST","PUT"];t=ot.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qv.g(),this.v=this.o?Le(this.o):Le(qv),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){BE(this,$);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)T.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())T.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yV,v,void 0))||R||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,W]of T)this.g.setRequestHeader($,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qE(this),this.u=!0,this.g.send(h),this.u=!1}catch($){BE(this,$)}};function BE(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,zE(h),Bh(h)}function zE(h){h.A||(h.A=!0,it(h,"complete"),it(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,it(this,"complete"),it(this,"abort"),Bh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bh(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?GE(this):this.bb())},t.bb=function(){GE(this)};function GE(h){if(h.h&&typeof o<"u"&&(!h.v[1]||os(h)!=4||h.Z()!=2)){if(h.u&&os(h)==4)rs(h.Ea,0,h);else if(it(h,"readystatechange"),os(h)==4){h.h=!1;try{const W=h.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=W===0){var V=String(h.D).match(DE)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),R=!vV.test(V?V.toLowerCase():"")}T=R}if(T)it(h,"complete"),it(h,"success");else{h.m=6;try{var $=2<os(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",zE(h)}}finally{Bh(h)}}}}function Bh(h,v){if(h.g){qE(h);const T=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||it(h,"ready");try{T.onreadystatechange=R}catch{}}}function qE(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function os(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ar(v)}};function WE(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xV(h){const v={};h=(h.g&&2<=os(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(b(h[R]))continue;var T=N(h[R]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=v[V]||[];v[V]=$,$.push(T)}P(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bc(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function HE(h){this.Aa=0,this.i=[],this.j=new jc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bc("baseRetryDelayMs",5e3,h),this.cb=Bc("retryDelaySeedMs",1e4,h),this.Wa=Bc("forwardChannelMaxRetries",2,h),this.wa=Bc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new CE(h&&h.concurrentRequestLimit),this.Da=new mV,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=HE.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,R){sn(0),this.W=h,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=nT(this,null,this.W),Gh(this)};function Zv(h){if(KE(h),h.G==3){var v=h.U++,T=is(h.I);if(qe(T,"SID",h.K),qe(T,"RID",v),qe(T,"TYPE","terminate"),zc(h,T),v=new Gs(h,h.j,v),v.L=2,v.v=Fh(is(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=v.v,T=!0),T||(v.g=rT(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Mh(v)}tT(h)}function zh(h){h.g&&(ty(h),h.g.cancel(),h.g=null)}function KE(h){zh(h),h.u&&(a.clearTimeout(h.u),h.u=null),qh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Gh(h){if(!AE(h.h)&&!h.s){h.s=!0;var v=h.Ga;de||K(),F||(de(),F=!0),U.add(v,h),h.B=0}}function wV(h,v){return RE(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Dc(f(h.Ga,h,v),eT(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const V=new Gs(this,this.j,h);let $=this.o;if(this.S&&($?($=S($),A($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=YE(this,V,v),T=is(this.I),qe(T,"RID",h),qe(T,"CVER",22),this.D&&qe(T,"X-HTTP-Session-Id",this.D),zc(this,T),$&&(this.O?v="headers="+encodeURIComponent(String(UE($)))+"&"+v:this.m&&Xv(T,this.m,$)),Jv(this.h,V),this.Ua&&qe(T,"TYPE","init"),this.P?(qe(T,"$req",v),qe(T,"SID","null"),V.T=!0,Hv(V,T,null)):Hv(V,T,v),this.G=2}}else this.G==3&&(h?QE(this,h):this.i.length==0||AE(this.h)||QE(this))};function QE(h,v){var T;v?T=v.l:T=h.U++;const R=is(h.I);qe(R,"SID",h.K),qe(R,"RID",T),qe(R,"AID",h.T),zc(h,R),h.m&&h.o&&Xv(R,h.m,h.o),T=new Gs(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=YE(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Jv(h.h,T),Hv(T,R,v)}function zc(h,v){h.H&&M(h.H,function(T,R){qe(v,R,T)}),h.l&&OE({},function(T,R){qe(v,R,T)})}function YE(h,v,T){T=Math.min(h.i.length,T);var R=h.l?f(h.l.Na,h.l,h):null;e:{var V=h.i;let $=-1;for(;;){const W=["count="+T];$==-1?0<T?($=V[0].g,W.push("ofs="+$)):$=0:W.push("ofs="+$);let $e=!0;for(let Mt=0;Mt<T;Mt++){let Re=V[Mt].g;const Gt=V[Mt].map;if(Re-=$,0>Re)$=Math.max(0,V[Mt].g-100),$e=!1;else try{gV(Gt,W,"req"+Re+"_")}catch{R&&R(Gt)}}if($e){R=W.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,R}function JE(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;de||K(),F||(de(),F=!0),U.add(v,h),h.v=0}}function ey(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Dc(f(h.Fa,h),eT(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,XE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Dc(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),zh(this),XE(this))};function ty(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function XE(h){h.g=new Gs(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=is(h.qa);qe(v,"RID","rpc"),qe(v,"SID",h.K),qe(v,"AID",h.T),qe(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&qe(v,"TO",h.ja),qe(v,"TYPE","xmlhttp"),zc(h,v),h.m&&h.o&&Xv(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Fh(is(v)),T.m=null,T.P=!0,SE(T,h)}t.Za=function(){this.C!=null&&(this.C=null,zh(this),ey(this),sn(19))};function qh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function ZE(h,v){var T=null;if(h.g==v){qh(h),ty(h),h.g=null;var R=2}else if(Yv(h.h,v))T=v.D,NE(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var V=h.B;R=Oh(),it(R,new _E(R,T)),Gh(h)}else JE(h);else if(V=v.s,V==3||V==0&&0<v.X||!(R==1&&wV(h,v)||R==2&&ey(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),V){case 1:go(h,5);break;case 4:go(h,10);break;case 3:go(h,6);break;default:go(h,2)}}}function eT(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function go(h,v){if(h.j.info("Error code "+v),v==2){var T=f(h.fb,h),R=h.Xa;const V=!R;R=new mo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lh(R,"https"),Fh(R),V?fV(R.toString(),T):pV(R.toString(),T)}else sn(2);h.G=0,h.l&&h.l.sa(v),tT(h),KE(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function tT(h){if(h.G=0,h.ka=[],h.l){const v=kE(h.h);(v.length!=0||h.i.length!=0)&&(E(h.ka,v),E(h.ka,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.ra()}}function nT(h,v,T){var R=T instanceof mo?is(T):new mo(T);if(R.g!="")v&&(R.g=v+"."+R.g),Vh(R,R.s);else{var V=a.location;R=V.protocol,v=v?v+"."+V.hostname:V.hostname,V=+V.port;var $=new mo(null);R&&Lh($,R),v&&($.g=v),V&&Vh($,V),T&&($.l=T),R=$}return T=h.D,v=h.ya,T&&v&&qe(R,T,v),qe(R,"VER",h.la),zc(h,R),R}function rT(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ot(new $h({eb:T})):new ot(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sT(){}t=sT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wh(){}Wh.prototype.g=function(h,v){return new An(h,v)};function An(h,v){xt.call(this),this.g=new HE(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!b(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!b(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ia(this)}y(An,xt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Zv(this.g)},An.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=fo(h),h=T);v.i.push(new rV(v.Ya++,h)),v.G==3&&Gh(v)},An.prototype.N=function(){this.g.l=null,delete this.j,Zv(this.g),delete this.g,An.aa.N.call(this)};function iT(h){mn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}y(iT,mn);function oT(){zs.call(this),this.status=1}y(oT,zs);function Ia(h){this.g=h}y(Ia,sT),Ia.prototype.ua=function(){it(this.g,"a")},Ia.prototype.ta=function(h){it(this.g,new iT(h))},Ia.prototype.sa=function(h){it(this.g,new oT)},Ia.prototype.ra=function(){it(this.g,"b")},Wh.prototype.createWebChannel=Wh.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,WD=function(){return new Wh},qD=function(){return Oh()},GD=ss,mw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dh.NO_ERROR=0,Dh.TIMEOUT=8,Dh.HTTP_ERROR=6,Pp=Dh,bE.COMPLETE="complete",zD=bE,Oe.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Vu=Oe,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,BD=ot}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const LP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Yg("@firebase/firestore");function Ya(){return na.logLevel}function G(t,...e){if(na.logLevel<=Se.DEBUG){const n=e.map(Ub);na.debug(`Firestore (${_c}): ${t}`,...n)}}function pt(t,...e){if(na.logLevel<=Se.ERROR){const n=e.map(Ub);na.error(`Firestore (${_c}): ${t}`,...n)}}function ra(t,...e){if(na.logLevel<=Se.WARN){const n=e.map(Ub);na.warn(`Firestore (${_c}): ${t}`,...n)}}function Ub(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: `+t;throw pt(e),new Error(e)}function le(t,e){t||oe()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class S7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P7{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){le(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Es,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Es)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string"),new HD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new kt(e)}}class I7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class C7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){le(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.R=n.token,new A7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=N7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Ql(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function QD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new nt(0,0))}static max(){return new ce(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Bd{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const k7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Bd{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return k7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(De.fromString(e))}static fromName(e){return new Y(De.fromString(e).popFirst(5))}static empty(){return new Y(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new De(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function gw(t){return t.fields.find(e=>e.kind===2)}function Po(t){return t.fields.filter(e=>e.kind!==2)}Am.UNKNOWN_ID=-1;class Ip{constructor(e,n){this.fieldPath=e,this.kind=n}}class zd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new zd(0,Un.min())}}function YD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Un(s,Y.empty(),e)}function JD(t){return new Un(t.readTime,t.key,-1)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(ce.min(),Y.empty(),-1)}static max(){return new Un(ce.max(),Y.empty(),-1)}}function Bb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==XD)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{static open(e,n,r,s){try{return new tv(n,e.transaction(s,r))}catch(i){throw new Xu(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Es,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=zb(r.target.error);this.V.reject(new Xu(e,s))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new D7(n)}}class Li{static delete(e){return G("SimpleDb","Removing database:",e),Io(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!Ab())return!1;if(Li.S())return!0;const e=It(),n=Li.D(e),r=0<n&&n<10,s=ej(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static S(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static C(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.F=r,Li.D(It())===12.2&&pt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Xu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new X(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xu(e,o))},s.onupgradeneeded=i=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.F.O(o,s.transaction,i.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=tv.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(G("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ej(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class O7{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Io(this.B.delete())}}class Xu extends X{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ao(t){return t.name==="IndexedDbTransactionError"}class D7{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Io(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),Io(this.store.add(e))}get(e){return Io(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),Io(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),Io(this.store.count())}U(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new L((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.W(i,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}j(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const s=this.cursor(r);return this.W(s,(i,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.W(s,n)}Y(e){const n=this.cursor({});return new L((r,s)=>{n.onerror=i=>{const o=zb(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new O7(a),u=n(a.primaryKey,a.value,l);if(u instanceof L){const d=u.catch(p=>(l.done(),L.reject(p)));r.push(d)}l.isDone?s():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Io(t){return new L((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=zb(r.target.error);n(s)}})}let VP=!1;function zb(t){const e=Li.D(It());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VP||(VP=!0,setTimeout(()=>{throw r},0)),r}}return t}class j7{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){G("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{G("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){ao(n)?G("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await oo(n)}await this.X(6e4)})}}class M7{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let s=n,i=!0;return L.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return G("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(s,i)).next(a=>(G("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=JD(i);Bb(o,r)>0&&(r=o)}),new Un(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xn.oe=-1;function nv(t){return t==null}function Gd(t){return t===0&&1/t==-1/0}function tj(t){return typeof t=="number"&&Number.isInteger(t)&&!Gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FP(e)),e=L7(t.get(n),e);return FP(e)}function L7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function FP(t){return t+""}function zr(t){const e=t.length;if(le(e>=2),e===2)return le(t.charAt(0)===""&&t.charAt(1)===""),De.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&oe(),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:oe()}i=o+2}return new De(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e){return[t,en(e)]}function nj(t,e,n){return[t,en(e),n]}const V7={},F7=["prefixPath","collectionGroup","readTime","documentId"],$7=["prefixPath","collectionGroup","documentId"],U7=["collectionGroup","readTime","prefixPath","documentId"],B7=["canonicalId","targetId"],z7=["targetId","path"],G7=["path","targetId"],q7=["collectionId","parent"],W7=["indexId","uid"],H7=["uid","sequenceNumber"],K7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Q7=["indexId","uid","orderedDocumentKey"],Y7=["userId","collectionPath","documentId"],J7=["userId","collectionPath","largestBatchId"],X7=["userId","collectionGroup","largestBatchId"],rj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z7=[...rj,"documentOverlays"],sj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ij=sj,Gb=[...ij,"indexConfiguration","indexState","indexEntries"],eK=Gb,tK=[...Gb,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends ZD{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ct(t,e){const n=ae(t);return Li.C(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=s??Vt.EMPTY,this.right=i??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BP(this.data.getIterator())}getIteratorFrom(e){return new BP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class BP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Me(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aj("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const nK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(t){if(le(!!t),typeof t=="string"){let e=0;const n=nK.exec(t);if(le(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rv(t){const e=t.mapValue.fields.__previous_value__;return qb(e)?rv(e):e}function qd(t){const e=Os(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class sa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ap={nullValue:"NULL_VALUE"};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qb(t)?4:lj(t)?9007199254740991:sv(t)?10:11:oe()}function Yr(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Os(s.timestampValue),a=Os(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ds(s.bytesValue).isEqual(Ds(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qe(s.doubleValue),a=Qe(i.doubleValue);return o===a?Gd(o)===Gd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(UP(o)!==UP(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Yr(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function Wd(t,e){return(t.values||[]).find(n=>Yr(n,e))!==void 0}function Qi(t,e){if(t===e)return 0;const n=Ki(t),r=Ki(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qe(i.integerValue||i.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return zP(t.timestampValue,e.timestampValue);case 4:return zP(qd(t),qd(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ds(i),l=Ds(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ge(a[u],l[u]);if(d!==0)return d}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ge(Qe(i.latitude),Qe(o.latitude));return a!==0?a:ge(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GP(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const p=i.fields||{},f=o.fields||{},m=(a=p.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=ge(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:GP(m,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ei.mapValue&&o===Ei.mapValue)return 0;if(i===Ei.mapValue)return 1;if(o===Ei.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const f=ge(l[p],d[p]);if(f!==0)return f;const m=Qi(a[l[p]],u[d[p]]);if(m!==0)return m}return ge(l.length,d.length)}(t.mapValue,e.mapValue);default:throw oe()}}function zP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Os(t),r=Os(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function GP(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qi(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function Yl(t){return yw(t)}function yw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=yw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${yw(n.fields[o])}`;return s+"}"}(t.mapValue):oe()}function Rp(t){switch(Ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rv(t);return e?16+Rp(e):16;case 5:return 2*t.stringValue.length;case 6:return Ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return lo(r.fields,(i,o)=>{s+=i.length+Rp(o)}),s}(t.mapValue);default:throw oe()}}function Wb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xw(t){return!!t&&"integerValue"in t}function Hd(t){return!!t&&"arrayValue"in t}function qP(t){return!!t&&"nullValue"in t}function WP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Np(t){return!!t&&"mapValue"in t}function sv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const cj={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function sK(t){return"nullValue"in t?Ap:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Wb(sa.empty(),Y.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sv(t)?cj:{mapValue:{}}:oe()}function iK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Wb(sa.empty(),Y.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?cj:"mapValue"in t?sv(t)?{mapValue:{}}:Ei:oe()}function HP(t,e){const n=Qi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function KP(t,e){const n=Qi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Zu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Np(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Zt(Zu(this.value))}}function uj(t){const e=[];return lo(t.fields,(n,r)=>{const s=new Ze([n]);if(Np(r)){const i=uj(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,ce.min(),ce.min(),ce.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,s){return new dt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new dt(e,2,n,ce.min(),ce.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,ce.min(),ce.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.position=e,this.inclusive=n}}function QP(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Qi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function YP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n="asc"){this.field=e,this.dir=n}}function oK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{}class Ie extends dj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aK(e,n,r):n==="array-contains"?new uK(e,r):n==="in"?new vj(e,r):n==="not-in"?new dK(e,r):n==="array-contains-any"?new hK(e,r):new Ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lK(e,r):new cK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qi(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fe extends dj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fe(e,n)}matches(e){return Xl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xl(t){return t.op==="and"}function ww(t){return t.op==="or"}function Hb(t){return hj(t)&&Xl(t)}function hj(t){for(const e of t.filters)if(e instanceof Fe)return!1;return!0}function _w(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+Yl(t.value);if(Hb(t))return t.filters.map(e=>_w(e)).join(",");{const e=t.filters.map(n=>_w(n)).join(",");return`${t.op}(${e})`}}function fj(t,e){return t instanceof Ie?function(r,s){return s instanceof Ie&&r.op===s.op&&r.field.isEqual(s.field)&&Yr(r.value,s.value)}(t,e):t instanceof Fe?function(r,s){return s instanceof Fe&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&fj(o,s.filters[a]),!0):!1}(t,e):void oe()}function pj(t,e){const n=t.filters.concat(e);return Fe.create(n,t.op)}function mj(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Yl(n.value)}`}(t):t instanceof Fe?function(n){return n.op.toString()+" {"+n.getFilters().map(mj).join(" ,")+"}"}(t):"Filter"}class aK extends Ie{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class lK extends Ie{constructor(e,n){super(e,"in",n),this.keys=gj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cK extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=gj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class uK extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hd(n)&&Wd(n.arrayValue,this.value)}}class vj extends Ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wd(this.value.arrayValue,n)}}class dK extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wd(this.value.arrayValue,n)}}class hK extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function bw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new fK(t,e,n,r,s,i,o)}function ia(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_w(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yl(r)).join(",")),e.ue=n}return e.ue}function yh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YP(t.startAt,e.startAt)&&YP(t.endAt,e.endAt)}function Nm(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function km(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function JP(t,e,n){let r=Ap,s=!0;for(const i of km(t,e)){let o=Ap,a=!0;switch(i.op){case"<":case"<=":o=sK(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=Ap}HP({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];HP({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function XP(t,e,n){let r=Ei,s=!0;for(const i of km(t,e)){let o=Ei,a=!0;switch(i.op){case">=":case">":o=iK(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=Ei}KP({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];KP({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yj(t,e,n,r,s,i,o,a){return new iv(t,e,n,r,s,i,o,a)}function ov(t){return new iv(t)}function ZP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pK(t){return t.collectionGroup!==null}function ed(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Me(Ze.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Rm(i,r))}),n.has(Ze.keyField().canonicalString())||e.ce.push(new Rm(Ze.keyField(),r))}return e.ce}function Vn(t){const e=ae(t);return e.le||(e.le=mK(e,ed(t))),e.le}function mK(t,e){if(t.limitType==="F")return bw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Rm(s.field,i)});const n=t.endAt?new Jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jl(t.startAt.position,t.startAt.inclusive):null;return bw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ew(t,e,n){return new iv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function av(t,e){return yh(Vn(t),Vn(e))&&t.limitType===e.limitType}function xj(t){return`${ia(Vn(t))}|lt:${t.limitType}`}function Ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mj(s)).join(", ")}]`),nv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Yl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Yl(s)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ed(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=QP(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ed(r),s)||r.endAt&&!function(o,a,l){const u=QP(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ed(r),s))}(t,e)}function wj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _j(t){return(e,n)=>{let r=!1;for(const s of ed(t)){const i=gK(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function gK(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Qi(l,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=new Ge(Y.comparator);function jn(){return vK}const bj=new Ge(Y.comparator);function Fu(...t){let e=bj;for(const n of t)e=e.insert(n.key,n);return e}function Ej(t){let e=bj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return td()}function Tj(){return td()}function td(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const yK=new Ge(Y.comparator),xK=new Me(Y.comparator);function _e(...t){let e=xK;for(const n of t)e=e.add(n);return e}const wK=new Me(ge);function Kb(){return wK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function Sj(t){return{integerValue:""+t}}function _K(t,e){return tj(e)?Sj(e):Qb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this._=void 0}}function bK(t,e,n){return t instanceof Zl?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&qb(i)&&(i=rv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ec?Ij(t,e):t instanceof tc?Cj(t,e):function(s,i){const o=Pj(s,i),a=eI(o)+eI(s.Pe);return xw(o)&&xw(s.Pe)?Sj(a):Qb(s.serializer,a)}(t,e)}function EK(t,e,n){return t instanceof ec?Ij(t,e):t instanceof tc?Cj(t,e):n}function Pj(t,e){return t instanceof Kd?function(r){return xw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zl extends lv{}class ec extends lv{constructor(e){super(),this.elements=e}}function Ij(t,e){const n=Aj(e);for(const r of t.elements)n.some(s=>Yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends lv{constructor(e){super(),this.elements=e}}function Cj(t,e){let n=Aj(e);for(const r of t.elements)n=n.filter(s=>!Yr(s,r));return{arrayValue:{values:n}}}class Kd extends lv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function eI(t){return Qe(t.integerValue||t.doubleValue)}function Aj(t){return Hd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.field=e,this.transform=n}}function TK(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ec&&s instanceof ec||r instanceof tc&&s instanceof tc?Ql(r.elements,s.elements,Yr):r instanceof Kd&&s instanceof Kd?Yr(r.Pe,s.Pe):r instanceof Zl&&s instanceof Zl}(t.transform,e.transform)}class SK{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cv{}function Nj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yb(t.key,_n.none()):new bc(t.key,t.data,_n.none());{const n=t.data,r=Zt.empty();let s=new Me(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Fs(t.key,r,new wn(s.toArray()),_n.none())}}function PK(t,e,n){t instanceof bc?function(s,i,o){const a=s.value.clone(),l=nI(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(s,i,o){if(!kp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=nI(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(kj(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nd(t,e,n,r){return t instanceof bc?function(i,o,a,l){if(!kp(i.precondition,o))return a;const u=i.value.clone(),d=rI(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(i,o,a,l){if(!kp(i.precondition,o))return a;const u=rI(i.fieldTransforms,l,o),d=o.data;return d.setAll(kj(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return kp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function IK(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Pj(r.transform,s||null);i!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function tI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ql(r,s,(i,o)=>TK(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends cv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fs extends cv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nI(t,e,n){const r=new Map;le(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,EK(o,a,n[s]))}return r}function rI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,bK(i,o,e))}return r}class Yb extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oj extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&PK(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Tj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Nj(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(n,r)=>tI(n,r))&&Ql(this.baseMutations,e.baseMutations,(n,r)=>tI(n,r))}}class Xb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){le(e.mutations.length===r.length);let s=function(){return yK}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Xb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ce;function AK(t){switch(t){default:return oe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function Dj(t){if(t===void 0)return pt("GRPC error has no .code"),z.UNKNOWN;switch(t){case wt.OK:return z.OK;case wt.CANCELLED:return z.CANCELLED;case wt.UNKNOWN:return z.UNKNOWN;case wt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case wt.INTERNAL:return z.INTERNAL;case wt.UNAVAILABLE:return z.UNAVAILABLE;case wt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case wt.NOT_FOUND:return z.NOT_FOUND;case wt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case wt.ABORTED:return z.ABORTED;case wt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case wt.DATA_LOSS:return z.DATA_LOSS;default:return oe()}}(Ce=wt||(wt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK=new zo([4294967295,4294967295],0);function sI(t){const e=RK().encode(t),n=new UD;return n.update(e),new Uint8Array(n.digest())}function iI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zo([n,r],0),new zo([s,i],0)]}class e1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=zo.fromNumber(this.Te)}Ee(e,n,r){let s=e.add(n.multiply(zo.fromNumber(r)));return s.compare(NK)===1&&(s=new zo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=sI(e),[r,s]=iI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new e1(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=sI(e),[r,s]=iI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wh(ce.min(),s,new Ge(ge),jn(),_e())}}class _h{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class jj{constructor(e,n){this.targetId=e,this.me=n}}class Mj{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class oI{constructor(){this.fe=0,this.ge=aI(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe()}}),new _h(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=aI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kK{constructor(e){this.Le=e,this.Be=new Map,this.ke=jn(),this.qe=Pf(),this.Qe=Pf(),this.Ke=new Ge(ge)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.me.count,s=this.Ye(n);if(s){const i=s.target;if(Nm(i))if(r===0){const o=new Y(i.path);this.We(n,o,dt.newNoDocument(o,ce.min()))}else le(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ds(r).toUint8Array()}catch(l){if(l instanceof aj)return ra("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new e1(o,s,i)}catch(l){return ra(l instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Nm(a.target)){const l=new Y(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,dt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=_e();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new wh(e,n,this.Ke,this.ke,r);return this.ke=jn(),this.qe=Pf(),this.Qe=Pf(),this.Ke=new Ge(ge),s}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new oI,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Me(ge),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Me(ge),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new oI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Pf(){return new Ge(Y.comparator)}function aI(){return new Ge(Y.comparator)}const OK={asc:"ASCENDING",desc:"DESCENDING"},DK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jK={and:"AND",or:"OR"};class MK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tw(t,e){return t.useProto3Json||nv(e)?e:{value:e}}function nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LK(t,e){return nc(t,e.toTimestamp())}function un(t){return le(!!t),ce.fromTimestamp(function(n){const r=Os(n);return new nt(r.seconds,r.nanos)}(t))}function t1(t,e){return Sw(t,e).canonicalString()}function Sw(t,e){const n=function(s){return new De(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Vj(t){const e=De.fromString(t);return le(Hj(e)),e}function Om(t,e){return t1(t.databaseId,e.path)}function Go(t,e){const n=Vj(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(Uj(n))}function Fj(t,e){return t1(t.databaseId,e)}function $j(t){const e=Vj(t);return e.length===4?De.emptyPath():Uj(e)}function Pw(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Uj(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lI(t,e,n){return{name:Om(t,e),fields:n.value.mapValue.fields}}function VK(t,e,n){const r=Go(t,e.name),s=un(e.updateTime),i=e.createTime?un(e.createTime):ce.min(),o=new Zt({mapValue:{fields:e.fields}}),a=dt.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function FK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(le(d===void 0||typeof d=="string"),gt.fromBase64String(d||"")):(le(d===void 0||d instanceof Buffer||d instanceof Uint8Array),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:Dj(u.code);return new X(d,u.message||"")}(o);n=new Mj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Go(t,r.document.name),i=un(r.document.updateTime),o=r.document.createTime?un(r.document.createTime):ce.min(),a=new Zt({mapValue:{fields:r.document.fields}}),l=dt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Op(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Go(t,r.document),i=r.readTime?un(r.readTime):ce.min(),o=dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Op([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Go(t,r.document),i=r.removedTargetIds||[];n=new Op([],i,s,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new CK(s,i),a=r.targetId;n=new jj(a,o)}}return n}function Dm(t,e){let n;if(e instanceof bc)n={update:lI(t,e.key,e.value)};else if(e instanceof Yb)n={delete:Om(t,e.key)};else if(e instanceof Fs)n={update:lI(t,e.key,e.data),updateMask:qK(e.fieldMask)};else{if(!(e instanceof Oj))return oe();n={verify:Om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:LK(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function Iw(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?_n.updateTime(un(i.updateTime)):i.exists!==void 0?_n.exists(i.exists):_n.none()}(e.currentDocument):_n.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)le(a.setToServerValue==="REQUEST_TIME"),l=new Zl;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new ec(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new tc(d)}else"increment"in a?l=new Kd(o,a.increment):oe();const u=Ze.fromServerFormat(a.fieldPath);return new Rj(u,l)}(t,s)):[];if(e.update){e.update.name;const s=Go(t,e.update.name),i=new Zt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new wn(u.map(d=>Ze.fromServerFormat(d)))}(e.updateMask);return new Fs(s,i,o,n,r)}return new bc(s,i,n,r)}if(e.delete){const s=Go(t,e.delete);return new Yb(s,n)}if(e.verify){const s=Go(t,e.verify);return new Oj(s,n)}return oe()}function $K(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?un(s.updateTime):un(i);return o.isEqual(ce.min())&&(o=un(i)),new SK(o,s.transformResults||[])}(n,e))):[]}function Bj(t,e){return{documents:[Fj(t,e.path)]}}function zj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fj(t,s);const i=function(u){if(u.length!==0)return Wj(Fe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Xa(f.field),direction:BK(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:n,parent:s}}function Gj(t){let e=$j(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){le(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const f=qj(p);return f instanceof Fe&&Hb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(y){return new Rm(Za(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,nv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,m=p.values||[];return new Jl(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const f=!p.before,m=p.values||[];return new Jl(m,f)}(n.endAt)),yj(e,s,o,i,a,"F",l,u)}function UK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Za(n.unaryFilter.field);return Ie.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Za(n.unaryFilter.field);return Ie.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Za(n.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(Za(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fe.create(n.compositeFilter.filters.map(r=>qj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function BK(t){return OK[t]}function zK(t){return DK[t]}function GK(t){return jK[t]}function Xa(t){return{fieldPath:t.canonicalString()}}function Za(t){return Ze.fromServerFormat(t.fieldPath)}function Wj(t){return t instanceof Ie?function(n){if(n.op==="=="){if(WP(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(qP(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WP(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(qP(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:zK(n.op),value:n.value}}}(t):t instanceof Fe?function(n){const r=n.getFilters().map(s=>Wj(s));return r.length===1?r[0]:{compositeFilter:{op:GK(n.op),filters:r}}}(t):oe()}function qK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Hj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.ht=e}}function WK(t,e){let n;if(e.document)n=VK(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Y.fromSegments(e.noDocument.path),s=aa(e.noDocument.readTime);n=dt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return oe();{const r=Y.fromSegments(e.unknownDocument.path),s=aa(e.unknownDocument.version);n=dt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new nt(s[0],s[1]);return ce.fromTimestamp(i)}(e.readTime)),n}function cI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Om(i,o.key),fields:o.data.value.mapValue.fields,updateTime:nc(i,o.version.toTimestamp()),createTime:nc(i,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:oa(e.version)};else{if(!e.isUnknownDocument())return oe();r.unknownDocument={path:n.path.toArray(),version:oa(e.version)}}return r}function jm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function oa(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function aa(t){const e=new nt(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function Co(t,e){const n=(e.baseMutations||[]).map(i=>Iw(t.ht,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>Iw(t.ht,i)),s=nt.fromMillis(e.localWriteTimeMs);return new Jb(e.batchId,s,n,r)}function Uu(t){const e=aa(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?aa(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return le(i.documents.length===1),Vn(ov($j(i.documents[0])))}(t.query):function(i){return Vn(Gj(i))}(t.query),new ws(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,gt.fromBase64String(t.resumeToken))}function Qj(t,e){const n=oa(e.snapshotVersion),r=oa(e.lastLimboFreeSnapshotVersion);let s;s=Nm(e.target)?Bj(t.ht,e.target):zj(t.ht,e.target).ct;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ia(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Yj(t){const e=Gj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ew(e,e.limit,"L"):e}function Yy(t,e){return new Zb(e.largestBatchId,Iw(t.ht,e.overlayMutation))}function uI(t,e){const n=e.path.lastSegment();return[t,en(e.path.popLast()),n]}function dI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:oa(r.readTime),documentKey:en(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{getBundleMetadata(e,n){return hI(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:aa(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return hI(e).put(function(s){return{bundleId:s.id,createTime:oa(un(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return fI(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:Yj(i.bundledQuery),readTime:aa(i.readTime)}}(r)})}saveNamedQuery(e,n){return fI(e).put(function(s){return{name:s.name,readTime:oa(un(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function hI(t){return Ct(t,"bundles")}function fI(t){return Ct(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new uv(e,r)}getOverlay(e,n){return eu(e).get(uI(this.userId,n)).next(r=>r?Yy(this.serializer,r):null)}getOverlays(e,n){const r=Gr();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new Zb(n,o);s.push(this.Tt(e,a))}),L.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(en(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(eu(e).j("collectionPathOverlayIndex",a))}),L.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Gr(),i=en(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return eu(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Yy(this.serializer,l);s.set(u.getKey(),u)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Gr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return eu(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const p=Yy(this.serializer,u);i.size()<s||p.largestBatchId===o?(i.set(p.getKey(),p),o=p.largestBatchId):d.done()}).next(()=>i)}Tt(e,n){return eu(e).put(function(s,i,o){const[a,l,u]=uI(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Dm(s.ht,o.mutation)}}(this.serializer,this.userId,n))}}function eu(t){return Ct(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{It(e){return Ct(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?gt.fromUint8Array(r):gt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.It(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){}Et(e,n){this.dt(e,n),n.At()}dt(e,n){if("nullValue"in e)this.Rt(n,5);else if("booleanValue"in e)this.Rt(n,10),n.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(n,15),n.Vt(Qe(e.integerValue));else if("doubleValue"in e){const r=Qe(e.doubleValue);isNaN(r)?this.Rt(n,13):(this.Rt(n,15),Gd(r)?n.Vt(0):n.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(n,20),typeof r=="string"&&(r=Os(r)),n.ft(`${r.seconds||""}`),n.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,n),this.yt(n);else if("bytesValue"in e)this.Rt(n,30),n.wt(Ds(e.bytesValue)),this.yt(n);else if("referenceValue"in e)this.St(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Rt(n,45),n.Vt(r.latitude||0),n.Vt(r.longitude||0)}else"mapValue"in e?lj(e)?this.Rt(n,Number.MAX_SAFE_INTEGER):sv(e)?this.bt(e.mapValue,n):(this.Dt(e.mapValue,n),this.yt(n)):"arrayValue"in e?(this.vt(e.arrayValue,n),this.yt(n)):oe()}gt(e,n){this.Rt(n,25),this.Ct(e,n)}Ct(e,n){n.ft(e)}Dt(e,n){const r=e.fields||{};this.Rt(n,55);for(const s of Object.keys(r))this.gt(s,n),this.dt(r[s],n)}bt(e,n){var r,s;const i=e.fields||{};this.Rt(n,53);const o="value",a=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Rt(n,15),n.Vt(Qe(a)),this.gt(o,n),this.dt(i[o],n)}vt(e,n){const r=e.values||[];this.Rt(n,50);for(const s of r)this.dt(s,n)}St(e,n){this.Rt(n,37),Y.fromName(e).path.forEach(r=>{this.Rt(n,60),this.Ct(r,n)})}Rt(e,n){e.Vt(n)}yt(e){e.Vt(2)}}Ao.Ft=new Ao;function QK(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function pI(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=QK(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class YK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.xt(r.value),r=n.next();this.Ot()}Nt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Lt(r.value),r=n.next();this.Bt()}kt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const s=n.codePointAt(0);this.xt(240|s>>>18),this.xt(128|63&s>>>12),this.xt(128|63&s>>>6),this.xt(128|63&s)}}this.Ot()}qt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Lt(r);else if(r<2048)this.Lt(960|r>>>6),this.Lt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Lt(480|r>>>12),this.Lt(128|63&r>>>6),this.Lt(128|63&r);else{const s=n.codePointAt(0);this.Lt(240|s>>>18),this.Lt(128|63&s>>>12),this.Lt(128|63&s>>>6),this.Lt(128|63&s)}}this.Bt()}Qt(e){const n=this.Kt(e),r=pI(n);this.$t(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Ut(e){const n=this.Kt(e),r=pI(n);this.$t(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}xt(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(n)}Lt(e){const n=255&e;n===0?(this.jt(0),this.jt(255)):n===255?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class JK{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class XK{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class tu{constructor(){this.Jt=new YK,this.Yt=new JK(this.Jt),this.Zt=new XK(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return e===0?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}en(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ro(this.indexId,this.documentKey,this.arrayValue,r)}}function Js(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=mI(t.arrayValue,e.arrayValue),n!==0?n:(n=mI(t.directionalValue,e.directionalValue),n!==0?n:Y.comparator(t.documentKey,e.documentKey)))}function mI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.tn=new Me((n,r)=>Ze.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=this.tn.add(r):this.rn.push(r)}}get sn(){return this.tn.size>1}on(e){if(le(e.collectionGroup===this.collectionId),this.sn)return!1;const n=gw(e);if(n!==void 0&&!this._n(n))return!1;const r=Po(e);let s=new Set,i=0,o=0;for(;i<r.length&&this._n(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.tn.size>0){const a=this.tn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.an(a,l)||!this.un(this.nn[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.nn.length||!this.un(this.nn[o++],a))return!1}return!0}cn(){if(this.sn)return null;let e=new Me(Ze.comparator);const n=[];for(const r of this.rn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ip(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ip(r.field,0))}for(const r of this.nn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ip(r.field,r.dir==="asc"?0:1)));return new Am(Am.UNKNOWN_ID,this.collectionId,n,zd.empty())}_n(e){for(const n of this.rn)if(this.an(n,e))return!0;return!1}an(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}un(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){var e,n;if(le(t instanceof Ie||t instanceof Fe),t instanceof Ie){if(t instanceof vj){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>Ie.create(t.field,"==",i)))||[];return Fe.create(s,"or")}return t}const r=t.filters.map(s=>Jj(s));return Fe.create(r,t.op)}function ZK(t){if(t.getFilters().length===0)return[];const e=Rw(Jj(t));return le(Xj(e)),Cw(e)||Aw(e)?[e]:e.getFilters()}function Cw(t){return t instanceof Ie}function Aw(t){return t instanceof Fe&&Hb(t)}function Xj(t){return Cw(t)||Aw(t)||function(n){if(n instanceof Fe&&ww(n)){for(const r of n.getFilters())if(!Cw(r)&&!Aw(r))return!1;return!0}return!1}(t)}function Rw(t){if(le(t instanceof Ie||t instanceof Fe),t instanceof Ie)return t;if(t.filters.length===1)return Rw(t.filters[0]);const e=t.filters.map(r=>Rw(r));let n=Fe.create(e,t.op);return n=Mm(n),Xj(n)?n:(le(n instanceof Fe),le(Xl(n)),le(n.filters.length>1),n.filters.reduce((r,s)=>n1(r,s)))}function n1(t,e){let n;return le(t instanceof Ie||t instanceof Fe),le(e instanceof Ie||e instanceof Fe),n=t instanceof Ie?e instanceof Ie?function(s,i){return Fe.create([s,i],"and")}(t,e):vI(t,e):e instanceof Ie?vI(e,t):function(s,i){if(le(s.filters.length>0&&i.filters.length>0),Xl(s)&&Xl(i))return pj(s,i.getFilters());const o=ww(s)?s:i,a=ww(s)?i:s,l=o.filters.map(u=>n1(u,a));return Fe.create(l,"or")}(t,e),Mm(n)}function vI(t,e){if(Xl(e))return pj(e,t.getFilters());{const n=e.filters.map(r=>n1(t,r));return Fe.create(n,"or")}}function Mm(t){if(le(t instanceof Ie||t instanceof Fe),t instanceof Ie)return t;const e=t.getFilters();if(e.length===1)return Mm(e[0]);if(hj(t))return t;const n=e.map(s=>Mm(s)),r=[];return n.forEach(s=>{s instanceof Ie?r.push(s):s instanceof Fe&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Fe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(){this.ln=new r1}addToCollectionParentIndex(e,n){return this.ln.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Un.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class r1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Me(De.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Me(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Uint8Array(0);class tQ{constructor(e,n){this.databaseId=n,this.hn=new r1,this.Pn=new Vs(r=>ia(r),(r,s)=>yh(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.hn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.hn.add(n)});const i={collectionId:r,parent:en(s)};return yI(e).put(i)}return L.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[QD(n),""],!1,!0);return yI(e).U(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(zr(o.parent))}return r})}addFieldIndex(e,n){const r=nu(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=ja(e);return i.next(a=>{o.put(dI(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=nu(e),s=ja(e),i=Da(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=nu(e),r=Da(e),s=ja(e);return n.j().next(()=>r.j()).next(()=>s.j())}createTargetIndexes(e,n){return L.forEach(this.Tn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new gI(r).cn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=Da(e);let s=!0;const i=new Map;return L.forEach(this.Tn(n),o=>this.In(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=_e();const a=[];return L.forEach(i,(l,u)=>{G("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${ia(n)}`);const d=function(_,C){const O=gw(C);if(O===void 0)return null;for(const M of km(_,O.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(u,l),p=function(_,C){const O=new Map;for(const M of Po(C))for(const P of km(_,M.fieldPath))switch(P.op){case"==":case"in":O.set(M.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return O.set(M.fieldPath.canonicalString(),P.value),Array.from(O.values())}return null}(u,l),f=function(_,C){const O=[];let M=!0;for(const P of Po(C)){const S=P.kind===0?JP(_,P.fieldPath,_.startAt):XP(_,P.fieldPath,_.startAt);O.push(S.value),M&&(M=S.inclusive)}return new Jl(O,M)}(u,l),m=function(_,C){const O=[];let M=!0;for(const P of Po(C)){const S=P.kind===0?XP(_,P.fieldPath,_.endAt):JP(_,P.fieldPath,_.endAt);O.push(S.value),M&&(M=S.inclusive)}return new Jl(O,M)}(u,l),y=this.En(l,u,f),w=this.En(l,u,m),E=this.dn(l,u,p),x=this.An(l.indexId,d,y,f.inclusive,w,m.inclusive,E);return L.forEach(x,b=>r.G(b,n.limit).next(_=>{_.forEach(C=>{const O=Y.fromSegments(C.documentKey);o.has(O)||(o=o.add(O),a.push(O))})}))}).next(()=>a)}return L.resolve(null)})}Tn(e){let n=this.Pn.get(e);return n||(e.filters.length===0?n=[e]:n=ZK(Fe.create(e.filters,"and")).map(r=>bw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Pn.set(e,n),n)}An(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),u=l/(n!=null?n.length:1),d=[];for(let p=0;p<l;++p){const f=n?this.Rn(n[p/u]):If,m=this.Vn(e,f,r[p%u],s),y=this.mn(e,f,i[p%u],o),w=a.map(E=>this.Vn(e,f,E,!0));d.push(...this.createRange(m,y,w))}return d}Vn(e,n,r,s){const i=new Ro(e,Y.empty(),n,r);return s?i:i.en()}mn(e,n,r,s){const i=new Ro(e,Y.empty(),n,r);return s?i.en():i}In(e,n){const r=new gI(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.on(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.Tn(n);return L.forEach(s,i=>this.In(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Me(Ze.comparator),d=!1;for(const p of l.filters)for(const f of p.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:u=u.add(f.field));for(const p of l.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(d?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}fn(e,n){const r=new tu;for(const s of Po(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Xt(s.kind);Ao.Ft.Et(i,o)}return r.Ht()}Rn(e){const n=new tu;return Ao.Ft.Et(e,n.Xt(0)),n.Ht()}gn(e,n){const r=new tu;return Ao.Ft.Et(Wb(this.databaseId,n),r.Xt(function(i){const o=Po(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Ht()}dn(e,n,r){if(r===null)return[];let s=[];s.push(new tu);let i=0;for(const o of Po(e)){const a=r[i++];for(const l of s)if(this.pn(n,o.fieldPath)&&Hd(a))s=this.yn(s,o,a);else{const u=l.Xt(o.kind);Ao.Ft.Et(a,u)}}return this.wn(s)}En(e,n,r){return this.dn(e,n,r.position)}wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ht();return n}yn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new tu;l.seed(a.Ht()),Ao.Ft.Et(o,l.Xt(n.kind)),i.push(l)}return i}pn(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=nu(e),s=ja(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(i=>{const o=[];return L.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(d,p){const f=p?new zd(p.sequenceNumber,new Un(aa(p.readTime),new Y(zr(p.documentKey)),p.largestBatchId)):zd.empty(),m=d.fields.map(([y,w])=>new Ip(Ze.fromServerFormat(y),w));return new Am(d.indexId,d.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:ge(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=nu(e),i=ja(e);return this.Sn(e).next(o=>s.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>i.put(dI(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),L.forEach(a,l=>this.bn(e,s,l).next(u=>{const d=this.Dn(i,l);return u.isEqual(d)?L.resolve():this.vn(e,i,l,u,d)}))))})}Cn(e,n,r,s){return Da(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Fn(e,n,r,s){return Da(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}bn(e,n,r){const s=Da(e);let i=new Me(Js);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{i=i.add(new Ro(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}Dn(e,n){let r=new Me(Js);const s=this.fn(n,e);if(s==null)return r;const i=gw(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Hd(o))for(const a of o.arrayValue.values||[])r=r.add(new Ro(n.indexId,e.key,this.Rn(a),s))}else r=r.add(new Ro(n.indexId,e.key,If,s));return r}vn(e,n,r,s,i){G("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,d,p,f){const m=l.getIterator(),y=u.getIterator();let w=Oa(m),E=Oa(y);for(;w||E;){let x=!1,b=!1;if(w&&E){const _=d(w,E);_<0?b=!0:_>0&&(x=!0)}else w!=null?b=!0:x=!0;x?(p(E),E=Oa(y)):b?(f(w),w=Oa(m)):(w=Oa(m),E=Oa(y))}}(s,i,Js,a=>{o.push(this.Cn(e,n,r,a))},a=>{o.push(this.Fn(e,n,r,a))}),L.waitFor(o)}Sn(e){let n=1;return ja(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Js(o,a)).filter((o,a,l)=>!a||Js(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Js(o,e),l=Js(o,n);if(a===0)s[0]=e.en();else if(a>0&&l<0)s.push(o),s.push(o.en());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Mn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,If,[]],l=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,If,[]];i.push(IDBKeyRange.bound(a,l))}return i}Mn(e,n){return Js(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(xI)}getMinOffset(e,n){return L.mapArray(this.Tn(n),r=>this.In(e,r).next(s=>s||oe())).next(xI)}}function yI(t){return Ct(t,"collectionParents")}function Da(t){return Ct(t,"indexEntries")}function nu(t){return Ct(t,"indexConfiguration")}function ja(t){return Ct(t,"indexState")}function xI(t){le(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Bb(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Un(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(d,p,f)=>(a++,f.delete()));i.push(l.next(()=>{le(a===1)}));const u=[];for(const d of n.mutations){const p=nj(e,d.key.path,n.batchId);i.push(s.delete(p)),u.push(d.key)}return L.waitFor(i).next(()=>u)}function Lm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);class dv{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.xn={}}static Pt(e,n,r,s){le(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new dv(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).J({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=el(e),o=Xs(e);return o.add({}).next(a=>{le(typeof a=="number");const l=new Jb(a,n,r,s),u=function(m,y,w){const E=w.baseMutations.map(b=>Dm(m.ht,b)),x=w.mutations.map(b=>Dm(m.ht,b));return{userId:y,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:E,mutations:x}}(this.serializer,this.userId,l),d=[];let p=new Me((f,m)=>ge(f.canonicalString(),m.canonicalString()));for(const f of s){const m=nj(this.userId,f.key.path,a);p=p.add(f.key.path.popLast()),d.push(o.put(u)),d.push(i.put(m,V7))}return p.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.xn[a]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Xs(e).get(n).next(r=>r?(le(r.userId===this.userId),Co(this.serializer,r)):null)}On(e,n){return this.xn[n]?L.resolve(this.xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.xn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Xs(e).J({index:"userMutationsIndex",range:s},(o,a,l)=>{a.userId===this.userId&&(le(a.batchId>=r),i=Co(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Xs(e).J({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).U("userMutationsIndex",n).next(r=>r.map(s=>Co(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Cp(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return el(e).J({range:s},(o,a,l)=>{const[u,d,p]=o,f=zr(d);if(u===this.userId&&n.path.isEqual(f))return Xs(e).get(p).next(m=>{if(!m)throw oe();le(m.userId===this.userId),i.push(Co(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(ge);const s=[];return n.forEach(i=>{const o=Cp(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=el(e).J({range:a},(u,d,p)=>{const[f,m,y]=u,w=zr(m);f===this.userId&&i.path.isEqual(w)?r=r.add(y):p.done()});s.push(l)}),L.waitFor(s).next(()=>this.Nn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Cp(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Me(ge);return el(e).J({range:o},(l,u,d)=>{const[p,f,m]=l,y=zr(f);p===this.userId&&r.isPrefixOf(y)?y.length===s&&(a=a.add(m)):d.done()}).next(()=>this.Nn(e,a))}Nn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Xs(e).get(i).next(o=>{if(o===null)throw oe();le(o.userId===this.userId),r.push(Co(this.serializer,o))}))}),L.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return Zj(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Ln(n.batchId)}),L.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return el(e).J({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=zr(i[1]);s.push(l)}else a.done()}).next(()=>{le(s.length===0)})})}containsKey(e,n){return eM(e,this.userId,n)}Bn(e){return tM(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eM(t,e,n){const r=Cp(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return el(t).J({range:i,H:!0},(a,l,u)=>{const[d,p,f]=a;d===e&&p===s&&(o=!0),u.done()}).next(()=>o)}function Xs(t){return Ct(t,"mutations")}function el(t){return Ct(t,"documentMutations")}function tM(t){return Ct(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new la(0)}static Qn(){return new la(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Kn(e).next(n=>{const r=new la(n.highestTargetId);return n.highestTargetId=r.next(),this.$n(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Kn(e).next(n=>ce.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Kn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.$n(e,s)))}addTargetData(e,n){return this.Un(e,n).next(()=>this.Kn(e).next(r=>(r.targetCount+=1,this.Wn(n,r),this.$n(e,r))))}updateTargetData(e,n){return this.Un(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ma(e).delete(n.targetId)).next(()=>this.Kn(e)).next(r=>(le(r.targetCount>0),r.targetCount-=1,this.$n(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return Ma(e).J((o,a)=>{const l=Uu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(i)).next(()=>s)}forEachTarget(e,n){return Ma(e).J((r,s)=>{const i=Uu(s);n(i)})}Kn(e){return _I(e).get("targetGlobalKey").next(n=>(le(n!==null),n))}$n(e,n){return _I(e).put("targetGlobalKey",n)}Un(e,n){return Ma(e).put(Qj(this.serializer,n))}Wn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ia(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Ma(e).J({range:s,index:"queryTargetsIndex"},(o,a,l)=>{const u=Uu(a);yh(n,u.target)&&(i=u,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=pi(e);return n.forEach(o=>{const a=en(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(s)}removeMatchingKeys(e,n,r){const s=pi(e);return L.forEach(n,i=>{const o=en(i.path);return L.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=pi(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=pi(e);let i=_e();return s.J({range:r,H:!0},(o,a,l)=>{const u=zr(o[1]),d=new Y(u);i=i.add(d)}).next(()=>i)}containsKey(e,n){const r=en(n.path),s=IDBKeyRange.bound([r],[QD(r)],!1,!0);let i=0;return pi(e).J({index:"documentTargetsIndex",H:!0,range:s},([o,a],l,u)=>{o!==0&&(i++,u.done())}).next(()=>i>0)}ut(e,n){return Ma(e).get(n).next(r=>r?Uu(r):null)}}function Ma(t){return Ct(t,"targets")}function _I(t){return Ct(t,"targetGlobal")}function pi(t){return Ct(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class rQ{constructor(e){this.Gn=e,this.buffer=new Me(bI),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Yn(3e5)})}}class sQ{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(xn.oe);const r=new rQ(n);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(wI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wI):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ya()<=Se.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function rM(t,e){return new sQ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e,n){this.db=e,this.garbageCollector=rM(this,n)}Xn(e){const n=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}er(e,n){return this.rr(e,(r,s)=>n(s))}addReference(e,n,r){return Cf(e,r)}removeReference(e,n,r){return Cf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Cf(e,n)}ir(e,n){return function(s,i){let o=!1;return tM(s).Y(a=>eM(s,a,i).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.rr(e,(o,a)=>{if(a<=n){const l=this.ir(e,o).next(u=>{if(!u)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ce.min()),pi(e).delete(function(p){return[0,en(p.path)]}(o))))});s.push(l)}}).next(()=>L.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Cf(e,n)}rr(e,n){const r=pi(e);let s,i=xn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(i!==xn.oe&&n(new Y(zr(s)),i),i=u,s=l):i=xn.oe}).next(()=>{i!==xn.oe&&n(new Y(zr(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cf(t,e){return pi(t).put(function(r,s){return{targetId:0,path:en(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return vo(e).put(r)}removeEntry(e,n,r){return vo(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.sr(e,r)))}getEntry(e,n){let r=dt.newInvalidDocument(n);return vo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ru(n))},(s,i)=>{r=this._r(n,i)}).next(()=>r)}ar(e,n){let r={size:0,document:dt.newInvalidDocument(n)};return vo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ru(n))},(s,i)=>{r={document:this._r(n,i),size:Lm(i)}}).next(()=>r)}getEntries(e,n){let r=jn();return this.ur(e,n,(s,i)=>{const o=this._r(s,i);r=r.insert(s,o)}).next(()=>r)}cr(e,n){let r=jn(),s=new Ge(Y.comparator);return this.ur(e,n,(i,o)=>{const a=this._r(i,o);r=r.insert(i,a),s=s.insert(i,Lm(o))}).next(()=>({documents:r,lr:s}))}ur(e,n,r){if(n.isEmpty())return L.resolve();let s=new Me(SI);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(ru(s.first()),ru(s.last())),o=s.getIterator();let a=o.getNext();return vo(e).J({index:"documentKeyIndex",range:i},(l,u,d)=>{const p=Y.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&SI(a,p)<0;)r(a,null),a=o.getNext();a&&a.isEqual(p)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(ru(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),jm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vo(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let d=jn();for(const p of u){const f=this._r(Y.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);f.isFoundDocument()&&(xh(n,f)||s.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,s){let i=jn();const o=TI(n,r),a=TI(n,Un.max());return vo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,d)=>{const p=this._r(Y.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(p.key,p),i.size===s&&d.done()}).next(()=>i)}newChangeBuffer(e){return new aQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return EI(e).get("remoteDocumentGlobalKey").next(n=>(le(!!n),n))}sr(e,n){return EI(e).put("remoteDocumentGlobalKey",n)}_r(e,n){if(n){const r=WK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return dt.newInvalidDocument(e)}}function iM(t){return new oQ(t)}class aQ extends sM{constructor(e,n){super(),this.hr=e,this.trackRemovals=n,this.Pr=new Vs(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Me((i,o)=>ge(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Pr.get(i);if(n.push(this.hr.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=cI(this.hr.serializer,o);s=s.add(i.path.popLast());const u=Lm(l);r+=u-a.size,n.push(this.hr.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=cI(this.hr.serializer,o.convertToNoDocument(ce.min()));n.push(this.hr.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.hr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.hr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.hr.ar(e,n).next(r=>(this.Pr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.hr.cr(e,n).next(({documents:r,lr:s})=>(s.forEach((i,o)=>{this.Pr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function EI(t){return Ct(t,"remoteDocumentGlobal")}function vo(t){return Ct(t,"remoteDocumentsV14")}function ru(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TI(t,e){const n=e.documentKey.path.toArray();return[t,jm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function SI(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=ge(n[i],r[i]),s)return s;return s=ge(n.length,r.length),s||(s=ge(n[n.length-2],r[r.length-2]),s||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&nd(r.mutation,s,wn.empty(),nt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=Gr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Fu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=jn();const o=td(),a=function(){return td()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Fs)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),nd(d.mutation,u,d.mutation.getFieldMask(),nt.now())):o.set(u.key,wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new lQ(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=td();let s=new Ge((o,a)=>o-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||wn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const p=(s.get(a.batchId)||_e()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,p=Tj();d.forEach(f=>{if(!i.has(f)){const m=Nj(n.get(f),r.get(f));m!==null&&p.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pK(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(Gr());let a=-1,l=i;return o.next(u=>L.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,_e())).next(d=>({batchId:a,changes:Ej(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Fu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Fu();return this.indexManager.getCollectionParents(e,i).next(a=>L.forEach(a,l=>{const u=function(p,f){return new iv(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,dt.newInvalidDocument(d)))});let a=Fu();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&nd(d.mutation,u,wn.empty(),nt.now()),xh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return L.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:un(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:Yj(s.bundledQuery),readTime:un(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(){this.overlays=new Ge(Y.comparator),this.Er=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gr();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Tt(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Er.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=Gr(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ge((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Gr(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Gr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return L.resolve(a)}Tt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zb(n,r));let i=this.Er.get(n);i===void 0&&(i=_e(),this.Er.set(n,i)),this.Er.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.dr=new Me(Rt.Ar),this.Rr=new Me(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Rt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Y(new De([])),r=new Rt(n,e),s=new Rt(n,e+1),i=[];return this.Rr.forEachInRange([r,s],o=>{this.gr(o),i.push(o.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Y(new De([])),r=new Rt(n,e),s=new Rt(n,e+1);let i=_e();return this.Rr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Rt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Y.comparator(e.key,n.key)||ge(e.br,n.br)}static Vr(e,n){return ge(e.br,n.br)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Me(Rt.Ar)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Jb(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.vr=this.vr.add(new Rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Fr(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([r,s],o=>{const a=this.Cr(o.br);i.push(a)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(ge);return n.forEach(s=>{const i=new Rt(s,0),o=new Rt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([i,o],a=>{r=r.add(a.br)})}),L.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new Rt(new Y(i),0);let a=new Me(ge);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.br)),!0)},o),L.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){le(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return L.forEach(n.mutations,s=>{const i=new Rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Rt(n,0),s=this.vr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(e){this.Nr=e,this.docs=function(){return new Ge(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dt.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=jn();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Bb(JD(d),r)<=0||(s.has(d.key)||xh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe()}Lr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pQ(this)}getSize(e){return L.resolve(this.size)}}class pQ extends sM{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.persistence=e,this.Br=new Vs(n=>ia(n),yh),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new s1,this.targetCount=0,this.Qr=la.qn()}forEachTarget(e,n){return this.Br.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),L.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new la(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Un(n),L.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.Kr={},this.overlays={},this.$r=new xn(0),this.Ur=!1,this.Ur=!0,this.Wr=new dQ,this.referenceDelegate=e(this),this.Gr=new mQ(this),this.indexManager=new eQ,this.remoteDocumentCache=function(s){return new fQ(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Kj(n),this.jr=new cQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new hQ(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new gQ(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(i=>this.referenceDelegate.Jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Yr(e,n){return L.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class gQ extends ZD{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Zr=new s1,this.Xr=null}static ei(e){return new hv(e)}get ti(){if(this.Xr)return this.Xr;throw oe()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),L.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ti.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.ti,r=>{const s=Y.fromPath(r);return this.ni(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return L.or([()=>L.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Vm{constructor(e,n){this.persistence=e,this.ri=new Vs(r=>en(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=rM(this,n)}static ei(e,n){return new Vm(e,n)}Hr(){}Jr(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return L.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(i=>i?L.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),L.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rp(e.data.value)),n}ir(e,n,r){return L.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e){this.serializer=e}O(e,n,r,s){const i=new tv("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$P,{unique:!0}),l.createObjectStore("documentMutations")}(e),PI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),PI(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$P,{unique:!0});const p=u.store("mutations"),f=d.map(m=>p.put(m));return L.waitFor(f)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.ii(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.si(i)))),r<7&&s>=7&&(o=o.next(()=>this.oi(i))),r<8&&s>=8&&(o=o.next(()=>this._i(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ai(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Y7});u.createIndex("collectionPathOverlayIndex",J7,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",X7,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:F7});u.createIndex("documentKeyIndex",$7),u.createIndex("collectionGroupIndex",U7)}(e)).next(()=>this.ui(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.ci(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:W7}).createIndex("sequenceNumberIndex",H7,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:K7}).createIndex("documentKeyIndex",Q7,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}si(e){let n=0;return e.store("remoteDocuments").J((r,s)=>{n+=Lm(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ii(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(s=>L.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{le(l.userId===i.userId);const u=Co(this.serializer,l);return Zj(e,i.userId,u).next(()=>{})}))}))}oi(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.J((o,a)=>{const l=new De(o),u=function(p){return[0,en(p)]}(l);i.push(n.get(u).next(d=>d?L.resolve():(p=>n.put({targetId:0,path:en(p),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(i))})}_i(e,n){e.createObjectStore("collectionParents",{keyPath:q7});const r=n.store("collectionParents"),s=new r1,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:en(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new De(o);return i(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const d=zr(a);return i(d.popLast())}))}ai(e){const n=e.store("targets");return n.J((r,s)=>{const i=Uu(s),o=Qj(this.serializer,i);return n.put(o)})}ui(e,n){const r=n.store("remoteDocuments"),s=[];return r.J((i,o)=>{const a=n.store("remoteDocumentsV14"),l=function(p){return p.document?new Y(De.fromString(p.document.name).popFirst(5)):p.noDocument?Y.fromSegments(p.noDocument.path):p.unknownDocument?Y.fromSegments(p.unknownDocument.path):oe()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(u))}).next(()=>L.waitFor(s))}ci(e,n){const r=n.store("mutations"),s=iM(this.serializer),i=new i1(hv.ei,this.serializer.ht);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:_e();Co(this.serializer,l).keys().forEach(p=>d=d.add(p)),a.set(l.userId,d)}),L.forEach(a,(l,u)=>{const d=new kt(u),p=uv.Pt(this.serializer,d),f=i.getIndexManager(d),m=dv.Pt(d,this.serializer,f,i.referenceDelegate);return new oM(s,m,p,f).recalculateAndSaveOverlaysForDocumentKeys(new vw(n,xn.oe),l).next()})})}}function PI(t){t.createObjectStore("targetDocuments",{keyPath:z7}).createIndex("documentTargetsIndex",G7,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",B7,{unique:!0}),t.createObjectStore("targetGlobal")}const Jy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class o1{constructor(e,n,r,s,i,o,a,l,u,d,p=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.li=i,this.window=o,this.document=a,this.hi=u,this.Pi=d,this.Ti=p,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=f=>Promise.resolve(),!o1.p())throw new X(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iQ(this,s),this.Vi=n+"main",this.serializer=new Kj(l),this.mi=new Li(this.Vi,this.Ti,new vQ(this.serializer)),this.Wr=new KK,this.Gr=new nQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iM(this.serializer),this.jr=new HK,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,d===!1&&pt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(z.FAILED_PRECONDITION,Jy);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Gr.getHighestSequenceNumber(e))}).then(e=>{this.$r=new xn(e,this.hi)}).then(()=>{this.Ur=!0}).catch(e=>(this.mi&&this.mi.close(),Promise.reject(e)))}Si(e){return this.Ri=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget(async()=>{this.started&&await this.gi()}))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.bi(e).next(n=>{n||(this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)))})}).next(()=>this.Di(e)).next(n=>this.isPrimary&&!n?this.vi(e).next(()=>!1):!!n&&this.Ci(e).next(()=>!0))).catch(e=>{if(ao(e))return G("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.li.enqueueRetryable(()=>this.Ri(e)),this.isPrimary=e})}bi(e){return su(e).get("owner").next(n=>L.resolve(this.Fi(n)))}Mi(e){return Af(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ct(n,"clientMetadata");return r.U().next(s=>{const i=this.Ni(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.fi)for(const n of e)this.fi.removeItem(this.Li(n.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gi().then(()=>this.xi()).then(()=>this.wi()))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?L.resolve(!0):su(e).get("owner").next(n=>{if(n!==null&&this.Oi(n.leaseTimestampMs,5e3)&&!this.Bi(n.ownerId)){if(this.Fi(n)&&this.networkEnabled)return!0;if(!this.Fi(n)){if(!n.allowTabSynchronization)throw new X(z.FAILED_PRECONDITION,Jy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Af(e).U().next(r=>this.Ni(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new vw(e,xn.oe);return this.vi(n).next(()=>this.Mi(n))}),this.mi.close(),this.Ki()}Ni(e,n){return e.filter(r=>this.Oi(r.updateTimeMs,n)&&!this.Bi(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Af(e).U().next(n=>this.Ni(n,18e5).map(r=>r.clientId)))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,n){return dv.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tQ(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return uv.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,n,r){G("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===17?tK:l===16?eK:l===15?Gb:l===14?ij:l===13?sj:l===12?Z7:l===11?rj:void oe()}(this.Ti);let o;return this.mi.runTransaction(e,s,i,a=>(o=new vw(a,this.$r?this.$r.next():xn.oe),n==="readwrite-primary"?this.bi(o).next(l=>!!l||this.Di(o)).next(l=>{if(!l)throw pt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)),new X(z.FAILED_PRECONDITION,XD);return r(o)}).next(l=>this.Ci(o).next(()=>l)):this.Ui(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ui(e){return su(e).get("owner").next(n=>{if(n!==null&&this.Oi(n.leaseTimestampMs,5e3)&&!this.Bi(n.ownerId)&&!this.Fi(n)&&!(this.Pi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new X(z.FAILED_PRECONDITION,Jy)})}Ci(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return su(e).put("owner",n)}static p(){return Li.p()}vi(e){const n=su(e);return n.get("owner").next(r=>this.Fi(r)?(G("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Oi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(pt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}pi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ei=()=>{this.li.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.gi()))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground=this.document.visibilityState==="visible")}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ii=()=>{this.ki();const n=/(?:Version|Mobile)\/1[456]/;ZO()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var n;try{const r=((n=this.fi)===null||n===void 0?void 0:n.getItem(this.Li(e)))!==null;return G("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){pt("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch{}}Li(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function su(t){return Ct(t,"owner")}function Af(t){return Ct(t,"clientMetadata")}function aM(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=s}static zi(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new a1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return ZO()?8:ej(It())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Xi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.es(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new yQ;return this.ts(e,n,o).next(a=>{if(i.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>i.result)}ns(e,n,r,s){return r.documentReadCount<this.Ji?(Ya()<=Se.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),L.resolve()):(Ya()<=Se.DEBUG&&G("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Ya()<=Se.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):L.resolve())}Xi(e,n){if(ZP(n))return L.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ew(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_e(...i);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.rs(n,a);return this.ss(n,u,o,l.readTime)?this.Xi(e,Ew(n,null,"F")):this.os(e,u,n,l)}))})))}es(e,n,r,s){return ZP(n)||s.isEqual(ce.min())?L.resolve(null):this.Zi.getDocuments(e,r).next(i=>{const o=this.rs(n,i);return this.ss(n,o,r,s)?L.resolve(null):(Ya()<=Se.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ja(n)),this.os(e,o,n,YD(s,-1)).next(a=>a))})}rs(e,n){let r=new Me(_j(e));return n.forEach((s,i)=>{xh(e,i)&&(r=r.add(i))}),r}ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ts(e,n,r){return Ya()<=Se.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.Zi.getDocumentsMatchingQuery(e,n,Un.min(),r)}os(e,n,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,n,r,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new Ge(ge),this.cs=new Vs(i=>ia(i),yh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oM(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function cM(t,e,n,r){return new xQ(t,e,n,r)}async function uM(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=_e();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function wQ(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const p=u.batch,f=p.keys();let m=L.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(w=>{const E=u.docVersions.get(y);le(E!==null),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dM(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function _Q(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const a=[];e.targetChanges.forEach((d,p)=>{const f=s.get(p);if(!f)return;a.push(n.Gr.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(i,d.addedDocuments,p)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(p,m),function(w,E,x){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,d)&&a.push(n.Gr.updateTargetData(i,m))});let l=jn(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(bQ(i,o,e.documentUpdates).next(d=>{l=d.Is,u=d.Es})),!r.isEqual(ce.min())){const d=n.Gr.getLastRemoteSnapshotVersion(i).next(p=>n.Gr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.us=s,i))}function bQ(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=jn();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Is:o,Es:s}})}function EQ(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fm(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Gr.getTargetData(r,e).next(i=>i?(s=i,L.resolve(s)):n.Gr.allocateTargetId(r).next(o=>(s=new ws(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function rc(t,e,n){const r=ae(t),s=r.us.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ao(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function Nw(t,e,n){const r=ae(t);let s=ce.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const p=ae(l),f=p.cs.get(d);return f!==void 0?L.resolve(p.us.get(f)):p.Gr.getTargetData(u,d)}(r,o,Vn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:_e())).next(a=>(pM(r,wj(e),a),{documents:a,ds:i})))}function hM(t,e){const n=ae(t),r=ae(n.Gr),s=n.us.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",i=>r.ut(i,e).next(o=>o?o.target:null))}function fM(t,e){const n=ae(t),r=n.ls.get(e)||ce.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.hs.getAllFromCollectionGroup(s,e,YD(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(pM(n,e,s),s))}function pM(t,e,n){let r=t.ls.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ls.set(e,r)}function II(t,e){return`firestore_clients_${t}_${e}`}function CI(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Xy(t,e){return`firestore_targets_${t}_${e}`}class $m{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static fs(e,n,r){const s=JSON.parse(r);let i,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(i=new X(s.error.code,s.error.message))),o?new $m(e,n,s.state,i):(pt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rd{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static fs(e,n){const r=JSON.parse(n);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new X(r.error.code,r.error.message))),i?new rd(e,r.state,s):(pt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Um{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static fs(e,n){const r=JSON.parse(n);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=Kb();for(let o=0;s&&o<r.activeTargetIds.length;++o)s=tj(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return s?new Um(e,i):(pt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class l1{constructor(e,n){this.clientId=e,this.onlineState=n}static fs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new l1(n.clientId,n.onlineState):(pt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kw{constructor(){this.activeTargetIds=Kb()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zy{constructor(e,n,r,s,i){this.window=e,this.li=n,this.persistenceKey=r,this.ws=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new Ge(ge),this.started=!1,this.vs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Cs=II(this.persistenceKey,this.ws),this.Fs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new kw),this.Ms=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.xs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Os=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Ns=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Ls=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.ws)continue;const s=this.getItem(II(this.persistenceKey,r));if(s){const i=Um.fs(r,s);i&&(this.Ds=this.Ds.insert(i.clientId,i))}}this.Bs();const n=this.storage.getItem(this.Ns);if(n){const r=this.ks(n);r&&this.qs(r)}for(const r of this.vs)this.bs(r);this.vs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let n=!1;return this.Ds.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,n,r){this.Ks(e,n,r),this.$s(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Xy(this.persistenceKey,e));if(s){const i=rd.fs(e,s);i&&(r=i.state)}}return n&&this.Us.ps(e),this.Bs(),r}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xy(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ws(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.$s(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return G("SharedClientState","READ",e,n),n}setItem(e,n){G("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){G("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const n=e;if(n.storageArea===this.storage){if(G("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Cs)return void pt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ms.test(n.key)){if(n.newValue==null){const r=this.js(n.key);return this.Hs(r,null)}{const r=this.Js(n.key,n.newValue);if(r)return this.Hs(r.clientId,r)}}else if(this.xs.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(this.Os.test(n.key)){if(n.newValue!==null){const r=this.Xs(n.key,n.newValue);if(r)return this.eo(r)}}else if(n.key===this.Ns){if(n.newValue!==null){const r=this.ks(n.newValue);if(r)return this.qs(r)}}else if(n.key===this.Fs){const r=function(i){let o=xn.oe;if(i!=null)try{const a=JSON.parse(i);le(typeof a=="number"),o=a}catch(a){pt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==xn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Ls){const r=this.no(n.newValue);await Promise.all(r.map(s=>this.syncEngine.ro(s)))}}}else this.vs.push(n)})}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,n,r){const s=new $m(this.currentUser,e,n,r),i=CI(this.persistenceKey,this.currentUser,e);this.setItem(i,s.gs())}$s(e){const n=CI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Gs(e){const n={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(n))}Ws(e,n,r){const s=Xy(this.persistenceKey,e),i=new rd(e,n,r);this.setItem(s,i.gs())}zs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ls,n)}js(e){const n=this.Ms.exec(e);return n?n[1]:null}Js(e,n){const r=this.js(e);return Um.fs(r,n)}Ys(e,n){const r=this.xs.exec(e),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return $m.fs(new kt(i),s,n)}Xs(e,n){const r=this.Os.exec(e),s=Number(r[1]);return rd.fs(s,n)}ks(e){return l1.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);G("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,n){const r=n?this.Ds.insert(e,n):this.Ds.remove(e),s=this.Qs(this.Ds),i=this.Qs(r),o=[],a=[];return i.forEach(l=>{s.has(l)||o.push(l)}),s.forEach(l=>{i.has(l)||a.push(l)}),this.syncEngine.oo(o,a).then(()=>{this.Ds=r})}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let n=Kb();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class mM{constructor(){this._o=new kw,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=null;function e0(){return Rf===null?Rf=function(){return 268435456+Math.round(2147483648*Math.random())}():Rf++,"0x"+Rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class IQ extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${s}/databases/${i}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Oo(n,r,s,i,o){const a=e0(),l=this.No(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,i,o),this.Bo(n,l,u,s).then(d=>(G("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ra("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}ko(n,r,s,i,o,a){return this.Oo(n,r,s,i,o)}Lo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_c}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}No(n,r){const s=SQ[n];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,s){const i=e0();return new Promise((o,a)=>{const l=new BD;l.setWithCredentials(!0),l.listenOnce(zD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pp.NO_ERROR:const d=l.getResponseJson();G(Qt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Pp.TIMEOUT:G(Qt,`RPC '${e}' ${i} timed out`),a(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case Pp.HTTP_ERROR:const p=l.getStatus();if(G(Qt,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(x)>=0?x:z.UNKNOWN}(m.status);a(new X(y,m.message))}else a(new X(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(z.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{G(Qt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);G(Qt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}qo(e,n,r){const s=e0(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WD(),a=qD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");G(Qt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const p=o.createWebChannel(d,l);let f=!1,m=!1;const y=new PQ({Eo:E=>{m?G(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(G(Qt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),G(Qt,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Ao:()=>p.close()}),w=(E,x,b)=>{E.listen(x,_=>{try{b(_)}catch(C){setTimeout(()=>{throw C},0)}})};return w(p,Vu.EventType.OPEN,()=>{m||(G(Qt,`RPC '${e}' stream ${s} transport opened.`),y.So())}),w(p,Vu.EventType.CLOSE,()=>{m||(m=!0,G(Qt,`RPC '${e}' stream ${s} transport closed`),y.Do())}),w(p,Vu.EventType.ERROR,E=>{m||(m=!0,ra(Qt,`RPC '${e}' stream ${s} transport errored:`,E),y.Do(new X(z.UNAVAILABLE,"The operation could not be completed")))}),w(p,Vu.EventType.MESSAGE,E=>{var x;if(!m){const b=E.data[0];le(!!b);const _=b,C=(_==null?void 0:_.error)||((x=_[0])===null||x===void 0?void 0:x.error);if(C){G(Qt,`RPC '${e}' stream ${s} received error:`,C);const O=C.status;let M=function(I){const A=wt[I];if(A!==void 0)return Dj(A)}(O),P=C.message;M===void 0&&(M=z.INTERNAL,P="Unknown error status: "+O+" with message "+C.message),m=!0,y.Do(new X(M,P)),p.close()}else G(Qt,`RPC '${e}' stream ${s} received:`,b),y.vo(b)}}),w(a,GD.STAT_EVENT,E=>{E.stat===mw.PROXY?G(Qt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===mw.NOPROXY&&G(Qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.bo()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return typeof window<"u"?window:null}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){return new MK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r=1e3,s=1.5,i=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=s,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r,s,i,o,a,l){this.li=e,this.Yo=r,this.Zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new vM(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(pt(n.toString()),pt("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===n&&this.I_(r,s)},r=>{e(()=>{const s=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CQ extends yM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=FK(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?un(o.readTime):ce.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Pw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Nm(l)?{documents:Bj(i,l)}:{query:zj(i,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Lj(i,o.resumeToken);const u=Tw(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=nc(i,o.snapshotVersion.toTimestamp());const u=Tw(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=UK(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Pw(this.serializer),n.removeTarget=e,this.c_(n)}}class AQ extends yM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return le(!!e.streamToken),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=$K(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Pw(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Dm(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Oo(e,Sw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(z.UNKNOWN,i.toString())})}ko(e,n,r,s,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Sw(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class NQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pt(n),this.C_=!1):G("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Ea(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.k_.add(4),await bh(u),u.K_.set("Unknown"),u.k_.delete(4),await pv(u)}(this))})}),this.K_=new NQ(r,s)}}async function pv(t){if(Ea(t))for(const e of t.q_)await e(!0)}async function bh(t){for(const e of t.q_)await e(!1)}function mv(t,e){const n=ae(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),d1(n)?u1(n):Tc(n).s_()&&c1(n,e))}function sc(t,e){const n=ae(t),r=Tc(n);n.B_.delete(e),r.s_()&&xM(n,e),n.B_.size===0&&(r.s_()?r.a_():Ea(n)&&n.K_.set("Unknown"))}function c1(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tc(t).V_(e)}function xM(t,e){t.U_.xe(e),Tc(t).m_(e)}function u1(t){t.U_=new kK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Tc(t).start(),t.K_.F_()}function d1(t){return Ea(t)&&!Tc(t).i_()&&t.B_.size>0}function Ea(t){return ae(t).k_.size===0}function wM(t){t.U_=void 0}async function OQ(t){t.K_.set("Online")}async function DQ(t){t.B_.forEach((e,n)=>{c1(t,e)})}async function jQ(t,e){wM(t),d1(t)?(t.K_.O_(e),u1(t)):t.K_.set("Unknown")}async function MQ(t,e,n){if(t.K_.set("Online"),e instanceof Mj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.B_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.B_.delete(a),s.U_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bm(t,r)}else if(e instanceof Op?t.U_.$e(e):e instanceof jj?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ce.min()))try{const r=await dM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.U_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.B_.get(u);d&&i.B_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.B_.get(l);if(!d)return;i.B_.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),xM(i,l);const p=new ws(d.target,l,u,d.sequenceNumber);c1(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Bm(t,r)}}async function Bm(t,e,n){if(!ao(e))throw e;t.k_.add(1),await bh(t),t.K_.set("Offline"),n||(n=()=>dM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await pv(t)})}function _M(t,e){return e().catch(n=>Bm(t,n,e))}async function Ec(t){const e=ae(t),n=Yi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;LQ(e);)try{const s=await EQ(e.localStore,r);if(s===null){e.L_.length===0&&n.a_();break}r=s.batchId,VQ(e,s)}catch(s){await Bm(e,s)}bM(e)&&EM(e)}function LQ(t){return Ea(t)&&t.L_.length<10}function VQ(t,e){t.L_.push(e);const n=Yi(t);n.s_()&&n.f_&&n.g_(e.mutations)}function bM(t){return Ea(t)&&!Yi(t).i_()&&t.L_.length>0}function EM(t){Yi(t).start()}async function FQ(t){Yi(t).w_()}async function $Q(t){const e=Yi(t);for(const n of t.L_)e.g_(n.mutations)}async function UQ(t,e,n){const r=t.L_.shift(),s=Xb.from(r,e,n);await _M(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ec(t)}async function BQ(t,e){e&&Yi(t).f_&&await async function(r,s){if(function(o){return AK(o)&&o!==z.ABORTED}(s.code)){const i=r.L_.shift();Yi(r).__(),await _M(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ec(r)}}(t,e),bM(t)&&EM(t)}async function RI(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Ea(n);n.k_.add(3),await bh(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await pv(n)}async function Ow(t,e){const n=ae(t);e?(n.k_.delete(2),await pv(n)):e||(n.k_.add(2),await bh(n),n.K_.set("Unknown"))}function Tc(t){return t.W_||(t.W_=function(n,r,s){const i=ae(n);return i.b_(),new CQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:OQ.bind(null,t),mo:DQ.bind(null,t),po:jQ.bind(null,t),R_:MQ.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),d1(t)?u1(t):t.K_.set("Unknown")):(await t.W_.stop(),wM(t))})),t.W_}function Yi(t){return t.G_||(t.G_=function(n,r,s){const i=ae(n);return i.b_(),new AQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:FQ.bind(null,t),po:BQ.bind(null,t),p_:$Q.bind(null,t),y_:UQ.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Ec(t)):(await t.G_.stop(),t.L_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new h1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f1(t,e){if(pt("AsyncQueue",`${e}: ${t}`),ao(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Fu(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.z_=new Ge(Y.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):oe():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ic{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ic(e,n,Cl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class GQ{constructor(){this.queries=kI(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=kI(),i.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function kI(){return new Vs(t=>xj(t),av)}async function qQ(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Y_()&&e.Z_()&&(r=2):(i=new zQ,r=e.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(s,!0);break;case 1:i.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=f1(o,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.J_.push(e),e.ea(n.onlineState),i.H_&&e.ta(i.H_)&&p1(n)}async function WQ(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.J_.indexOf(e);o>=0&&(i.J_.splice(o,1),i.J_.length===0?s=e.Z_()?0:1:!i.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HQ(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.J_)a.ta(s)&&(r=!0);o.H_=s}}r&&p1(n)}function KQ(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.J_)i.onError(n);r.queries.delete(e)}function p1(t){t.X_.forEach(e=>{e.next()})}var Dw,OI;(OI=Dw||(Dw={})).na="default",OI.Cache="cache";class QQ{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Dw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.key=e}}class SM{constructor(e){this.key=e}}class YQ{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=_e(),this.mutatedKeys=_e(),this.Va=_j(e),this.ma=new Cl(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new NI,s=n?n.ma:this.ma;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const f=s.get(d),m=xh(this.query,p)?p:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),E=!0):this.ya(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Va(m,l)>0||u&&this.Va(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:i}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,p)=>function(m,y){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return w(m)-w(y)}(d.type,p.type)||this.Va(d.doc,p.doc)),this.wa(r),s=s!=null&&s;const a=n&&!s?this.Sa():[],l=this.Ra.size===0&&this.current&&!s?1:0,u=l!==this.Aa;return this.Aa=l,o.length!==0||u?{snapshot:new ic(this.query,e.ma,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new NI,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=_e(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new SM(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new TM(r))}),n}va(e){this.da=e.ds,this.Ra=_e();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ic.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class JQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XQ{constructor(e){this.key=e,this.Fa=!1}}class ZQ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Vs(a=>xj(a),av),this.Oa=new Map,this.Na=new Set,this.La=new Ge(Y.comparator),this.Ba=new Map,this.ka=new s1,this.qa={},this.Qa=new Map,this.Ka=la.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function eY(t,e,n=!0){const r=gv(t);let s;const i=r.xa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Ca()):s=await PM(r,e,n,!0),s}async function tY(t,e){const n=gv(t);await PM(n,e,!0,!1)}async function PM(t,e,n,r){const s=await Fm(t.localStore,Vn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await m1(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&mv(t.remoteStore,s),a}async function m1(t,e,n,r,s){t.Ua=(p,f,m)=>async function(w,E,x,b){let _=E.view.ga(x);_.ss&&(_=await Nw(w.localStore,E.query,!1).then(({documents:P})=>E.view.ga(P,_)));const C=b&&b.targetChanges.get(E.targetId),O=b&&b.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(_,w.isPrimaryClient,C,O);return jw(w,E.targetId,M.ba),M.snapshot}(t,p,f,m);const i=await Nw(t.localStore,e,!0),o=new YQ(e,i.ds),a=o.ga(i.documents),l=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);jw(t,n,u.ba);const d=new JQ(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),u.snapshot}async function nY(t,e,n){const r=ae(t),s=r.xa.get(e),i=r.Oa.get(s.targetId);if(i.length>1)return r.Oa.set(s.targetId,i.filter(o=>!av(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&sc(r.remoteStore,s.targetId),oc(r,s.targetId)}).catch(oo)):(oc(r,s.targetId),await rc(r.localStore,s.targetId,!0))}async function rY(t,e){const n=ae(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sc(n.remoteStore,r.targetId))}async function sY(t,e,n){const r=x1(t);try{const s=await function(o,a){const l=ae(o),u=nt.now(),d=a.reduce((m,y)=>m.add(y.key),_e());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=jn(),w=_e();return l.hs.getEntries(m,d).next(E=>{y=E,y.forEach((x,b)=>{b.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(E=>{p=E;const x=[];for(const b of a){const _=IK(b,p.get(b.key).overlayedDocument);_!=null&&x.push(new Fs(b.key,_,uj(_.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,a)}).next(E=>{f=E;const x=E.applyToLocalDocumentSet(p,w);return l.documentOverlayCache.saveOverlays(m,E.batchId,x)})}).then(()=>({batchId:f.batchId,changes:Ej(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.qa[o.currentUser.toKey()];u||(u=new Ge(ge)),u=u.insert(a,l),o.qa[o.currentUser.toKey()]=u}(r,s.batchId,n),await co(r,s.changes),await Ec(r.remoteStore)}catch(s){const i=f1(s,"Failed to persist write");n.reject(i)}}async function IM(t,e){const n=ae(t);try{const r=await _Q(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ba.get(i);o&&(le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Fa=!0:s.modifiedDocuments.size>0?le(o.Fa):s.removedDocuments.size>0&&(le(o.Fa),o.Fa=!1))}),await co(n,r,e)}catch(r){await oo(r)}}function DI(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.xa.forEach((i,o)=>{const a=o.view.ea(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(const f of p.J_)f.ea(a)&&(u=!0)}),u&&p1(l)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iY(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ba.get(e),i=s&&s.key;if(i){let o=new Ge(Y.comparator);o=o.insert(i,dt.newNoDocument(i,ce.min()));const a=_e().add(i),l=new wh(ce.min(),new Map,new Ge(ge),o,a);await IM(r,l),r.La=r.La.remove(i),r.Ba.delete(e),y1(r)}else await rc(r.localStore,e,!1).then(()=>oc(r,e,n)).catch(oo)}async function oY(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await wQ(n.localStore,e);v1(n,r,null),g1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await co(n,s)}catch(s){await oo(s)}}async function aY(t,e,n){const r=ae(t);try{const s=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(le(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);v1(r,e,n),g1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await co(r,s)}catch(s){await oo(s)}}function g1(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function v1(t,e,n){const r=ae(t);let s=r.qa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function oc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||CM(t,r)})}function CM(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(sc(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),y1(t))}function jw(t,e,n){for(const r of n)r instanceof TM?(t.ka.addReference(r.key,e),lY(t,r)):r instanceof SM?(G("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||CM(t,r.key)):oe()}function lY(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(G("SyncEngine","New document in limbo: "+n),t.Na.add(r),y1(t))}function y1(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Y(De.fromString(e)),r=t.Ka.next();t.Ba.set(r,new XQ(n)),t.La=t.La.insert(n,r),mv(t.remoteStore,new ws(Vn(ov(n.path)),r,"TargetPurposeLimboResolution",xn.oe))}}async function co(t,e,n){const r=ae(t),s=[],i=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=a1.zi(l.targetId,u);i.push(p)}}))}),await Promise.all(o),r.Ma.R_(s),await async function(l,u){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(u,f=>L.forEach(f.Wi,m=>d.persistence.referenceDelegate.addReference(p,f.targetId,m)).next(()=>L.forEach(f.Gi,m=>d.persistence.referenceDelegate.removeReference(p,f.targetId,m)))))}catch(p){if(!ao(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const f=p.targetId;if(!p.fromCache){const m=d.us.get(f),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);d.us=d.us.insert(f,w)}}}(r.localStore,i))}async function cY(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await uM(n.localStore,e);n.currentUser=e,function(i,o){i.Qa.forEach(a=>{a.forEach(l=>{l.reject(new X(z.CANCELLED,o))})}),i.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await co(n,r.Ts)}}function uY(t,e){const n=ae(t),r=n.Ba.get(e);if(r&&r.Fa)return _e().add(r.key);{let s=_e();const i=n.Oa.get(e);if(!i)return s;for(const o of i){const a=n.xa.get(o);s=s.unionWith(a.view.fa)}return s}}async function dY(t,e){const n=ae(t),r=await Nw(n.localStore,e.query,!0),s=e.view.va(r);return n.isPrimaryClient&&jw(n,e.targetId,s.ba),s}async function hY(t,e){const n=ae(t);return fM(n.localStore,e).then(r=>co(n,r))}async function fY(t,e,n,r){const s=ae(t),i=await function(a,l){const u=ae(a),d=ae(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",p=>d.On(p,l).next(f=>f?u.localDocuments.getDocuments(p,f):L.resolve(null)))}(s.localStore,e);i!==null?(n==="pending"?await Ec(s.remoteStore):n==="acknowledged"||n==="rejected"?(v1(s,e,r||null),g1(s,e),function(a,l){ae(ae(a).mutationQueue).Ln(l)}(s.localStore,e)):oe(),await co(s,i)):G("SyncEngine","Cannot apply mutation batch with id: "+e)}async function pY(t,e){const n=ae(t);if(gv(n),x1(n),e===!0&&n.$a!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),s=await jI(n,r.toArray());n.$a=!0,await Ow(n.remoteStore,!0);for(const i of s)mv(n.remoteStore,i)}else if(e===!1&&n.$a!==!1){const r=[];let s=Promise.resolve();n.Oa.forEach((i,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):s=s.then(()=>(oc(n,o),rc(n.localStore,o,!0))),sc(n.remoteStore,o)}),await s,await jI(n,r),function(o){const a=ae(o);a.Ba.forEach((l,u)=>{sc(a.remoteStore,u)}),a.ka.wr(),a.Ba=new Map,a.La=new Ge(Y.comparator)}(n),n.$a=!1,await Ow(n.remoteStore,!1)}}async function jI(t,e,n){const r=ae(t),s=[],i=[];for(const o of e){let a;const l=r.Oa.get(o);if(l&&l.length!==0){a=await Fm(r.localStore,Vn(l[0]));for(const u of l){const d=r.xa.get(u),p=await dY(r,d);p.snapshot&&i.push(p.snapshot)}}else{const u=await hM(r.localStore,o);a=await Fm(r.localStore,u),await m1(r,AM(u),o,!1,a.resumeToken)}s.push(a)}return r.Ma.R_(i),s}function AM(t){return yj(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mY(t){return function(n){return ae(ae(n).persistence).$i()}(ae(t).localStore)}async function gY(t,e,n,r){const s=ae(t);if(s.$a)return void G("SyncEngine","Ignoring unexpected query state notification.");const i=s.Oa.get(e);if(i&&i.length>0)switch(n){case"current":case"not-current":{const o=await fM(s.localStore,wj(i[0])),a=wh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",gt.EMPTY_BYTE_STRING);await co(s,o,a);break}case"rejected":await rc(s.localStore,e,!0),oc(s,e,r);break;default:oe()}}async function vY(t,e,n){const r=gv(t);if(r.$a){for(const s of e){if(r.Oa.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){G("SyncEngine","Adding an already active target "+s);continue}const i=await hM(r.localStore,s),o=await Fm(r.localStore,i);await m1(r,AM(i),o.targetId,!1,o.resumeToken),mv(r.remoteStore,o)}for(const s of n)r.Oa.has(s)&&await rc(r.localStore,s,!1).then(()=>{sc(r.remoteStore,s),oc(r,s)}).catch(oo)}}function gv(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iY.bind(null,e),e.Ma.R_=HQ.bind(null,e.eventManager),e.Ma.Wa=KQ.bind(null,e.eventManager),e}function x1(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aY.bind(null,e),e}class Qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fv(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return cM(this.persistence,new lM,e.initialUser,this.serializer)}ja(e){return new i1(hv.ei,this.serializer)}za(e){return new mM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qd.provider={build:()=>new Qd};class yY extends Qd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){le(this.persistence.referenceDelegate instanceof Vm);const r=this.persistence.referenceDelegate.garbageCollector;return new nM(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new i1(r=>Vm.ei(r,n),this.serializer)}}class xY extends Qd{constructor(e,n,r){super(),this.Za=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await x1(this.Za.syncEngine),await Ec(this.Za.remoteStore),await this.persistence.Si(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ha(e){return cM(this.persistence,new lM,e.initialUser,this.serializer)}Ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new nM(r,e.asyncQueue,n)}Ya(e,n){const r=new M7(n,this.persistence);return new j7(e.asyncQueue,r)}ja(e){const n=aM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new o1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,gM(),Dp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new mM}}class wY extends xY{constructor(e,n){super(e,n,!1),this.Za=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Za.syncEngine;this.sharedClientState instanceof Zy&&(this.sharedClientState.syncEngine={io:fY.bind(null,n),so:gY.bind(null,n),oo:vY.bind(null,n),$i:mY.bind(null,n),ro:hY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Si(async r=>{await pY(this.Za.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}za(e){const n=gM();if(!Zy.p(n))throw new X(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=aM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cY.bind(null,this.syncEngine),await Ow(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GQ}()}createDatastore(e){const n=fv(e.databaseInfo.databaseId),r=function(i){return new IQ(i)}(e.databaseInfo);return function(i,o,a,l){return new RQ(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new kQ(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>DI(this.syncEngine,n,0),function(){return AI.p()?new AI:new TQ}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const p=new ZQ(s,i,o,a,l,u);return d&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G("RemoteStore","RemoteStore shutting down."),i.k_.add(5),await bh(i),i.Q_.shutdown(),i.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pt("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=KD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=f1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function t0(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await uM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EY(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>RI(e.remoteStore,s)),t._onlineComponents=e}async function EY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await t0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await t0(t,new Qd)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await t0(t,new yY(void 0));return t._offlineComponents}async function RM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await MI(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await MI(t,new zm))),t._onlineComponents}function TY(t){return RM(t).then(e=>e.syncEngine)}async function SY(t){const e=await RM(t),n=e.eventManager;return n.onListen=eY.bind(null,e.syncEngine),n.onUnlisten=nY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rY.bind(null,e.syncEngine),n}function PY(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new _Y({next:f=>{d.eu(),o.enqueueAndForget(()=>WQ(i,p));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new X(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new X(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new QQ(ov(a.path),d,{includeMetadataChanges:!0,ua:!0});return qQ(i,p)}(await SY(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IY(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VI(t){if(!Y.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FI(t){if(Y.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=w1(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $I({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $I(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new T7;switch(r.type){case"firstParty":return new C7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LI.get(n);r&&(G("ComponentProvider","Removing Datastore"),LI.delete(n),r.terminate())}(this),Promise.resolve()}}function CY(t,e,n,r={}){var s;const i=(t=Ji(t,vv))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=JO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}t._authCredentials=new S7(new HD(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _1(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Vi extends _1{constructor(e,n,r){super(e,n,ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Y(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function OM(t,e,...n){if(t=jt(t),kM("collection","path",e),t instanceof vv){const r=De.fromString(e,...n);return FI(r),new Vi(t,null,r)}{if(!(t instanceof Pn||t instanceof Vi))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return FI(r),new Vi(t.firestore,null,r)}}function Eh(t,e,...n){if(t=jt(t),arguments.length===1&&(e=KD.newId()),kM("doc","path",e),t instanceof vv){const r=De.fromString(e,...n);return VI(r),new Pn(t,null,new Y(r))}{if(!(t instanceof Pn||t instanceof Vi))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return VI(r),new Pn(t.firestore,t instanceof Vi?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new vM(this,"async_queue_retry"),this.fu=()=>{const r=Dp();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Es;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ao(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pt("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=h1.createAndSchedule(this,e,n,r,i=>this.Su(i));return this.du.push(s),s}pu(){this.Au&&oe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Th extends vv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new UI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UI(e),this._firestoreClient=void 0,await e}}}function AY(t,e){const n=typeof t=="object"?t:Jg(),r=typeof t=="string"?t:"(default)",s=no(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=KO("firestore");i&&CY(s,...i)}return s}function DM(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jM(t),t._firestoreClient}function jM(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new rK(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NM(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new bY(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}async function MM(t){ra("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();RY(t,zm.provider,{build:n=>new wY(n,e.cacheSizeBytes)})}function RY(t,e,n){if((t=Ji(t,Th))._firestoreClient||t._terminated)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new X(z.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},jM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(gt.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ac(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY=/^__.*__$/;class kY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class LM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class T1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new T1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Gm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(VM(this.Mu)&&NY.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class OY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fv(e)}$u(e,n,r,s=!1){return new T1({Mu:e,methodName:n,Ku:r,path:Ze.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FM(t){const e=t._freezeSettings(),n=fv(t._databaseId);return new OY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DY(t,e,n,r,s,i={}){const o=t.$u(i.merge||i.mergeFields?2:0,e,n,s);P1("Data must be an object, but it was:",o,r);const a=$M(r,o);let l,u;if(i.merge)l=new wn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const f=Mw(e,p,n);if(!o.contains(f))throw new X(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);BM(d,f)||d.push(f)}l=new wn(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new kY(new Zt(a),l,u)}class wv extends xv{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wv}}class S1 extends xv{_toFieldTransform(e){return new Rj(e.path,new Zl)}isEqual(e){return e instanceof S1}}function jY(t,e,n,r){const s=t.$u(1,e,n);P1("Data must be an object, but it was:",s,r);const i=[],o=Zt.empty();lo(r,(l,u)=>{const d=I1(e,l,n);u=jt(u);const p=s.Bu(d);if(u instanceof wv)i.push(d);else{const f=_v(u,p);f!=null&&(i.push(d),o.set(d,f))}});const a=new wn(i);return new LM(o,a,s.fieldTransforms)}function MY(t,e,n,r,s,i){const o=t.$u(1,e,n),a=[Mw(e,r,n)],l=[s];if(i.length%2!=0)throw new X(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Mw(e,i[f])),l.push(i[f+1]);const u=[],d=Zt.empty();for(let f=a.length-1;f>=0;--f)if(!BM(u,a[f])){const m=a[f];let y=l[f];y=jt(y);const w=o.Bu(m);if(y instanceof wv)u.push(m);else{const E=_v(y,w);E!=null&&(u.push(m),d.set(m,E))}}const p=new wn(u);return new LM(d,p,o.fieldTransforms)}function _v(t,e){if(UM(t=jt(t)))return P1("Unsupported field value:",e,t),$M(t,e);if(t instanceof xv)return function(r,s){if(!VM(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=_v(a,s.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _K(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=nt.fromDate(r);return{timestampValue:nc(s.serializer,i)}}if(r instanceof nt){const i=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nc(s.serializer,i)}}if(r instanceof b1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ac)return{bytesValue:Lj(s.serializer,r._byteString)};if(r instanceof Pn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:t1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof E1)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return Qb(a.serializer,l)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${w1(r)}`)}(t,e)}function $M(t,e){const n={};return oj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,s)=>{const i=_v(s,e.Ou(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function UM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof b1||t instanceof ac||t instanceof Pn||t instanceof xv||t instanceof E1)}function P1(t,e,n){if(!UM(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=w1(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Mw(t,e,n){if((e=jt(e))instanceof yv)return e._internalPath;if(typeof e=="string")return I1(t,e);throw Gm("Field path arguments must be of type string or ",t,!1,void 0,n)}const LY=new RegExp("[~\\*/\\[\\]]");function I1(t,e,n){if(e.search(LY)>=0)throw Gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yv(...e.split("."))._internalPath}catch{throw Gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(z.INVALID_ARGUMENT,a+t+l)}function BM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VY extends zM{data(){return super.data()}}function GM(t,e){return typeof e=="string"?I1(t,e):e instanceof yv?e._internalPath:e._delegate._internalPath}class FY{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qe(o.doubleValue));return new E1(i)}convertGeoPoint(e){return new b1(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){const n=Os(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);le(Hj(r));const s=new sa(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||pt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qM extends zM{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new BY(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(GM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class BY extends qM{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){t=Ji(t,Pn);const e=Ji(t.firestore,Th);return PY(DM(e),t._key).then(n=>GY(e,t,n))}class zY extends FY{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function C1(t,e,n){t=Ji(t,Pn);const r=Ji(t.firestore,Th),s=$Y(t.converter,e);return KM(r,[DY(FM(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_n.none())])}function HM(t,e,n,...r){t=Ji(t,Pn);const s=Ji(t.firestore,Th),i=FM(s);let o;return o=typeof(e=jt(e))=="string"||e instanceof yv?MY(i,"updateDoc",t._key,e,n,r):jY(i,"updateDoc",t._key,e),KM(s,[o.toMutation(t._key,_n.exists(!0))])}function KM(t,e){return function(r,s){const i=new Es;return r.asyncQueue.enqueueAndForget(async()=>sY(await TY(r),s,i)),i.promise}(DM(t),e)}function GY(t,e,n){const r=n.docs.get(e._key),s=new zY(t);return new qM(t,s,e._key,r,new UY(n.hasPendingWrites,n.fromCache),e.converter)}function n0(){return new S1("serverTimestamp")}(function(e,n=!0){(function(s){_c=s})(ba),Sr(new er("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Th(new P7(r.getProvider("auth-internal")),new R7(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Sn(LP,"4.7.5",e),Sn(LP,"4.7.5","esm2017")})();const QM="@firebase/installations",A1="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1e4,JM=`w:${A1}`,XM="FIS_v2",qY="https://firebaseinstallations.googleapis.com/v1",WY=60*60*1e3,HY="installations",KY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new _a(HY,KY,QY);function ZM(t){return t instanceof rr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL({projectId:t}){return`${qY}/projects/${t}/installations`}function tL(t){return{token:t.token,requestStatus:2,expiresIn:JY(t.expiresIn),creationTime:Date.now()}}async function nL(t,e){const r=(await e.json()).error;return ca.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function rL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function YY(t,{refreshToken:e}){const n=rL(t);return n.append("Authorization",XY(e)),n}async function sL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function JY(t){return Number(t.replace("s","000"))}function XY(t){return`${XM} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=eL(t),s=rL(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:XM,appId:t.appId,sdkVersion:JM},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await sL(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:tL(u.authToken)}}else throw await nL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ=/^[cdef][\w-]{21}$/,Lw="";function nJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=rJ(t);return tJ.test(n)?n:Lw}catch{return Lw}}function rJ(t){return eJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=new Map;function aL(t,e){const n=bv(t);lL(n,e),sJ(n,e)}function lL(t,e){const n=oL.get(t);if(n)for(const r of n)r(e)}function sJ(t,e){const n=iJ();n&&n.postMessage({key:t,fid:e}),oJ()}let Mo=null;function iJ(){return!Mo&&"BroadcastChannel"in self&&(Mo=new BroadcastChannel("[Firebase] FID Change"),Mo.onmessage=t=>{lL(t.data.key,t.data.fid)}),Mo}function oJ(){oL.size===0&&Mo&&(Mo.close(),Mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ="firebase-installations-database",lJ=1,ua="firebase-installations-store";let r0=null;function R1(){return r0||(r0=rD(aJ,lJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ua)}}})),r0}async function qm(t,e){const n=bv(t),s=(await R1()).transaction(ua,"readwrite"),i=s.objectStore(ua),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&aL(t,e.fid),e}async function cL(t){const e=bv(t),r=(await R1()).transaction(ua,"readwrite");await r.objectStore(ua).delete(e),await r.done}async function Ev(t,e){const n=bv(t),s=(await R1()).transaction(ua,"readwrite"),i=s.objectStore(ua),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&aL(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(t){let e;const n=await Ev(t.appConfig,r=>{const s=cJ(r),i=uJ(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Lw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function cJ(t){const e=t||{fid:nJ(),registrationStatus:0};return uL(e)}function uJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=dJ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hJ(t)}:{installationEntry:e}}async function dJ(t,e){try{const n=await ZY(t,e);return qm(t.appConfig,n)}catch(n){throw ZM(n)&&n.customData.serverCode===409?await cL(t.appConfig):await qm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function hJ(t){let e=await BI(t.appConfig);for(;e.registrationStatus===1;)await iL(100),e=await BI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await N1(t);return r||n}return e}function BI(t){return Ev(t,e=>{if(!e)throw ca.create("installation-not-found");return uL(e)})}function uL(t){return fJ(t)?{fid:t.fid,registrationStatus:0}:t}function fJ(t){return t.registrationStatus===1&&t.registrationTime+YM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pJ({appConfig:t,heartbeatServiceProvider:e},n){const r=mJ(t,n),s=YY(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:JM,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await sL(()=>fetch(r,a));if(l.ok){const u=await l.json();return tL(u)}else throw await nL("Generate Auth Token",l)}function mJ(t,{fid:e}){return`${eL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(t,e=!1){let n;const r=await Ev(t.appConfig,i=>{if(!dL(i))throw ca.create("not-registered");const o=i.authToken;if(!e&&yJ(o))return i;if(o.requestStatus===1)return n=gJ(t,e),i;{if(!navigator.onLine)throw ca.create("app-offline");const a=wJ(i);return n=vJ(t,a),a}});return n?await n:r.authToken}async function gJ(t,e){let n=await zI(t.appConfig);for(;n.authToken.requestStatus===1;)await iL(100),n=await zI(t.appConfig);const r=n.authToken;return r.requestStatus===0?k1(t,e):r}function zI(t){return Ev(t,e=>{if(!dL(e))throw ca.create("not-registered");const n=e.authToken;return _J(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function vJ(t,e){try{const n=await pJ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await qm(t.appConfig,r),n}catch(n){if(ZM(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await cL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await qm(t.appConfig,r)}throw n}}function dL(t){return t!==void 0&&t.registrationStatus===2}function yJ(t){return t.requestStatus===2&&!xJ(t)}function xJ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+WY}function wJ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _J(t){return t.requestStatus===1&&t.requestTime+YM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bJ(t){const e=t,{installationEntry:n,registrationPromise:r}=await N1(e);return r?r.catch(console.error):k1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EJ(t,e=!1){const n=t;return await TJ(n),(await k1(n,e)).token}async function TJ(t){const{registrationPromise:e}=await N1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(t){if(!t||!t.options)throw s0("App Configuration");if(!t.name)throw s0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw s0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function s0(t){return ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="installations",PJ="installations-internal",IJ=t=>{const e=t.getProvider("app").getImmediate(),n=SJ(e),r=no(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},CJ=t=>{const e=t.getProvider("app").getImmediate(),n=no(e,hL).getImmediate();return{getId:()=>bJ(n),getToken:s=>EJ(n,s)}};function AJ(){Sr(new er(hL,IJ,"PUBLIC")),Sr(new er(PJ,CJ,"PRIVATE"))}AJ();Sn(QM,A1);Sn(QM,A1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="analytics",RJ="firebase_id",NJ="origin",kJ=60*1e3,OJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",O1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Yg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fn=new _a("analytics","Analytics",DJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jJ(t){if(!t.startsWith(O1)){const e=Fn.create("invalid-gtag-resource",{gtagURL:t});return In.warn(e.message),""}return t}function fL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function MJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function LJ(t,e){const n=MJ("firebase-js-sdk-policy",{createScriptURL:jJ}),r=document.createElement("script"),s=`${O1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function VJ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function FJ(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await fL(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){In.error(a)}t("config",s,i)}async function $J(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await fL(n);for(const l of o){const u=a.find(p=>p.measurementId===l),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){In.error(i)}}function UJ(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await $J(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await FJ(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){In.error(a)}}return s}function BJ(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=UJ(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function zJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(O1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=30,qJ=1e3;class WJ{constructor(e={},n=qJ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pL=new WJ;function HJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function KJ(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:HJ(r)},i=OJ.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function QJ(t,e=pL,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Fn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Fn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new XJ;return setTimeout(async()=>{a.abort()},kJ),mL({appId:r,apiKey:s,measurementId:i},o,a,e)}async function mL(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=pL){var i;const{appId:o,measurementId:a}=t;try{await YJ(r,e)}catch(l){if(a)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await KJ(t);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!JJ(u)){if(s.deleteThrottleMetadata(o),a)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?lP(n,s.intervalMillis,GJ):lP(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,p),In.debug(`Calling attemptFetch again in ${d} millis`),mL(t,p,r,s)}}function YJ(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function JJ(t){if(!(t instanceof rr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class XJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ZJ(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eX(){if(Ab())try{await eD()}catch(t){return In.warn(Fn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return In.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tX(t,e,n,r,s,i,o){var a;const l=QJ(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>In.error(m)),e.push(l);const u=eX().then(m=>{if(m)return r.getId()}),[d,p]=await Promise.all([l,u]);zJ(i)||LJ(i,d.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[NJ]="firebase",f.update=!0,p!=null&&(f[RJ]=p),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.app=e}_delete(){return delete sd[this.app.options.appId],Promise.resolve()}}let sd={},GI=[];const qI={};let i0="dataLayer",rX="gtag",WI,gL,HI=!1;function sX(){const t=[];if(XO()&&t.push("This is a browser extension environment."),qG()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Fn.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function iX(t,e,n){sX();const r=t.options.appId;if(!r)throw Fn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fn.create("no-api-key");if(sd[r]!=null)throw Fn.create("already-exists",{id:r});if(!HI){VJ(i0);const{wrappedGtag:i,gtagCore:o}=BJ(sd,GI,qI,i0,rX);gL=i,WI=o,HI=!0}return sd[r]=tX(t,GI,qI,e,WI,i0,n),new nX(t)}function oX(t=Jg()){t=jt(t);const e=no(t,Wm);return e.isInitialized()?e.getImmediate():aX(t)}function aX(t,e={}){const n=no(t,Wm);if(n.isInitialized()){const s=n.getImmediate();if(Vd(e,n.getOptions()))return s;throw Fn.create("already-initialized")}return n.initialize({options:e})}function lX(t,e,n,r){t=jt(t),ZJ(gL,sd[t.app.options.appId],e,n,r).catch(s=>In.error(s))}const KI="@firebase/analytics",QI="0.10.10";function cX(){Sr(new er(Wm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return iX(r,s,n)},"PUBLIC")),Sr(new er("analytics-internal",t,"PRIVATE")),Sn(KI,QI),Sn(KI,QI,"esm2017");function t(e){try{const n=e.getProvider(Wm).getImmediate();return{logEvent:(r,s,i)=>lX(n,r,s,i)}}catch(n){throw Fn.create("interop-component-reg-failed",{reason:n})}}}cX();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebasestorage.googleapis.com",uX="storageBucket",dX=2*60*1e3,hX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends rr{constructor(e,n,r=0){super(o0(e),`Firebase Storage: ${n} (${o0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jr||(Jr={}));function o0(t){return"storage/"+t}function fX(){const t="An unknown error occurred, please check the error payload for server response.";return new Zr(Jr.UNKNOWN,t)}function pX(){return new Zr(Jr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mX(){return new Zr(Jr.CANCELED,"User canceled the upload/download.")}function gX(t){return new Zr(Jr.INVALID_URL,"Invalid URL '"+t+"'.")}function vX(t){return new Zr(Jr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YI(t){return new Zr(Jr.INVALID_ARGUMENT,t)}function yL(){return new Zr(Jr.APP_DELETED,"The Firebase app was deleted.")}function yX(t){return new Zr(Jr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw vX(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${d}/b/${s}/o${f}`,"i"),y={bucket:1,path:3},w=n===vL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",x=new RegExp(`^https?://${w}/${s}/${E}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:m,indices:y,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<_.length;C++){const O=_[C],M=O.regex.exec(e);if(M){const P=M[O.indices.bucket];let S=M[O.indices.path];S||(S=""),r=new yr(P,S),O.postModify(r);break}}if(r==null)throw gX(e);return r}}class xX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...E){u||(u=!0,e.apply(null,E))}function p(E){s=setTimeout(()=>{s=null,t(m,l())},E)}function f(){i&&clearTimeout(i)}function m(E,...x){if(u){f();return}if(E){f(),d.call(null,E,...x);return}if(l()||o){f(),d.call(null,E,...x);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,p(_)}let y=!1;function w(E){y||(y=!0,f(),!u&&(s!==null?(E||(a=2),clearTimeout(s),p(0)):E||(a=1)))}return p(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function _X(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){return t!==void 0}function JI(t,e,n,r){if(r<e)throw YI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YI(`Invalid value for '${t}'. Expected ${n} or less.`)}function EX(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Hm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hm||(Hm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TX(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(e,n,r,s,i,o,a,l,u,d,p,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Nf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Hm.NO_ERROR,l=i.getStatus();if(!a||TX(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Hm.ABORT;r(!1,new Nf(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Nf(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bX(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=fX();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?yL():mX();o(l)}else{const l=pX();o(l)}};this.canceled_?n(!1,new Nf(!1,null,!0)):this.backoffId_=wX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_X(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function RX(t,e,n,r,s,i,o=!0){const a=EX(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return CX(u,e),PX(u,n),IX(u,i),AX(u,r),new SX(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kX(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Km(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kX(this._location.path)}get storage(){return this._service}get parent(){const e=NX(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new Km(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yX(e)}}function XI(t,e){const n=e==null?void 0:e[uX];return n==null?null:yr.makeFromBucketSpec(n,t)}function OX(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:JO(s,t.app.options.projectId))}class DX{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=vL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dX,this._maxUploadRetryTime=hX,this._requests=new Set,s!=null?this._bucket=yr.makeFromBucketSpec(s,this._host):this._bucket=XI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=XI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Km(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new xX(yL());{const o=RX(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const ZI="@firebase/storage",eC="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="storage";function jX(t=Jg(),e){t=jt(t);const r=no(t,xL).getImmediate({identifier:e}),s=KO("storage");return s&&MX(r,...s),r}function MX(t,e,n,r={}){OX(t,e,n,r)}function LX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new DX(n,r,s,e,ba)}function VX(){Sr(new er(xL,LX,"PUBLIC").setMultipleInstances(!0)),Sn(ZI,eC,""),Sn(ZI,eC,"esm2017")}VX();const FX={apiKey:"AIzaSyDuMENjxgXUeEFs-86SDffpebiJ9uzA0xM",authDomain:"questly-6d952.firebaseapp.com",projectId:"questly-6d952",storageBucket:"questly-6d952.appspot.com",messagingSenderId:"101337258033",appId:"1:101337258033:web:c98626475aa9da2ee71d10",measurementId:"G-3GP6PL68VZ"},Tv=sD(FX),da=b7(Tv),Ta=AY(Tv);jX(Tv);typeof window<"u"&&oX(Tv);try{MM(Ta).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")})}catch(t){console.warn("Error enabling persistence:",t)}const D1=(t,e)=>{throw console.error(`Error in ${e}:`,t),t.code==="unavailable"?new Error("Unable to connect to the server. Please check your internet connection."):new Error(t.message||"An error occurred while accessing the database")},j1=async(t,e)=>{try{const n=Eh(Ta,"users",t);(await WM(n)).exists()?await HM(n,{...e,updatedAt:n0()}):await C1(n,{...e,id:t,createdAt:n0(),updatedAt:n0(),isPremium:!1,role:e.role||"Learner",level:e.level||1,xp:e.xp||{current:0,nextLevel:1e3},stats:e.stats||{coursesCompleted:0,quizzesTaken:0,averageScore:0,streak:0}})}catch(n){D1(n,"creating user profile")}},wL=async t=>{try{const e=await WM(Eh(Ta,"users",t));return e.exists()?e.data():null}catch(e){return D1(e,"getting user profile"),null}};async function $X(t,e){try{const n=Eh(Ta,"users",t);return await HM(n,{isPremium:e}),!0}catch(n){return D1(n,"updating premium status"),!1}}const _L=g.createContext({currentUser:null,userProfile:null,loading:!0,updateUserPremium:async()=>!1,logout:async()=>{}}),sr=()=>g.useContext(_L),UX=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!0);g.useEffect(()=>da.onAuthStateChanged(async p=>{if(n(p),p)try{const f=await wL(p.uid);s(f)}catch(f){console.error("Error fetching user profile:",f)}else s(null);o(!1)}),[]);const u={currentUser:e,userProfile:r,loading:i,updateUserPremium:async d=>{if(!e)return!1;const p=await $X(e.uid,d);return p&&r&&s({...r,isPremium:d}),p},logout:async()=>{try{await da.signOut(),n(null),s(null)}catch(d){throw console.error("Error signing out:",d),d}}};return c.jsx(_L.Provider,{value:u,children:!i&&t})};var M1="Dialog",[bL,mce]=Ls(M1),[BX,Pr]=bL(M1),EL=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u=!1,d]=ya({prop:r,defaultProp:s,onChange:i});return c.jsx(BX,{scope:e,triggerRef:a,contentRef:l,contentId:Di(),titleId:Di(),descriptionId:Di(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};EL.displayName=M1;var TL="DialogTrigger",zX=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(TL,n),i=Ne(e,s.triggerRef);return c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":F1(s.open),...r,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});zX.displayName=TL;var L1="DialogPortal",[GX,SL]=bL(L1,{forceMount:void 0}),PL=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Pr(L1,e);return c.jsx(GX,{scope:e,forceMount:n,children:g.Children.map(r,o=>c.jsx(fn,{present:n||i.open,children:c.jsx(ab,{asChild:!0,container:s,children:o})}))})};PL.displayName=L1;var Qm="DialogOverlay",IL=g.forwardRef((t,e)=>{const n=SL(Qm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Pr(Qm,t.__scopeDialog);return i.modal?c.jsx(fn,{present:r||i.open,children:c.jsx(qX,{...s,ref:e})}):null});IL.displayName=Qm;var qX=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(Qm,n);return c.jsx(pb,{as:Jo,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ve.div,{"data-state":F1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ha="DialogContent",CL=g.forwardRef((t,e)=>{const n=SL(ha,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Pr(ha,t.__scopeDialog);return c.jsx(fn,{present:r||i.open,children:i.modal?c.jsx(WX,{...s,ref:e}):c.jsx(HX,{...s,ref:e})})});CL.displayName=ha;var WX=g.forwardRef((t,e)=>{const n=Pr(ha,t.__scopeDialog),r=g.useRef(null),s=Ne(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return x2(i)},[]),c.jsx(AL,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),HX=g.forwardRef((t,e)=>{const n=Pr(ha,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return c.jsx(AL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),AL=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Pr(ha,n),l=g.useRef(null),u=Ne(e,l);return c2(),c.jsxs(c.Fragment,{children:[c.jsx(fb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Ig,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":F1(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(KX,{titleId:a.titleId}),c.jsx(YX,{contentRef:l,descriptionId:a.descriptionId})]})]})}),V1="DialogTitle",RL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(V1,n);return c.jsx(ve.h2,{id:s.titleId,...r,ref:e})});RL.displayName=V1;var NL="DialogDescription",kL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(NL,n);return c.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});kL.displayName=NL;var OL="DialogClose",DL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(OL,n);return c.jsx(ve.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});DL.displayName=OL;function F1(t){return t?"open":"closed"}var jL="DialogTitleWarning",[gce,ML]=PU(jL,{contentName:ha,titleName:V1,docsSlug:"dialog"}),KX=({titleId:t})=>{const e=ML(jL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},QX="DialogDescriptionWarning",YX=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ML(QX).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},LL=EL,VL=PL,Sv=IL,Pv=CL,Iv=RL,Cv=kL,FL=DL;const $L=LL,JX=VL,UL=g.forwardRef(({className:t,...e},n)=>c.jsx(Sv,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));UL.displayName=Sv.displayName;const XX=lh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$1=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(JX,{children:[c.jsx(UL,{}),c.jsxs(Pv,{ref:s,className:se(XX({side:t}),e),...r,children:[n,c.jsxs(FL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(qg,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$1.displayName=Pv.displayName;const U1=({className:t,...e})=>c.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",t),...e});U1.displayName="SheetHeader";const B1=g.forwardRef(({className:t,...e},n)=>c.jsx(Iv,{ref:n,className:se("text-lg font-semibold text-foreground",t),...e}));B1.displayName=Iv.displayName;const z1=g.forwardRef(({className:t,...e},n)=>c.jsx(Cv,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));z1.displayName=Cv.displayName;const Pe=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("group relative rounded-[32px]","bg-gradient-to-b from-black/80 to-black/60","before:absolute before:inset-0 before:-z-10 before:rounded-[32px] before:p-0.5","before:bg-gradient-to-b before:from-blue-500/20 before:via-blue-400/10 before:to-transparent","after:absolute after:inset-0 after:-z-20 after:rounded-[32px]","after:bg-gradient-to-b after:from-blue-500/20 after:via-blue-400/10 after:to-transparent","backdrop-blur-xl backdrop-saturate-150","border border-white/5 shadow-xl shadow-blue-400/20","transition-all duration-300","hover:shadow-2xl hover:border-white/10 hover:shadow-blue-400/30",t),...e}));Pe.displayName="Card";const Av=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",t),...e}));Av.displayName="CardHeader";const Rv=g.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:se("font-semibold leading-none tracking-tight",t),...e}));Rv.displayName="CardTitle";const BL=g.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",t),...e}));BL.displayName="CardDescription";const Nv=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("p-6 pt-0",t),...e}));Nv.displayName="CardContent";const zL=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",t),...e}));zL.displayName="CardFooter";const ZX=lh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",premium:"border-transparent bg-gradient-to-r from-amber-500 to-amber-600 text-white hover:from-amber-600 hover:to-amber-700"}},defaultVariants:{variant:"default"}});function Fi({className:t,variant:e,...n}){return c.jsx("div",{className:se(ZX({variant:e}),t),...n})}const eZ=[{id:"free",name:"Free Plan",price:"$0",description:"Basic access to learning resources",features:["Access to free courses","Basic quizzes","Community support","Limited flashcards"],badge:"",icon:Ib},{id:"pro",name:"Pro Plan",price:"$9.99",period:"monthly",description:"Enhanced learning experience",features:["All free features","Access to premium courses","Advanced quizzes","Unlimited flashcards","Priority support","Progress tracking"],badge:"Popular",icon:Kl},{id:"premium",name:"Premium Plan",price:"$89.99",period:"yearly",description:"Complete learning suite",features:["All pro features","1-on-1 mentoring","Career guidance","Certificate of completion","Custom learning path","Team collaboration"],badge:"Best Value",icon:Kl}];function GL(){const{userProfile:t,updateUserPremium:e}=sr(),[n,r]=g.useState(null),[s,i]=g.useState(!1),o=(t==null?void 0:t.isPremium)||!1,a=async l=>{i(!0);try{await e(l!=="free")&&r(l)}catch(u){console.error("Failed to process subscription:",u)}finally{i(!1)}};return c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"grid gap-8",children:eZ.map(l=>{const u=l.icon,d=n===l.id,p=o?l.id!=="free":l.id==="free";return c.jsxs(Pe,{className:`p-6 space-y-6 cursor-pointer transition-all hover:shadow-lg ${d?"ring-2 ring-amber-500 shadow-lg":""} ${p?"bg-muted/50":""}`,onClick:()=>!s&&r(l.id),children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(u,{className:`h-5 w-5 ${l.id!=="free"?"text-amber-500":""}`}),c.jsx("h3",{className:"text-xl font-bold",children:l.name})]}),l.badge&&c.jsx(Fi,{className:l.id==="premium"?"bg-gradient-to-r from-amber-500 to-amber-600":"",children:l.badge})]}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-3xl font-bold",children:l.price}),l.period&&c.jsxs("span",{className:"text-muted-foreground",children:["/",l.period]})]}),c.jsx("p",{className:"text-muted-foreground",children:l.description})]}),c.jsx("ul",{className:"space-y-2",children:l.features.map((f,m)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(xc,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:f})]},m))}),c.jsx("div",{className:"pt-4",children:c.jsx(ee,{className:`w-full ${l.id!=="free"?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white":""}`,variant:l.id==="free"?"outline":"default",onClick:f=>{f.stopPropagation(),a(l.id)},disabled:s||p,children:s&&d?"Processing...":p?"Current Plan":l.id==="free"?"Switch to Free Plan":`Buy ${l.name} ${l.period?`(${l.price}/${l.period==="monthly"?"mo":"yr"})`:""}`})})]},l.id)})}),n&&!s&&c.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Click the button above to ",n==="free"?"switch to":"purchase"," your selected plan"]})]})}function tZ(){var l;const t=ht(),{currentUser:e,userProfile:n,logout:r}=sr(),[s,i]=g.useState(!1),o=(n==null?void 0:n.isPremium)||!1,a=async()=>{try{await r(),t("/")}catch(u){console.error("Failed to log out",u)}};return c.jsx("nav",{className:"fixed top-0 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-50",children:c.jsxs("div",{className:"container flex h-14 items-center justify-between",children:[c.jsx(H$,{to:"/",className:"font-bold text-xl",children:"Questly"}),e?c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs($L,{open:s,onOpenChange:i,children:[c.jsxs(ee,{onClick:()=>i(!0),className:`flex items-center gap-2 ${o?"bg-gradient-to-r from-amber-500 to-amber-600 text-white":""}`,variant:o?"outline":"default",children:[c.jsx(Kl,{className:"h-4 w-4"}),o?"Premium Member":"Get Premium Access"]}),c.jsxs($1,{side:"right",className:"w-full sm:w-[540px] overflow-y-auto",children:[c.jsxs(U1,{className:"mb-4",children:[c.jsx(B1,{children:"Choose Your Plan"}),c.jsx(z1,{children:"Select the plan that best fits your learning goals"})]}),c.jsx(GL,{})]})]}),c.jsxs(EG,{children:[c.jsx(TG,{asChild:!0,children:c.jsx(ee,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:c.jsxs(Wg,{className:"h-8 w-8",children:[c.jsx(Hg,{src:e.photoURL||"",alt:e.email||""}),c.jsx(Kg,{children:(l=e.email)==null?void 0:l[0].toUpperCase()})]})})}),c.jsxs(OO,{className:"w-56",align:"end",forceMount:!0,children:[c.jsx(DO,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:(n==null?void 0:n.name)||"User"}),c.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),c.jsx(iw,{}),c.jsxs(ju,{onClick:()=>t("/profile"),children:[c.jsx(NO,{className:"mr-2 h-4 w-4"}),"Profile"]}),c.jsxs(ju,{onClick:()=>i(!0),children:[c.jsx(Kl,{className:"mr-2 h-4 w-4"}),"Subscription"]}),c.jsxs(ju,{onClick:()=>t("/settings"),children:[c.jsx(mG,{className:"mr-2 h-4 w-4"}),"Settings"]}),c.jsx(iw,{}),c.jsxs(ju,{className:"text-red-600",onClick:a,children:[c.jsx(sG,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]}):c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ee,{variant:"ghost",onClick:()=>t("/login"),children:"Login"}),c.jsx(ee,{onClick:()=>t("/register"),children:"Sign Up"})]})]})})}const nZ=1,rZ=1e6;let a0=0;function sZ(){return a0=(a0+1)%Number.MAX_SAFE_INTEGER,a0.toString()}const l0=new Map,tC=t=>{if(l0.has(t))return;const e=setTimeout(()=>{l0.delete(t),id({type:"REMOVE_TOAST",toastId:t})},rZ);l0.set(t,e)},iZ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,nZ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?tC(n):t.toasts.forEach(r=>{tC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},jp=[];let Mp={toasts:[]};function id(t){Mp=iZ(Mp,t),jp.forEach(e=>{e(Mp)})}function oZ({...t}){const e=sZ(),n=s=>id({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>id({type:"DISMISS_TOAST",toastId:e});return id({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Gn(){const[t,e]=g.useState(Mp);return g.useEffect(()=>(jp.push(e),()=>{const n=jp.indexOf(e);n>-1&&jp.splice(n,1)}),[t]),{...t,toast:oZ,dismiss:n=>id({type:"DISMISS_TOAST",toastId:n})}}const aZ=t=>{localStorage.setItem("userPreferences",JSON.stringify(t))},iu=[{id:"interests",question:"What topics are you most interested in? (e.g., Web Development, AI, Mobile Apps)",type:"interests"},{id:"experience",question:"What is your current experience level in this field?",type:"experience",options:["Beginner","Intermediate","Advanced"]},{id:"goals",question:"What are your main learning goals?",type:"goals"},{id:"learningStyle",question:"How do you prefer to learn?",type:"preferredLearningStyle",options:["Video Tutorials","Reading Documentation","Interactive Exercises","Project-Based"]},{id:"timeCommitment",question:"How much time can you dedicate to learning per week?",type:"timeCommitment",options:["1-2 hours","3-5 hours","5-10 hours","10+ hours"]}],lZ=async t=>(`${t.interests.join(", ")}${t.experience}${t.goals.join(", ")}${t.preferredLearningStyle}${t.timeCommitment}`,{topic:"Web Development",steps:[{title:"HTML & CSS Fundamentals",description:"Learn the basics of web structure and styling",resources:["MDN Web Docs","FreeCodeCamp HTML/CSS Course"],estimatedTime:"2 weeks",difficulty:"beginner"}],totalDuration:"2 weeks",prerequisites:["Basic computer skills"]}),cZ=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState([]),[o,a]=g.useState(-1),[l,u]=g.useState({}),[d,p]=g.useState(!1),{toast:f}=Gn(),m=x=>x.trim().endsWith("?")?x:x.split(new RegExp("(?<=[.!?])\\s+")).filter(_=>_.trim()).map(_=>` ${_.trim()}`).join(`
`),y=m("Hi! I'm Chitti AI Assistant, your learning assistant. I can help you create a personalized learning path. Type 'learning path' to get started, or ask me any other questions!");g.useEffect(()=>{i(x=>[...x,{text:y,isUser:!1}])},[]);const w=async x=>{var b,_;if(o===-1&&x.toLowerCase()==="learning path"){a(0);const C=iu[0].question;return i(O=>[...O,{text:C,isUser:!1}]),!0}if(o>=0&&o<iu.length){const C=iu[o];if(u(M=>({...M,[C.type]:x})),o===iu.length-1){p(!0);try{const M={interests:((b=l.interests)==null?void 0:b.split(",").map(I=>I.trim()))||[],experience:l.experience,goals:((_=l.goals)==null?void 0:_.split(",").map(I=>I.trim()))||[],preferredLearningStyle:l.preferredLearningStyle,timeCommitment:l.timeCommitment};aZ(M);const P=await lZ(M),S=`Here's your personalized learning path for ${P.topic}:

`+P.steps.map((I,A)=>` ${I.title} (${I.difficulty})
  - Description: ${I.description}
  - Time: ${I.estimatedTime}
  - Resources: ${I.resources.join(", ")}
`).join(`
`)+`
 Total Duration: ${P.totalDuration}
 Prerequisites: ${P.prerequisites.join(", ")}`;i(I=>[...I,{text:S,isUser:!1}]),a(-1)}catch(M){console.error("Error generating learning path:",M),i(P=>[...P,{text:m("Sorry, I encountered an error generating your learning path. Please try again."),isUser:!1}])}return p(!1),!0}a(M=>M+1);const O=iu[o+1].question;return i(M=>[...M,{text:O,isUser:!1}]),!0}return!1},E=async x=>{if(x.preventDefault(),!!n.trim()){i(b=>[...b,{text:n,isUser:!0}]);try{if(!await w(n)){const _=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n})});if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const C=await _.json();i(O=>[...O,{text:m(C.response),isUser:!1}])}}catch(b){console.error("Error:",b),f({title:"Error",description:"Failed to get response. Please try again.",variant:"destructive"})}r("")}};return c.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:t?c.jsxs("div",{className:"w-80 h-96 bg-neon-purple/90 backdrop-blur-lg border border-neon-orange/20 rounded-lg shadow-lg flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neon-orange/20",children:[c.jsx("h3",{className:"text-white font-semibold",children:"Chitti AI Assistant"}),c.jsx("button",{onClick:()=>e(!1),className:"text-white hover:text-neon-orange transition-colors",children:c.jsx(qg,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s.map((x,b)=>c.jsx("div",{className:`mb-2 ${x.isUser?"text-right":"text-left"}`,children:c.jsx("div",{className:`inline-block rounded-lg p-2 ${x.isUser?"bg-neon-orange text-white":"bg-white/10 text-white"}`,children:x.text})},b))}),c.jsx("form",{onSubmit:E,className:"p-4 border-t border-neon-orange/20",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:x=>r(x.target.value),placeholder:"Type your message...",className:"flex-1 bg-white/10 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-neon-orange/50"}),c.jsx("button",{type:"submit",className:"bg-neon-orange/20 hover:bg-neon-orange/30 text-white rounded-lg p-2 transition-colors",children:c.jsx(Sb,{className:"w-5 h-5"})})]})})]}):c.jsx("button",{onClick:()=>e(!0),className:"bg-neon-orange text-white rounded-full p-2 hover:scale-105 transition-transform",children:"Chat"})})},uZ=({children:t})=>c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:c.jsx("div",{className:"container mx-auto p-6",children:t})});function we({children:t}){const{currentUser:e,loading:n}=sr();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-neon-purple to-black",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-emerald-500"})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(J_,{to:"/login"})}const Ft=g.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ft.displayName="Input";const qL=t=>t.length<6?"Password must be at least 6 characters":null,WL=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?null:"Please enter a valid email address",G1=t=>{switch(console.error("Auth error:",t),t.code){case"auth/weak-password":return"Password should be at least 6 characters";case"auth/email-already-in-use":return"Email already registered";case"auth/invalid-email":return"Invalid email address";case"auth/operation-not-allowed":return"Operation not allowed";case"auth/user-not-found":return"User not found";case"auth/wrong-password":return"Incorrect password";default:return t.message||"An error occurred during authentication"}},dZ=async(t,e)=>{try{const n=qL(e);if(n)throw new Error(n);const r=WL(t);if(r)throw new Error(r);const s=await lH(da,t,e);return await j1(s.user.uid,{email:s.user.email||"",name:t.split("@")[0],createdAt:new Date().toISOString(),role:"Learner",level:1,xp:{current:0,nextLevel:1e3},stats:{coursesCompleted:0,quizzesTaken:0,averageScore:0,streak:0}}),s.user}catch(n){throw new Error(G1(n))}},hZ=async(t,e)=>{const n=qL(e);if(n)throw new Error(n);const r=WL(t);if(r)throw new Error(r);try{return(await cH(da,t,e)).user}catch(s){G1(s)}},HL=async()=>{var t;try{const e=new hs,n=await NH(da,e);return await j1(n.user.uid,{email:n.user.email||"",name:n.user.displayName||((t=n.user.email)==null?void 0:t.split("@")[0])||"",profileImage:n.user.photoURL,createdAt:new Date().toISOString(),role:"Learner",level:1,xp:{current:0,nextLevel:1e3},stats:{coursesCompleted:0,quizzesTaken:0,averageScore:0,streak:0}}),n}catch(e){throw new Error(G1(e))}};function fZ(){const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),o=ht(),{toast:a}=Gn(),l=async d=>{d.preventDefault();try{i(!0),await hZ(t,n),a({title:"Success!",description:"You have been logged in successfully."}),o("/dashboard")}catch(p){console.error("Login error:",p),a({title:"Error",description:"Failed to log in. Please check your credentials.",variant:"destructive"})}finally{i(!1)}},u=async()=>{try{i(!0),await HL(),a({title:"Success!",description:"You have been logged in successfully."}),o("/dashboard")}catch(d){console.error("Google login error:",d),a({title:"Error",description:"Failed to log in with Google.",variant:"destructive"})}finally{i(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neon-purple to-black p-8",children:c.jsx("div",{className:"max-w-md mx-auto",children:c.jsxs(Pe,{className:"p-6 bg-black/40 border-emerald-500/20",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Login to Questly"}),c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsx("div",{children:c.jsx(Ft,{type:"email",placeholder:"Email",value:t,onChange:d=>e(d.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx("div",{children:c.jsx(Ft,{type:"password",placeholder:"Password",value:n,onChange:d=>r(d.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx(ee,{type:"submit",disabled:s,className:"w-full bg-emerald-500 text-black hover:bg-emerald-600",children:s?"Logging in...":"Login"})]}),c.jsx("div",{className:"mt-4",children:c.jsx(ee,{type:"button",onClick:u,disabled:s,className:"w-full bg-white text-black hover:bg-gray-100",children:"Continue with Google"})}),c.jsxs("p",{className:"mt-4 text-center text-zinc-400",children:["Don't have an account?"," ",c.jsx(ee,{variant:"link",className:"text-emerald-500 hover:text-emerald-400",onClick:()=>o("/register"),children:"Register"})]})]})})})}function pZ({onComplete:t}){const[e,n]=g.useState(""),[r,s]=g.useState(""),[i,o]=g.useState(""),[a,l]=g.useState(!1),{toast:u}=Gn(),d=ht(),p=async m=>{if(m.preventDefault(),r!==i){u({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}try{l(!0),await dZ(e,r),t(e)}catch(y){console.error("Registration error:",y),u({title:"Error",description:y.message||"Failed to create account. Please try again.",variant:"destructive"})}finally{l(!1)}},f=async()=>{var m;try{l(!0);const y=await HL();if((m=y==null?void 0:y.user)!=null&&m.email)t(y.user.email);else throw new Error("No email found from Google login")}catch(y){console.error("Google registration error:",y),u({title:"Error",description:y.message||"Failed to create account with Google.",variant:"destructive"})}finally{l(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neon-purple to-black p-8",children:c.jsx("div",{className:"max-w-md mx-auto",children:c.jsxs(Pe,{className:"p-6 bg-black/40 border-emerald-500/20",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create Account"}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsx("div",{children:c.jsx(Ft,{type:"email",placeholder:"Email",value:e,onChange:m=>n(m.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx("div",{children:c.jsx(Ft,{type:"password",placeholder:"Password",value:r,onChange:m=>s(m.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx("div",{children:c.jsx(Ft,{type:"password",placeholder:"Confirm Password",value:i,onChange:m=>o(m.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx(ee,{type:"submit",disabled:a,className:"w-full bg-emerald-500 text-black hover:bg-emerald-600",children:a?"Creating Account...":"Create Account"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t border-emerald-500/20"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-black px-2 text-muted-foreground",children:"Or continue with"})})]}),c.jsx(ee,{type:"button",onClick:f,disabled:a,className:"w-full mt-4 bg-white text-black hover:bg-gray-100",children:"Continue with Google"})]}),c.jsxs("p",{className:"mt-4 text-center text-zinc-400",children:["Already have an account?"," ",c.jsx(ee,{variant:"link",className:"text-emerald-500 hover:text-emerald-400",onClick:()=>d("/login"),children:"Login"})]})]})})})}var mZ="Label",KL=g.forwardRef((t,e)=>c.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));KL.displayName=mZ;var QL=KL;const gZ=lh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fs=g.forwardRef(({className:t,...e},n)=>c.jsx(QL,{ref:n,className:se(gZ(),t),...e}));fs.displayName=QL.displayName;const od=g.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));od.displayName="Textarea";function vZ({onComplete:t,initialData:e}){var p,f,m,y,w,E,x,b;const{toast:n}=Gn(),[r,s]=g.useState(0),[i,o]=g.useState({name:(e==null?void 0:e.name)||"",bio:(e==null?void 0:e.bio)||"",interests:(e==null?void 0:e.interests)||"",goals:(e==null?void 0:e.goals)||"",profileImage:(e==null?void 0:e.profileImage)||null,socials:{github:((p=e==null?void 0:e.socials)==null?void 0:p.github)||"",linkedin:((f=e==null?void 0:e.socials)==null?void 0:f.linkedin)||"",instagram:((m=e==null?void 0:e.socials)==null?void 0:m.instagram)||"",twitter:((y=e==null?void 0:e.socials)==null?void 0:y.twitter)||""}}),a=[{title:"What's your name?",description:"This is how you'll appear to other learners",field:"name",component:c.jsx(Ft,{placeholder:"Enter your name",value:i.name,onChange:_=>o({...i,name:_.target.value})})},{title:"Tell us about yourself",description:"Share a brief bio with the community",field:"bio",component:c.jsx(od,{placeholder:"Write a short bio...",value:i.bio,onChange:_=>o({...i,bio:_.target.value})})},{title:"What are your interests?",description:"What topics are you most excited to learn about?",field:"interests",component:c.jsx(od,{placeholder:"E.g., Web Development, Machine Learning, Data Science...",value:i.interests,onChange:_=>o({...i,interests:_.target.value})})},{title:"What are your learning goals?",description:"What do you hope to achieve?",field:"goals",component:c.jsx(od,{placeholder:"Share your learning goals...",value:i.goals,onChange:_=>o({...i,goals:_.target.value})})},{title:"Add your social media links",description:"Connect with other learners through your social profiles",field:"socials",component:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(fs,{htmlFor:"github",children:"GitHub"}),c.jsx(Ft,{id:"github",placeholder:"https://github.com/yourusername",value:(w=i.socials)==null?void 0:w.github,onChange:_=>o({...i,socials:{...i.socials,github:_.target.value}})})]}),c.jsxs("div",{children:[c.jsx(fs,{htmlFor:"linkedin",children:"LinkedIn"}),c.jsx(Ft,{id:"linkedin",placeholder:"https://linkedin.com/in/yourusername",value:(E=i.socials)==null?void 0:E.linkedin,onChange:_=>o({...i,socials:{...i.socials,linkedin:_.target.value}})})]}),c.jsxs("div",{children:[c.jsx(fs,{htmlFor:"instagram",children:"Instagram"}),c.jsx(Ft,{id:"instagram",placeholder:"https://instagram.com/yourusername",value:(x=i.socials)==null?void 0:x.instagram,onChange:_=>o({...i,socials:{...i.socials,instagram:_.target.value}})})]}),c.jsxs("div",{children:[c.jsx(fs,{htmlFor:"twitter",children:"Twitter"}),c.jsx(Ft,{id:"twitter",placeholder:"https://twitter.com/yourusername",value:(b=i.socials)==null?void 0:b.twitter,onChange:_=>o({...i,socials:{...i.socials,twitter:_.target.value}})})]})]})},{title:"Add a profile picture",description:"Upload a photo of yourself",field:"profileImage",component:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx(Wg,{className:"w-32 h-32",children:i.profileImage?c.jsx(Hg,{src:i.profileImage}):c.jsx(Kg,{children:c.jsx(wG,{className:"w-8 h-8"})})}),c.jsx(Ft,{type:"file",accept:"image/*",onChange:_=>{var O;const C=(O=_.target.files)==null?void 0:O[0];if(C){const M=new FileReader;M.onloadend=()=>{o({...i,profileImage:M.result})},M.readAsDataURL(C)}}})]})}],l=()=>{r<a.length-1?s(r+1):(t(i),n({title:"Profile updated!",description:"Your profile has been successfully updated."}))},u=()=>{r>0&&s(r-1)},d=a[r];return c.jsxs(Pe,{className:"max-w-2xl mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h2",{className:"text-2xl font-bold",children:d.title}),c.jsx("p",{className:"text-muted-foreground",children:d.description})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(fs,{htmlFor:d.field,children:d.title}),d.component]}),c.jsxs("div",{className:"flex justify-between pt-4",children:[c.jsx(ee,{variant:"outline",onClick:u,disabled:r===0,children:"Back"}),c.jsx(ee,{onClick:l,children:r===a.length-1?"Complete":"Next"})]}),c.jsx("div",{className:"flex justify-center gap-2 pt-4",children:a.map((_,C)=>c.jsx("div",{className:`h-2 w-2 rounded-full ${C===r?"bg-primary":C<r?"bg-primary/50":"bg-muted"}`},C))})]})]})}function yZ(){const t=ht(),[e,n]=g.useState(1),[r,s]=g.useState(""),i=async a=>{s(a),n(2)},o=async a=>{try{const l=da.currentUser;if(!l)throw new Error("No user found");await j1(l.uid,{...a,email:r,createdAt:new Date().toISOString()}),t("/profile")}catch(l){console.error("Error saving profile:",l)}};return c.jsx("div",{className:"container mx-auto px-4 py-8",children:e===1?c.jsx(pZ,{onComplete:i}):c.jsx(vZ,{onComplete:o})})}var q1="Tabs",[xZ,vce]=Ls(q1,[Fg]),YL=Fg(),[wZ,W1]=xZ(q1),JL=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=ch(a),[p,f]=ya({prop:r,onChange:s,defaultProp:i});return c.jsx(wZ,{scope:n,baseId:Di(),value:p,onValueChange:f,orientation:o,dir:d,activationMode:l,children:c.jsx(ve.div,{dir:d,"data-orientation":o,...u,ref:e})})});JL.displayName=q1;var XL="TabsList",ZL=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=W1(XL,n),o=YL(n);return c.jsx(g2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});ZL.displayName=XL;var e4="TabsTrigger",t4=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=W1(e4,n),a=YL(n),l=s4(o.baseId,r),u=i4(o.baseId,r),d=r===o.value;return c.jsx(v2,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ie(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:ie(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(r)})})})});t4.displayName=e4;var n4="TabsContent",r4=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=W1(n4,n),l=s4(a.baseId,r),u=i4(a.baseId,r),d=r===a.value,p=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(fn,{present:s||d,children:({present:f})=>c.jsx(ve.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});r4.displayName=n4;function s4(t,e){return`${t}-trigger-${e}`}function i4(t,e){return`${t}-content-${e}`}var _Z=JL,o4=ZL,a4=t4,l4=r4;const bZ=_Z,c4=g.forwardRef(({className:t,...e},n)=>c.jsx(o4,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));c4.displayName=o4.displayName;const Lp=g.forwardRef(({className:t,...e},n)=>c.jsx(a4,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Lp.displayName=a4.displayName;const Vp=g.forwardRef(({className:t,...e},n)=>c.jsx(l4,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Vp.displayName=l4.displayName;function EZ(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:m,...y}=p,w=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(w.Provider,{value:E,children:m})}function d(p,f){const m=(f==null?void 0:f[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,TZ(s,...e)]}function TZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var H1="Progress",K1=100,[SZ,yce]=EZ(H1),[PZ,IZ]=SZ(H1),u4=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=CZ,...o}=t;(s||s===0)&&!nC(s)&&console.error(AZ(`${s}`,"Progress"));const a=nC(s)?s:K1;r!==null&&!rC(r,a)&&console.error(RZ(`${r}`,"Progress"));const l=rC(r,a)?r:null,u=Ym(l)?i(l,a):void 0;return c.jsx(PZ,{scope:n,value:l,max:a,children:c.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ym(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":f4(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});u4.displayName=H1;var d4="ProgressIndicator",h4=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=IZ(d4,n);return c.jsx(ve.div,{"data-state":f4(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});h4.displayName=d4;function CZ(t,e){return`${Math.round(t/e*100)}%`}function f4(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ym(t){return typeof t=="number"}function nC(t){return Ym(t)&&!isNaN(t)&&t>0}function rC(t,e){return Ym(t)&&!isNaN(t)&&t<=e&&t>=0}function AZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${K1}\`.`}function RZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${K1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var p4=u4,NZ=h4;const nr=g.forwardRef(({className:t,value:e,indicatorClassName:n,...r},s)=>c.jsx(p4,{ref:s,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:c.jsx(NZ,{className:se("h-full w-full flex-1 bg-primary transition-all",n),style:{transform:`translateX(-${100-(e||0)}%)`}})}));nr.displayName=p4.displayName;const Jm=LL,kZ=VL,m4=g.forwardRef(({className:t,...e},n)=>c.jsx(Sv,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));m4.displayName=Sv.displayName;const Yd=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(kZ,{children:[c.jsx(m4,{}),c.jsxs(Pv,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(FL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(qg,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yd.displayName=Pv.displayName;const Xm=({className:t,...e})=>c.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Xm.displayName="DialogHeader";const Zm=g.forwardRef(({className:t,...e},n)=>c.jsx(Iv,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",t),...e}));Zm.displayName=Iv.displayName;const OZ=g.forwardRef(({className:t,...e},n)=>c.jsx(Cv,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));OZ.displayName=Cv.displayName;function Be({title:t,description:e,topics:n,chapters:r}){var x;const s=ht(),[i,o]=g.useState(null),[a,l]=g.useState(!1),[u,d]=g.useState(null),[p,f]=g.useState(!1),m=r.filter(b=>b.completed).length,y=m/r.length*100,w=b=>{s("/courses/video",{state:{courseTitle:t,chapterTitle:b.title,videoUrl:b.videoUrl,quiz:b.quiz}})},E=b=>{d(b),l(!0)};return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:t}),c.jsx("p",{className:"text-muted-foreground mb-6",children:e}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Course Progress"}),c.jsx(nr,{value:y,className:"mb-2"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[m," of ",r.length," chapters completed"]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"What You'll Learn"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map((b,_)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zo,{className:"h-5 w-5 text-primary"}),c.jsx("span",{children:b})]},_))})]})]}),c.jsx("div",{className:"w-full md:w-80",children:c.jsxs(Pe,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(ee,{className:"w-full",onClick:()=>s("/flashcards"),children:[c.jsx(Rs,{className:"mr-2 h-4 w-4"})," Practice Flashcards"]}),c.jsxs(ee,{className:"w-full",onClick:()=>s("/quiz"),children:[c.jsx(Ot,{className:"mr-2 h-4 w-4"})," Take Quiz"]}),c.jsxs(ee,{className:"w-full",onClick:()=>s("/ai"),children:[c.jsx(lG,{className:"mr-2 h-4 w-4"})," Ask AI Assistant"]})]})]})})]}),c.jsx(Jm,{open:!!i,onOpenChange:()=>o(null),children:c.jsxs(Yd,{className:"max-w-4xl",children:[c.jsx(Xm,{children:c.jsx(Zm,{children:u==null?void 0:u.title})}),c.jsx("div",{className:"aspect-video bg-black relative",children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(ee,{variant:"ghost",size:"icon",className:"w-16 h-16",onClick:()=>f(!p),children:p?c.jsx(K8,{className:"w-16 h-16 text-white"}):c.jsx(Ld,{className:"w-16 h-16 text-white"})})})}),c.jsxs("div",{className:"flex justify-between mt-4",children:[c.jsx(ee,{variant:"outline",onClick:()=>o(null),children:"Close"}),(u==null?void 0:u.quiz)&&c.jsx(ee,{onClick:()=>E(u),children:"Take Chapter Quiz"})]})]})}),c.jsx(Jm,{open:a,onOpenChange:()=>l(!1),children:c.jsxs(Yd,{children:[c.jsx(Xm,{children:c.jsxs(Zm,{children:["Chapter Quiz: ",u==null?void 0:u.title]})}),c.jsx("div",{className:"space-y-4",children:(x=u==null?void 0:u.quiz)==null?void 0:x.questions.map((b,_)=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"font-medium",children:b.question}),c.jsx("div",{className:"space-y-2",children:b.options.map((C,O)=>c.jsx(ee,{variant:"outline",className:"w-full justify-start",onClick:()=>{b.correctAnswer},children:C},O))})]},_))})]})}),c.jsxs(bZ,{defaultValue:"chapters",className:"mt-12",children:[c.jsxs(c4,{children:[c.jsx(Lp,{value:"chapters",children:"Course Content"}),c.jsx(Lp,{value:"resources",children:"Resources"}),c.jsx(Lp,{value:"discussion",children:"Discussion"})]}),c.jsx(Vp,{value:"chapters",children:c.jsx("div",{className:"space-y-4",children:r.map((b,_)=>c.jsx(Pe,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-semibold",children:b.title}),b.completed&&c.jsx(Eb,{className:"h-4 w-4 text-green-500"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:b.description}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.duration})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ee,{variant:"outline",onClick:()=>w(b),children:[c.jsx(Ld,{className:"h-4 w-4 mr-2"}),b.completed?"Review":"Start"]}),b.quiz&&c.jsxs(ee,{variant:"secondary",onClick:()=>E(b),children:[c.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Quiz"]})]})]})},_))})}),c.jsx(Vp,{value:"resources",children:c.jsxs(Pe,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Resources"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:" Course Slides"}),c.jsx("li",{children:" Practice Exercises"}),c.jsx("li",{children:" Useful Links"}),c.jsx("li",{children:" Additional Reading"})]})]})}),c.jsx(Vp,{value:"discussion",children:c.jsxs(Pe,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Discussion"}),c.jsx("p",{className:"text-muted-foreground",children:"Join the discussion with other students and instructors. Ask questions, share insights, and collaborate on projects."}),c.jsx(ee,{className:"mt-4",children:"Join Discussion"})]})})]})]})}const DZ=lh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vw=g.forwardRef(({className:t,variant:e,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:se(DZ({variant:e}),t),...n}));Vw.displayName="Alert";const jZ=g.forwardRef(({className:t,...e},n)=>c.jsx("h5",{ref:n,className:se("mb-1 font-medium leading-none tracking-tight",t),...e}));jZ.displayName="AlertTitle";const Fw=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("text-sm [&_p]:leading-relaxed",t),...e}));Fw.displayName="AlertDescription";const MZ=t=>[{question:`What is the main focus of ${t}?`,options:[`Understanding ${t} fundamentals`,`Advanced ${t} concepts`,`${t} in practice`,`${t} architecture`],correctAnswer:0,xp:50},{question:`Which of the following is NOT typically associated with ${t}?`,options:["Data Structures","Machine Learning","Web Development","Game Design"],correctAnswer:3,xp:50},{question:`What is a common use case for ${t}?`,options:["Building web applications","Data analysis","System automation","All of the above"],correctAnswer:3,xp:75},{question:`Which tool is most commonly used with ${t}?`,options:["Visual Studio Code","Command Line Interface","Web Browser","Database Management System"],correctAnswer:0,xp:50},{question:`What is the best practice when working with ${t}?`,options:["Writing documentation","Testing code","Version control","All of the above"],correctAnswer:3,xp:75},{question:`How does ${t} handle error management?`,options:["Try-catch blocks","Error logging","Error callbacks","All of the above"],correctAnswer:3,xp:50},{question:`What is the primary advantage of using ${t}?`,options:["Performance","Scalability","Ease of use","Security"],correctAnswer:1,xp:75},{question:`Which pattern is commonly used in ${t}?`,options:["MVC Pattern","Observer Pattern","Factory Pattern","Singleton Pattern"],correctAnswer:0,xp:50},{question:`What type of applications can be built with ${t}?`,options:["Web Applications","Mobile Apps","Desktop Software","All of the above"],correctAnswer:3,xp:75},{question:`What is the future trend for ${t}?`,options:["Cloud Integration","AI Integration","IoT Integration","All of the above"],correctAnswer:3,xp:100}];function LZ({videoUrl:t,title:e,chapterTitle:n,onComplete:r}){const s=ht(),[i,o]=g.useState(!1),[a,l]=g.useState(0),[u,d]=g.useState(!1),[p,f]=g.useState(!1),[m,y]=g.useState(0),[w,E]=g.useState(0),[x,b]=g.useState(0),[_,C]=g.useState(!1),[O]=g.useState(()=>MZ(n)),[M,P]=g.useState(!1);g.useEffect(()=>{let I;return i&&a<100&&(I=setInterval(()=>{l(A=>{const N=A+1;return N>=100&&(o(!1),C(!0),clearInterval(I)),N})},300)),()=>clearInterval(I)},[i,a]);const S=I=>{const A=O[m];A.correctAnswer===I&&(E(w+1),b(x+A.xp)),m<O.length-1?y(m+1):P(!0)};return c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:e}),c.jsx("h2",{className:"text-xl text-muted-foreground",children:n})]}),p?c.jsx(Pe,{className:"p-6",children:M?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Ot,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),c.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Quiz Complete!"}),c.jsxs("p",{className:"text-xl mb-4",children:["You scored ",w," out of ",O.length]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[c.jsx(Tl,{className:"h-6 w-6 text-yellow-500"}),c.jsxs("span",{className:"text-2xl font-bold",children:[x," XP"]})]}),c.jsx(Vw,{className:"mb-6",children:c.jsxs(Fw,{children:["Great job! You've earned ",x," XP from this chapter."]})}),c.jsx(ee,{size:"lg",onClick:()=>{r(),s(-1)},children:"Continue Learning"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Chapter Quiz"}),c.jsxs("p",{className:"text-muted-foreground",children:["Question ",m+1," of ",O.length]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{className:"h-5 w-5 text-yellow-500"}),c.jsxs("span",{className:"font-semibold",children:[x," XP"]})]})]}),c.jsx(nr,{value:m/O.length*100,className:"mt-4"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("p",{className:"text-lg font-medium",children:O[m].question}),c.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[c.jsx(Tl,{className:"h-4 w-4 text-yellow-500"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[O[m].xp," XP"]})]})]}),c.jsx("div",{className:"grid gap-3",children:O[m].options.map((I,A)=>c.jsx(ee,{variant:"outline",className:"w-full justify-start text-left p-4",onClick:()=>S(A),children:I},A))})]})]})}):c.jsx(Pe,{className:"overflow-hidden",children:c.jsxs("div",{className:"aspect-video bg-black relative flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 to-black/60"}),!i&&c.jsx(ee,{variant:"ghost",size:"icon",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 rounded-full bg-white/10 hover:bg-white/20 text-white",onClick:()=>o(!0),children:c.jsx(Ld,{className:"h-12 w-12"})}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4",children:[c.jsx(nr,{value:a,className:"mb-4"}),c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ee,{variant:"ghost",size:"icon",className:"hover:bg-white/20",onClick:()=>l(Math.max(0,a-10)),children:c.jsx(gG,{className:"h-6 w-6"})}),c.jsx(ee,{variant:"ghost",size:"icon",className:"hover:bg-white/20",onClick:()=>o(!i),children:i?c.jsx(IO,{className:"h-8 w-8"}):c.jsx(Ld,{className:"h-8 w-8"})}),c.jsx(ee,{variant:"ghost",size:"icon",className:"hover:bg-white/20",onClick:()=>l(Math.min(100,a+10)),children:c.jsx(vG,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-sm",children:[Math.floor(a),"% Complete"]})]}),c.jsx(ee,{variant:"ghost",size:"icon",className:"hover:bg-white/20",onClick:()=>d(!u),children:u?c.jsx(bG,{className:"h-6 w-6"}):c.jsx(_G,{className:"h-6 w-6"})})]})]})]})}),_&&!p&&c.jsxs("div",{className:"mt-6",children:[c.jsx(Vw,{className:"mb-4",children:c.jsx(Fw,{children:"You've completed the video! Take the quiz to earn up to 650 XP."})}),c.jsx("div",{className:"flex justify-end",children:c.jsxs(ee,{size:"lg",onClick:()=>f(!0),className:"bg-green-500 hover:bg-green-600",children:[c.jsx(Ot,{className:"mr-2 h-5 w-5"}),"Take Chapter Quiz"]})})]})]})})}function VZ(){const t=va(),e=ht(),{courseTitle:n,chapterTitle:r,videoUrl:s,quiz:i}=t.state||{courseTitle:"Course",chapterTitle:"Chapter",videoUrl:"",quiz:null},o=()=>{e(-1)};return c.jsx(LZ,{videoUrl:s,title:n,chapterTitle:r,onComplete:o,quiz:i})}const g4=[{id:"test-course",title:"Test Course",description:"This is a test course",duration:"1 hour",level:"Beginner",instructor:"Test Instructor",isPremium:!1,image:"https://images.unsplash.com/photo-1627398242454-45a1465c2479",videos:[{id:"test-1",title:"Test Video 1",description:"This is test video 1",videoUrl:"test",quiz:{questions:[{id:1,question:"Is this a test?",options:["Yes","No","Maybe","Not sure"],correctAnswer:0}]}}]},{id:"javascript-basics",title:"JavaScript Fundamentals",description:"Master the basics of JavaScript programming",duration:"4 hours",level:"Beginner",instructor:"John Smith",isPremium:!1,image:"https://images.unsplash.com/photo-1627398242454-45a1465c2479",videos:Array(4).fill(null).map((t,e)=>({id:`js-${e+1}`,title:`JavaScript Lesson ${e+1}`,description:"Learn essential JavaScript concepts",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is JavaScript?",options:["Programming Language","Database","Operating System","Web Browser"],correctAnswer:0}]}}))},{id:"python-programming",title:"Python Programming",description:"Learn Python from scratch",duration:"6 hours",level:"Beginner",instructor:"Sarah Johnson",isPremium:!0,image:"https://images.unsplash.com/photo-1526379879527-8559ecfcaec0",videos:Array(4).fill(null).map((t,e)=>({id:`python-${e+1}`,title:`Python Basics ${e+1}`,description:"Master Python fundamentals",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is Python?",options:["Programming Language","Snake","Game","Tool"],correctAnswer:0}]}}))},{id:"react-fundamentals",title:"React.js Essentials",description:"Build modern web apps with React",duration:"5 hours",level:"Intermediate",instructor:"Mike Wilson",isPremium:!0,image:"https://images.unsplash.com/photo-1633356122544-f134324a6cee",videos:Array(4).fill(null).map((t,e)=>({id:`react-${e+1}`,title:`React Basics ${e+1}`,description:"Learn React components and hooks",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is React?",options:["JS Library","Database","Programming Language","Server"],correctAnswer:0}]}}))},{id:"web-design",title:"Web Design Masterclass",description:"Create beautiful and responsive websites",duration:"8 hours",level:"Beginner",instructor:"Emma Davis",isPremium:!1,image:"https://images.unsplash.com/photo-1507238691740-187a5b1d37b8",videos:Array(4).fill(null).map((t,e)=>({id:`design-${e+1}`,title:`Design Principles ${e+1}`,description:"Master web design fundamentals",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is responsive design?",options:["Adapts to screen size","Fast loading","Uses images","Has colors"],correctAnswer:0}]}}))},{id:"data-science",title:"Data Science Basics",description:"Introduction to data analysis",duration:"10 hours",level:"Intermediate",instructor:"David Brown",isPremium:!0,image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71",videos:Array(4).fill(null).map((t,e)=>({id:`data-${e+1}`,title:`Data Analysis ${e+1}`,description:"Learn data science concepts",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is data science?",options:["Analysis of data","Web design","Programming","Gaming"],correctAnswer:0}]}}))},{id:"mobile-dev",title:"Mobile App Development",description:"Build iOS and Android apps",duration:"12 hours",level:"Advanced",instructor:"Lisa Chen",isPremium:!0,image:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c",videos:Array(4).fill(null).map((t,e)=>({id:`mobile-${e+1}`,title:`Mobile Development ${e+1}`,description:"Create mobile applications",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is React Native?",options:["Mobile framework","Database","Programming Language","Server"],correctAnswer:0}]}}))},{id:"machine-learning",title:"Machine Learning",description:"Introduction to AI and ML",duration:"15 hours",level:"Advanced",instructor:"Alex Turner",isPremium:!0,image:"https://images.unsplash.com/photo-1515879218367-8466d910aaa4",videos:Array(4).fill(null).map((t,e)=>({id:`ml-${e+1}`,title:`ML Concepts ${e+1}`,description:"Learn machine learning basics",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is machine learning?",options:["AI subset","Database","Programming Language","Web design"],correctAnswer:0}]}}))},{id:"cybersecurity",title:"Cybersecurity Basics",description:"Learn network security",duration:"8 hours",level:"Intermediate",instructor:"Robert White",isPremium:!0,image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b",videos:Array(4).fill(null).map((t,e)=>({id:`security-${e+1}`,title:`Security Fundamentals ${e+1}`,description:"Master cybersecurity concepts",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is encryption?",options:["Data protection","Web design","Programming","Database"],correctAnswer:0}]}}))},{id:"game-development",title:"Game Development",description:"Create your own games",duration:"10 hours",level:"Intermediate",instructor:"Chris Anderson",isPremium:!1,image:"https://images.unsplash.com/photo-1556438064-2d7646166914",videos:Array(4).fill(null).map((t,e)=>({id:`game-${e+1}`,title:`Game Dev Basics ${e+1}`,description:"Learn game development",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is Unity?",options:["Game engine","Database","Programming Language","Web browser"],correctAnswer:0}]}}))},{id:"blockchain",title:"Blockchain Technology",description:"Understanding cryptocurrency",duration:"6 hours",level:"Advanced",instructor:"James Wilson",isPremium:!0,image:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0",videos:Array(4).fill(null).map((t,e)=>({id:`blockchain-${e+1}`,title:`Blockchain Basics ${e+1}`,description:"Learn blockchain concepts",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is blockchain?",options:["Distributed ledger","Database","Programming Language","Web design"],correctAnswer:0}]}}))},{id:"cloud-computing",title:"Cloud Computing",description:"Master AWS and Azure",duration:"12 hours",level:"Intermediate",instructor:"Maria Garcia",isPremium:!0,image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa",videos:Array(4).fill(null).map((t,e)=>({id:`cloud-${e+1}`,title:`Cloud Services ${e+1}`,description:"Learn cloud platforms",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is AWS?",options:["Cloud platform","Database","Programming Language","Web browser"],correctAnswer:0}]}}))},{id:"devops",title:"DevOps Engineering",description:"Learn CI/CD and automation",duration:"10 hours",level:"Advanced",instructor:"Tom Harris",isPremium:!0,image:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6",videos:Array(4).fill(null).map((t,e)=>({id:`devops-${e+1}`,title:`DevOps Practices ${e+1}`,description:"Master DevOps tools",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is CI/CD?",options:["Continuous Integration","Database","Programming","Web design"],correctAnswer:0}]}}))},{id:"ui-ux-design",title:"UI/UX Design",description:"Create amazing user experiences",duration:"8 hours",level:"Beginner",instructor:"Sophie Lee",isPremium:!1,image:"https://images.unsplash.com/photo-1561070791-2526d30994b5",videos:Array(4).fill(null).map((t,e)=>({id:`design-${e+1}`,title:`UI/UX Principles ${e+1}`,description:"Learn design thinking",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is UX?",options:["User Experience","Programming","Database","Web browser"],correctAnswer:0}]}}))}];function FZ({course:t,isPremiumUser:e,onSubscribe:n}){const r=ht(),s=()=>{t.isPremium&&!e?n():r(`/course/${t.id}`)};return c.jsxs(Pe,{className:"overflow-hidden cursor-pointer transition-transform hover:scale-[1.02]",onClick:s,children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-cover"}),t.isPremium&&c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(Fi,{className:"bg-gradient-to-r from-amber-500 to-amber-600",children:"Premium"})})]}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold",children:t.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(zg,{className:"h-4 w-4"}),t.duration]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(G8,{className:"h-4 w-4"}),t.level]})]}),t.isPremium&&!e&&c.jsx(rG,{className:"h-4 w-4 text-amber-500"})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["By ",t.instructor]})]})]})}function $Z(){const[t,e]=g.useState(""),[n,r]=g.useState(!1),{userProfile:s}=sr(),i=(s==null?void 0:s.isPremium)||!1,o=g4.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())||a.instructor.toLowerCase().includes(t.toLowerCase()));return c.jsxs("div",{className:"container py-8 space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"All Courses"}),c.jsx("p",{className:"text-muted-foreground",children:"Browse our collection of courses"})]}),c.jsxs($L,{open:n,onOpenChange:r,children:[c.jsxs(ee,{onClick:()=>r(!0),className:"bg-gradient-to-r from-amber-500 to-amber-600 text-white",children:[c.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Get Premium Access"]}),c.jsxs($1,{side:"right",className:"w-full sm:w-[540px] overflow-y-auto",children:[c.jsxs(U1,{className:"mb-4",children:[c.jsx(B1,{children:"Choose Your Plan"}),c.jsx(z1,{children:"Select the plan that best fits your learning goals"})]}),c.jsx(GL,{})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pG,{className:"h-4 w-4 text-muted-foreground"}),c.jsx(Ft,{placeholder:"Search courses...",value:t,onChange:a=>e(a.target.value),className:"max-w-sm"})]}),c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(a=>c.jsx(FZ,{course:a,isPremiumUser:i,onSubscribe:()=>r(!0)},a.id))})]})}function UZ({videoUrl:t,onComplete:e}){const[n,r]=g.useState(0),[s,i]=g.useState(!1),o=g.useCallback(()=>{i(!1),e()},[e]);g.useEffect(()=>{let l=null;return s&&n<100&&(l=setInterval(()=>{r(u=>{const d=u+1;return d>=100?(l&&clearInterval(l),o(),100):d})},200)),()=>{l&&clearInterval(l)}},[s,o]);const a=()=>{i(!s)};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"aspect-video rounded-lg bg-black/90 flex items-center justify-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 via-pink-500/20 to-purple-500/20 animate-gradient"}),c.jsxs("div",{className:"relative z-10 text-center",children:[c.jsxs("div",{className:"text-4xl font-bold mb-2",children:[n,"%"]}),c.jsx(ee,{size:"lg",onClick:a,className:"bg-white/10 hover:bg-white/20",children:s?c.jsx(IO,{className:"h-8 w-8"}):c.jsx(Ld,{className:"h-8 w-8"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(nr,{value:n,className:"h-2"}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[n,"%"]})]})]})]})}function BZ({title:t,questions:e=[],onComplete:n}){const[r,s]=g.useState(0),[i,o]=g.useState({}),[a,l]=g.useState(!1);if(!e||e.length===0)return c.jsxs(Pe,{className:"p-6 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:t}),c.jsx("p",{className:"text-muted-foreground",children:"No questions available for this quiz."})]});const u=e[r],d=E=>{a||o(x=>({...x,[u.id]:E}))},p=()=>{r<e.length-1&&s(E=>E+1)},f=()=>{r>0&&s(E=>E-1)},m=()=>{l(!0);const x=e.filter(b=>i[b.id]===b.correctAnswer).length/e.length*100;n(x)},y=(E,x)=>{if(!a)return null;const b=e.find(_=>_.id===E);return(b==null?void 0:b.correctAnswer)===x},w=Object.keys(i).length===e.length;return c.jsx(Pe,{className:"p-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:t}),c.jsxs("p",{className:"text-muted-foreground",children:["Question ",r+1," of ",e.length]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-medium",children:u.question}),c.jsx("div",{className:"space-y-2",children:u.options.map((E,x)=>{const b=y(u.id,x),_=i[u.id]===x;return c.jsx("button",{className:`w-full text-left p-4 rounded-lg border transition-colors
                    ${_?"border-primary bg-primary/10":"border-border hover:border-primary"}
                    ${a&&_?b?"border-green-500 bg-green-50 text-green-700":"border-red-500 bg-red-50 text-red-700":""}
                    ${a&&!_&&b?"border-green-500 bg-green-50/50 text-green-700":""}
                  `,onClick:()=>d(x),disabled:a,children:E},x)})})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx(ee,{variant:"outline",onClick:f,disabled:r===0,children:"Previous"}),r===e.length-1?c.jsx(ee,{onClick:m,disabled:!w||a,children:"Submit Quiz"}):c.jsx(ee,{onClick:p,disabled:!i[u.id],children:"Next"})]}),a&&c.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:c.jsx("p",{className:"text-green-700 font-medium text-center",children:"Quiz completed! Your answers have been submitted."})})]})})}function sC(){var y;const{courseId:t}=b$(),e=ht(),[n,r]=g.useState(0),[s,i]=g.useState(!1),[o,a]=g.useState([]),{userProfile:l}=sr(),u=(l==null?void 0:l.isPremium)||!1,d=g4.find(w=>w.id===t);if(g.useEffect(()=>{d||e("/courses")},[d,e]),!d||!d.videos||d.videos.length===0)return null;const p=d.videos[n],f=()=>{i(!0)},m=w=>{w>=70&&(a(E=>E.includes(p.id)?E:[...E,p.id]),i(!1),n+1<d.videos.length&&r(n+1))};return c.jsx("div",{className:"container py-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s?c.jsx(BZ,{title:`Quiz: ${p.title}`,questions:((y=p.quiz)==null?void 0:y.questions)||[],onComplete:m}):c.jsx(UZ,{videoUrl:p.videoUrl,onComplete:f}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:d.title}),c.jsx("p",{className:"text-muted-foreground",children:d.description}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fi,{children:d.level}),c.jsx(Fi,{variant:"outline",children:d.duration}),d.isPremium&&u&&c.jsx(Fi,{className:"bg-gradient-to-r from-amber-500 to-amber-600",children:"Premium"})]})]})]}),c.jsxs(Pe,{className:"p-4",children:[c.jsx("h2",{className:"font-semibold mb-4",children:"Course Content"}),c.jsx("div",{className:"space-y-2",children:d.videos.map((w,E)=>c.jsx(ee,{variant:n===E?"default":"ghost",className:"w-full justify-start",onClick:()=>{r(E),i(!1)},children:c.jsxs("div",{className:"flex items-center gap-2",children:[o.includes(w.id)&&c.jsx(Eb,{className:"h-4 w-4 text-green-500"}),c.jsxs("span",{children:[E+1,". ",w.title]})]})},w.id))})]})]})})}const zZ=[{name:"Basic",id:"basic",priceMonthly:"Free",description:"Perfect for getting started",features:["Access to basic flashcards","Limited quiz generation","Basic progress tracking","2 mock tests per month"]},{name:"Pro",id:"pro",priceMonthly:"$9.99",description:"For serious learners",features:["Unlimited AI-powered flashcards","Advanced quiz customization","Detailed analytics","Unlimited mock tests","Priority support"]},{name:"Enterprise",id:"enterprise",priceMonthly:"$29.99",description:"For teams and organizations",features:["Everything in Pro","Team management","Custom learning paths","API access","Dedicated support","Custom integrations"]}];function GZ(){const t=ht();return c.jsx("div",{className:"py-24 sm:py-32",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[c.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[c.jsx("h2",{className:"text-base font-semibold leading-7 text-primary",children:"Pricing"}),c.jsx("p",{className:"mt-2 text-4xl font-bold tracking-tight sm:text-5xl",children:"Choose the right plan for you"})]}),c.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-center text-lg leading-8 text-muted-foreground",children:"Start for free and upgrade as you grow. All plans include a 14-day free trial."}),c.jsx("div",{className:"isolate mx-auto mt-16 grid max-w-md grid-cols-1 gap-y-8 sm:mt-20 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:zZ.map((e,n)=>c.jsxs("div",{className:`flex flex-col justify-between rounded-3xl bg-card p-8 ring-1 ring-muted ${n===1?"lg:z-10 lg:rounded-b-none":""} ${n===0?"lg:rounded-r-none":""} ${n===2?"lg:rounded-l-none":""}`,children:[c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center justify-between gap-x-4",children:c.jsx("h3",{className:"text-lg font-semibold leading-8",children:e.name})}),c.jsx("p",{className:"mt-4 text-sm leading-6 text-muted-foreground",children:e.description}),c.jsxs("p",{className:"mt-6 flex items-baseline gap-x-1",children:[c.jsx("span",{className:"text-4xl font-bold tracking-tight",children:e.priceMonthly}),e.priceMonthly!=="Free"&&c.jsx("span",{className:"text-sm font-semibold leading-6 text-muted-foreground",children:"/month"})]}),c.jsx("ul",{role:"list",className:"mt-8 space-y-3 text-sm leading-6 text-muted-foreground",children:e.features.map(r=>c.jsxs("li",{className:"flex gap-x-3",children:[c.jsx(xc,{className:"h-6 w-5 flex-none text-primary","aria-hidden":"true"}),r]},r))})]}),c.jsx(ee,{className:"mt-8",variant:n===1?"default":"outline",onClick:()=>t("/register"),children:"Get started"})]},e.id))})]})})}function qZ(){return c.jsx("div",{className:"py-24 sm:py-32 bg-muted/50",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[c.jsxs("div",{className:"mx-auto max-w-2xl lg:text-center",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl",children:"About Me"}),c.jsx("p",{className:"mt-6 text-lg leading-8 text-muted-foreground",children:"Hi, I'm Gaurav Kulkarni, a passionate developer dedicated to creating innovative learning solutions."})]}),c.jsxs("div",{className:"mx-auto mt-16 max-w-2xl text-center",children:[c.jsx("p",{className:"text-lg leading-8 text-muted-foreground",children:"I created Questly with the vision of making learning more engaging and effective through AI-powered tools. With experience in educational technology, I understand the challenges students face and build solutions to address them."}),c.jsxs("div",{className:"mt-10 flex justify-center gap-6",children:[c.jsx(ee,{variant:"ghost",size:"icon",asChild:!0,children:c.jsx("a",{href:"https://github.com/yourusername",target:"_blank",rel:"noopener noreferrer",children:c.jsx(EO,{className:"h-5 w-5"})})}),c.jsx(ee,{variant:"ghost",size:"icon",asChild:!0,children:c.jsx("a",{href:"https://linkedin.com/in/yourusername",target:"_blank",rel:"noopener noreferrer",children:c.jsx(SO,{className:"h-5 w-5"})})}),c.jsx(ee,{variant:"ghost",size:"icon",asChild:!0,children:c.jsx("a",{href:"mailto:your.email@example.com",children:c.jsx(iG,{className:"h-5 w-5"})})})]})]})]})})}const WZ=[{title:"AI-Powered Flashcards",description:"Create and study with intelligent flashcards that adapt to your learning style",icon:nG,color:"text-blue-500"},{title:"Smart Quiz Generation",description:"Take personalized quizzes generated by AI based on your study materials",icon:Rs,color:"text-green-500"},{title:"Mock Tests",description:"Practice with realistic mock tests that simulate exam conditions",icon:TO,color:"text-purple-500"},{title:"Progress Tracking",description:"Monitor your learning progress with detailed analytics and insights",icon:z8,color:"text-yellow-500"},{title:"AI Study Assistant",description:"Get help from our AI assistant for any questions or clarifications",icon:gs,color:"text-pink-500"},{title:"Leaderboard",description:"Compete with others and track your ranking on the leaderboard",icon:Ot,color:"text-orange-500"}];function HZ(){return sr(),ht(),c.jsxs("main",{children:[c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"container px-4 md:px-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-6xl mb-4",children:"Welcome to Questly"}),c.jsx("p",{className:"text-xl text-muted-foreground mb-16",children:"Transform your learning experience with AI-powered tools"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:WZ.map(t=>c.jsxs(Pe,{className:"transition-all hover:shadow-lg",children:[c.jsxs(Av,{children:[c.jsx(t.icon,{className:`h-8 w-8 ${t.color}`}),c.jsx(Rv,{className:"mt-4",children:t.title}),c.jsx(BL,{children:t.description})]}),c.jsx(Nv,{})]},t.title))})]})}),c.jsx("section",{className:"bg-muted/30",children:c.jsx(GZ,{})}),c.jsx(qZ,{})]})}function Sh({theme:t="green",children:e,className:n,...r}){return c.jsx("div",{className:se("group relative overflow-hidden transition-all duration-300","rounded-[32px] md:rounded-[32px]","bg-gradient-to-b from-[#1E1E1E]/40 to-[#252525]/40","hover:from-[#1E1E1E] hover:to-[#252525]","backdrop-blur-[2px]","border border-white/5 hover:border-white/10",{"hover:border-emerald-500/30":t==="green","hover:border-blue-500/30":t==="blue","hover:border-purple-500/30":t==="purple","hover:border-orange-500/30":t==="orange","hover:border-red-500/30":t==="red"},"before:absolute before:inset-0 before:opacity-0 before:transition-opacity","before:duration-300 group-hover:before:opacity-100","before:bg-gradient-to-b before:from-transparent before:to-black/10",{"before:from-emerald-500/5 before:to-transparent":t==="green","before:from-blue-500/5 before:to-transparent":t==="blue","before:from-purple-500/5 before:to-transparent":t==="purple","before:from-orange-500/5 before:to-transparent":t==="orange","before:from-red-500/5 before:to-transparent":t==="red"},n),...r,children:e})}function KZ({currentXP:t,requiredXP:e,level:n,className:r}){const s=Math.min(t/e*100,100);return c.jsxs(Sh,{theme:"green",className:se("group relative overflow-hidden",r),children:[c.jsxs("div",{className:"relative z-10 space-y-4 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-semibold text-white",children:["Level ",n]}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Keep going! You're doing great!"})]}),c.jsx(Ot,{className:"h-8 w-8 text-emerald-400"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"font-medium text-white",children:[t.toLocaleString()," XP"]}),c.jsxs("span",{className:"text-[#B3B3B3]",children:[e.toLocaleString()," XP"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(nr,{value:s,className:"h-3 bg-[#1E1E1E]",indicatorClassName:"bg-gradient-to-r from-emerald-500 to-emerald-400"}),c.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.3)] transition-opacity duration-300 group-hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"rounded-lg bg-[#1E1E1E] p-4 transition-all hover:bg-emerald-500/10",children:[c.jsx("div",{className:"text-sm text-[#B3B3B3]",children:"Next Level"}),c.jsx("div",{className:"text-2xl font-bold text-white",children:n+1})]}),c.jsxs("div",{className:"rounded-lg bg-[#1E1E1E] p-4 transition-all hover:bg-emerald-500/10",children:[c.jsx("div",{className:"text-sm text-[#B3B3B3]",children:"XP Needed"}),c.jsx("div",{className:"text-2xl font-bold text-white",children:(e-t).toLocaleString()})]})]})]}),c.jsx("div",{className:"absolute -right-8 -top-8 h-48 w-48 opacity-[0.05]",children:c.jsx(Ot,{className:"h-full w-full text-emerald-500"})})]})}function QZ({challenges:t,completedCount:e,totalCount:n,className:r}){const s=e/n*100;return c.jsxs(Sh,{theme:"green",className:se("group relative overflow-hidden",r),children:[c.jsxs("div",{className:"relative z-10 space-y-6 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Daily Challenges"}),c.jsxs("p",{className:"text-[#B3B3B3]",children:[e," of ",n," challenges completed"]})]}),c.jsx(Tl,{className:"h-8 w-8 text-emerald-400"})]}),c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(nr,{value:s,className:"h-3 bg-[#1E1E1E]",indicatorClassName:"bg-gradient-to-r from-emerald-500 to-emerald-400"}),c.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.3)] transition-opacity duration-300 group-hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]"})]})}),c.jsx("div",{className:"space-y-4",children:t.map((i,o)=>c.jsxs("div",{className:se("group/item rounded-lg bg-[#1E1E1E] p-4 transition-all",i.completed?"border border-emerald-500/20 bg-emerald-500/5":"hover:bg-emerald-500/10"),children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h4",{className:"font-medium text-white",children:i.title}),i.completed&&c.jsx("div",{className:"rounded-full bg-emerald-500/20 p-1",children:c.jsx(xc,{className:"h-3 w-3 text-emerald-400"})})]}),c.jsx("p",{className:"text-sm text-[#B3B3B3]",children:i.description}),i.timeLeft&&c.jsx("p",{className:"text-sm text-emerald-400",children:i.timeLeft})]}),c.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-emerald-500/10 px-2 py-1 text-sm text-emerald-400",children:[c.jsx(Tl,{className:"h-4 w-4"}),c.jsxs("span",{children:["+",i.xpReward," XP"]})]})]}),i.progress!==void 0&&c.jsxs("div",{className:"mt-3 space-y-1",children:[c.jsxs("div",{className:"relative",children:[c.jsx(nr,{value:i.progress,className:"h-2 bg-[#1E1E1E]",indicatorClassName:"bg-gradient-to-r from-emerald-500 to-emerald-400"}),c.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_5px_rgba(16,185,129,0.2)] transition-opacity duration-300 group-hover/item:shadow-[0_0_8px_rgba(16,185,129,0.3)]"})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("span",{className:"text-xs text-[#B3B3B3]",children:[i.progress,"%"]})})]})]},o))})]}),c.jsx("div",{className:"absolute -right-8 -top-8 h-48 w-48 opacity-[0.05]",children:c.jsx(Tl,{className:"h-full w-full text-emerald-500"})})]})}function YZ({currentStreak:t,longestStreak:e,weekActivity:n,className:r}){return c.jsxs(Sh,{theme:"green",className:se("group relative overflow-hidden",r),children:[c.jsxs("div",{className:"relative z-10 space-y-6 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Learning Streak"}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Keep the momentum going!"})]}),c.jsx(pl,{className:"h-8 w-8 text-emerald-400"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"rounded-lg bg-[#1E1E1E] p-4 transition-all hover:bg-emerald-500/10",children:[c.jsx("div",{className:"text-sm text-[#B3B3B3]",children:"Current Streak"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pl,{className:"h-5 w-5 text-emerald-400"}),c.jsx("span",{className:"text-2xl font-bold text-white",children:t}),c.jsx("span",{className:"text-sm text-[#B3B3B3]",children:"days"})]})]}),c.jsxs("div",{className:"rounded-lg bg-[#1E1E1E] p-4 transition-all hover:bg-emerald-500/10",children:[c.jsx("div",{className:"text-sm text-[#B3B3B3]",children:"Longest Streak"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pl,{className:"h-5 w-5 text-emerald-400"}),c.jsx("span",{className:"text-2xl font-bold text-white",children:e}),c.jsx("span",{className:"text-sm text-[#B3B3B3]",children:"days"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"mb-4 font-medium text-white",children:"Weekly Activity"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:n.map((s,i)=>c.jsxs("div",{className:"space-y-2 text-center",children:[c.jsx("div",{className:se("mx-auto h-8 w-8 rounded-lg transition-all",s.active?"bg-gradient-to-r from-emerald-500 to-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.3)]":"bg-[#1E1E1E]")}),c.jsx("span",{className:"text-xs text-[#B3B3B3]",children:s.day})]},i))})]})]}),c.jsx("div",{className:"absolute -right-8 -top-8 h-48 w-48 opacity-[0.05]",children:c.jsx(pl,{className:"h-full w-full text-emerald-500"})})]})}function kf({title:t,value:e,subtitle:n,icon:r,theme:s="green",className:i}){const o=a=>{const l={green:"text-emerald-400 bg-emerald-500/10",blue:"text-blue-400 bg-blue-500/10",purple:"text-purple-400 bg-purple-500/10",orange:"text-orange-400 bg-orange-500/10"};return l[a]||l.green};return c.jsx(Sh,{theme:s,className:se("group",i),children:c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:"text-2xl font-semibold text-white group-hover:text-white transition-colors",children:e}),c.jsx("p",{className:"text-[#B3B3B3] group-hover:text-[#B3B3B3] transition-colors",children:t})]}),c.jsx("div",{className:se("flex h-14 w-14 items-center justify-center rounded-2xl transition-colors duration-300","bg-[#252525]/40 border border-white/5","group-hover:bg-[#252525]",{"group-hover:border-emerald-500/30":s==="green","group-hover:border-blue-500/30":s==="blue","group-hover:border-purple-500/30":s==="purple","group-hover:border-orange-500/30":s==="orange"},o(s)),children:c.jsx(r,{className:"h-7 w-7"})})]}),c.jsx("p",{className:"text-sm text-[#B3B3B3] group-hover:text-[#B3B3B3] transition-colors",children:n})]})})}function JZ(){const t=g.useRef(null),[e,n]=g.useState(!1),[r,s]=g.useState({x:0,y:0}),[i,o]=g.useState(0);return{divRef:t,position:r,opacity:i,handlers:{onMouseMove:f=>{if(!t.current||e)return;const m=t.current.getBoundingClientRect();s({x:f.clientX-m.left,y:f.clientY-m.top})},onFocus:()=>{n(!0),o(.6)},onBlur:()=>{n(!1),o(0)},onMouseEnter:()=>{o(.6)},onMouseLeave:()=>{o(0)}}}}function XZ({title:t,description:e,icon:n,iconColor:r="#1DB954",iconBgColor:s="rgba(29, 185, 84, 0.1)",onClick:i,className:o,style:a,borderGlow:l}){const{divRef:u,position:d,opacity:p,handlers:f}=JZ();return c.jsxs("div",{ref:u,...f,onClick:i,className:`group relative overflow-hidden rounded-lg p-8 transition-all duration-300 hover:-translate-y-2 h-[300px] border border-[#333333] hover:border-[rgba(16,185,129,0.5)] ${o}`,style:{...a,background:"linear-gradient(145deg, rgba(30, 30, 30, 0.9), rgba(20, 20, 20, 0.95))",backdropFilter:"blur(10px)",boxShadow:"0 4px 24px -4px rgba(0, 0, 0, 0.3)"},children:[c.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-500",style:{opacity:p,background:`radial-gradient(600px circle at ${d.x}px ${d.y}px, ${l||"rgba(16,185,129,0.15)"}, transparent 40%)`}}),c.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[c.jsxs("div",{children:[c.jsx("div",{className:"mb-6 flex h-14 w-14 items-center justify-center rounded-xl transition-colors duration-300 group-hover:bg-[rgba(16,185,129,0.15)]",style:{backgroundColor:"rgba(30, 30, 30, 0.8)",border:"1px solid rgba(51, 51, 51, 0.8)"},children:n}),c.jsx("h3",{className:"mb-2 text-xl font-semibold text-white group-hover:text-emerald-400 transition-colors duration-300",children:t}),c.jsx("p",{className:"text-[#B3B3B3] text-sm leading-relaxed",children:e})]}),c.jsx("div",{className:"mt-auto pt-6",children:c.jsxs("button",{className:"inline-flex items-center text-[#B3B3B3] hover:text-emerald-400 transition-colors duration-300",children:[c.jsx("span",{className:"mr-2",children:"Get Started"}),c.jsx("svg",{className:"h-4 w-4 transform transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]}),c.jsx("div",{className:"absolute -right-8 -top-8 h-48 w-48 opacity-[0.03] transition-opacity duration-300 group-hover:opacity-[0.05]",children:c.jsx("div",{className:"h-full w-full",style:{color:r},children:n})}),c.jsx("div",{className:"absolute inset-0 rounded-lg transition-opacity duration-500 group-hover:opacity-100 opacity-0",style:{boxShadow:`inset 0 0 0 1px ${l||"rgba(255, 255, 255, 0.1)"}`}})]})}function ZZ(){const t=ht(),e=[{title:"Flashcards",description:"Create and study with interactive flashcards. Perfect for memorization and quick review.",icon:c.jsx(Rs,{className:"w-7 h-7 text-[#60DFFF]"}),path:"/flashcards",borderGlow:"rgba(96, 223, 255, 0.2)"},{title:"Quiz",description:"Test your knowledge with targeted quizzes. Track your progress and identify areas for improvement.",icon:c.jsx(Gg,{className:"w-7 h-7 text-emerald-400"}),path:"/quiz",borderGlow:"rgba(16, 185, 129, 0.2)"},{title:"Mock Tests",description:"Practice with full-length mock exams. Get exam-ready with timed tests and detailed analysis.",icon:c.jsx(TO,{className:"w-7 h-7 text-purple-400"}),path:"/mock-test",borderGlow:"rgba(167, 139, 250, 0.2)"},{title:"Summary Generator",description:"Generate concise summaries of your study material. Save time and focus on key concepts.",icon:c.jsx(X8,{className:"w-7 h-7 text-orange-400"}),path:"/summary",borderGlow:"rgba(251, 146, 60, 0.2)"}];return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(n=>c.jsx(XZ,{title:n.title,description:n.description,icon:n.icon,borderGlow:n.borderGlow,onClick:()=>t(n.path)},n.title))})}const fr=[{id:1,name:"Lee Taeyong",xp:258244,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=1"},{id:2,name:"Mark Lee",xp:258242,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=2"},{id:3,name:"Xiao Dejun",xp:258223,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=3"},{id:4,name:"Liu YangYang",xp:257890,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=4"},{id:5,name:"Qian Kun",xp:257456,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=5"}],eee=["John Smith","Emma Davis","Michael Chen","Sarah Wilson","David Kim","Lisa Park","James Brown","Maria Garcia","Robert Lee","Anna Wang","Thomas Nguyen","Jennifer Wu","William Liu","Elizabeth Zhang","Richard Tan","Jessica Lin","Daniel Wong","Michelle Zhao","Kevin Choi","Rachel Kim","Joseph Park","Emily Chen","Christopher Lee","Amanda Liu","Brian Wang","Sophie Zhang","Ryan Wu","Olivia Yang","Justin Chen","Grace Kim","Steven Park","Catherine Lee","Matthew Wong","Victoria Lin","Andrew Liu","Hannah Chen","Benjamin Kim","Samantha Wu","Alexander Park","Nicole Zhang"],tee=Array(40).fill(null).map((t,e)=>e<fr.length?fr[e]:{id:e+1,name:eee[e],xp:Math.floor(257e3-e*1e3),avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e+1}`});function nee(){const[t,e]=g.useState(!1),n=r=>{switch(r){case 1:return"bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 text-yellow-400";case 2:return"bg-gradient-to-r from-gray-300/20 to-gray-400/20 text-gray-300";case 3:return"bg-gradient-to-r from-amber-600/20 to-amber-700/20 text-amber-600";default:return"bg-[#252525]/40 text-[#B3B3B3]"}};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"rounded-xl border border-white/5 bg-[#252525]/40 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{className:"h-5 w-5 text-[#B3B3B3]"}),c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Leaderboard"})]}),c.jsx(ee,{variant:"link",className:"text-[#B3B3B3] hover:text-white",onClick:()=>e(!0),children:"View Full Ranking"})]}),c.jsx("div",{className:"space-y-4",children:fr.map((r,s)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/5 hover:border-purple-500/30 bg-[#252525]/40 hover:bg-[#252525] transition-all",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[c.jsx("div",{className:n(s+1)+" flex h-8 w-8 items-center justify-center rounded-xl font-semibold shrink-0",children:s+1}),c.jsx("img",{src:r.avatar,alt:r.name,className:"h-8 w-8 rounded-xl bg-[#252525]/40 shrink-0"}),c.jsx("div",{className:"overflow-x-auto min-w-0",children:c.jsx("span",{className:"font-medium text-white whitespace-nowrap",children:r.name})})]}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-4",children:[c.jsx(Ot,{className:"h-4 w-4 text-[#B3B3B3]"}),c.jsxs("span",{className:"text-[#B3B3B3] whitespace-nowrap",children:[r.xp.toLocaleString()," XP"]})]})]},r.id))})]}),c.jsx(Jm,{open:t,onOpenChange:e,children:c.jsx(Yd,{className:"!rounded-[32px] bg-[#252525]/40 border-white/5 p-6 max-w-2xl max-h-[80vh] rounded-3xl",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-[#252525]/40 border border-white/5",children:c.jsx(Ot,{className:"h-6 w-6 text-[#B3B3B3]"})}),c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Full Leaderboard"})]}),c.jsx("div",{className:"space-y-3 overflow-y-auto max-h-[60vh] pr-2",children:tee.map((r,s)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl border border-white/5 hover:border-white/10 bg-[#252525]/40 hover:bg-[#252525] transition-all",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[c.jsx("div",{className:n(s+1)+" flex h-8 w-8 items-center justify-center rounded-xl font-semibold shrink-0",children:s+1}),c.jsx("img",{src:r.avatar,alt:r.name,className:"h-8 w-8 rounded-xl bg-[#252525]/40 shrink-0"}),c.jsx("div",{className:"overflow-x-auto min-w-0",children:c.jsx("span",{className:"font-medium text-white whitespace-nowrap",children:r.name})})]}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-4",children:[c.jsx(Ot,{className:"h-4 w-4 text-[#B3B3B3]"}),c.jsxs("span",{className:"text-[#B3B3B3] whitespace-nowrap",children:[r.xp.toLocaleString()," XP"]})]})]},r.id))})]})})})]})}function Q1(t,[e,n]){return Math.min(n,Math.max(e,t))}function ree(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Y1="ScrollArea",[v4,xce]=Ls(Y1),[see,ir]=v4(Y1),y4=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=g.useState(null),[u,d]=g.useState(null),[p,f]=g.useState(null),[m,y]=g.useState(null),[w,E]=g.useState(null),[x,b]=g.useState(0),[_,C]=g.useState(0),[O,M]=g.useState(!1),[P,S]=g.useState(!1),I=Ne(e,N=>l(N)),A=ch(s);return c.jsx(see,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:p,onContentChange:f,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:O,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:E,scrollbarYEnabled:P,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:C,children:c.jsx(ve.div,{dir:A,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});y4.displayName=Y1;var x4="ScrollAreaViewport",w4=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...o}=t,a=ir(x4,n),l=g.useRef(null),u=Ne(e,l,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),c.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:pee({asChild:s,children:r},d=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});w4.displayName=x4;var es="ScrollAreaScrollbar",J1=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ir(es,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?c.jsx(iee,{...r,ref:e,forceMount:n}):s.type==="scroll"?c.jsx(oee,{...r,ref:e,forceMount:n}):s.type==="auto"?c.jsx(_4,{...r,ref:e,forceMount:n}):s.type==="always"?c.jsx(X1,{...r,ref:e}):null});J1.displayName=es;var iee=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ir(es,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(fn,{present:n||i,children:c.jsx(_4,{"data-state":i?"visible":"hidden",...r,ref:e})})}),oee=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ir(es,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Ov(()=>l("SCROLL_END"),100),[a,l]=ree("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),g.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let p=u[d];const f=()=>{const m=u[d];p!==m&&(l("SCROLL"),o()),p=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,l,o]),c.jsx(fn,{present:n||a!=="hidden",children:c.jsx(X1,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ie(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ie(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),_4=g.forwardRef((t,e)=>{const n=ir(es,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),a=t.orientation==="horizontal",l=Ov(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return lc(n.viewport,l),lc(n.content,l),c.jsx(fn,{present:r||i,children:c.jsx(X1,{"data-state":i?"visible":"hidden",...s,ref:e})})}),X1=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=ir(es,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,l]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=P4(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function p(f,m){return hee(f,o.current,a,m)}return n==="horizontal"?c.jsx(aee,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=iC(f,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=p(f,s.dir))}}):n==="vertical"?c.jsx(lee,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=iC(f,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=p(f))}}):null}),aee=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ir(es,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=Ne(e,l,i.onScrollbarXChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(E4,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kv(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),C4(f,p)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:tg(o.paddingLeft),paddingEnd:tg(o.paddingRight)}})}})}),lee=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ir(es,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=Ne(e,l,i.onScrollbarYChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(E4,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kv(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),C4(f,p)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:tg(o.paddingTop),paddingEnd:tg(o.paddingBottom)}})}})}),[cee,b4]=v4(es),E4=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:p,...f}=t,m=ir(es,n),[y,w]=g.useState(null),E=Ne(e,I=>w(I)),x=g.useRef(null),b=g.useRef(""),_=m.viewport,C=r.content-r.viewport,O=St(d),M=St(l),P=Ov(p,10);function S(I){if(x.current){const A=I.clientX-x.current.left,N=I.clientY-x.current.top;u({x:A,y:N})}}return g.useEffect(()=>{const I=A=>{const N=A.target;(y==null?void 0:y.contains(N))&&O(A,C)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[_,y,C,O]),g.useEffect(M,[r,M]),lc(y,P),lc(m.content,P),c.jsx(cee,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:St(i),onThumbPointerUp:St(o),onThumbPositionChange:M,onThumbPointerDown:St(a),children:c.jsx(ve.div,{...f,ref:E,style:{position:"absolute",...f.style},onPointerDown:ie(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(I))}),onPointerMove:ie(t.onPointerMove,S),onPointerUp:ie(t.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),eg="ScrollAreaThumb",T4=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=b4(eg,t.__scopeScrollArea);return c.jsx(fn,{present:n||s.hasThumb,children:c.jsx(uee,{ref:e,...r})})}),uee=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=ir(eg,n),o=b4(eg,n),{onThumbPositionChange:a}=o,l=Ne(e,p=>o.onThumbChange(p)),u=g.useRef(),d=Ov(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const p=i.viewport;if(p){const f=()=>{if(d(),!u.current){const m=fee(p,a);u.current=m,a()}};return a(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[i.viewport,d,a]),c.jsx(ve.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ie(t.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),y=p.clientX-m.left,w=p.clientY-m.top;o.onThumbPointerDown({x:y,y:w})}),onPointerUp:ie(t.onPointerUp,o.onThumbPointerUp)})});T4.displayName=eg;var Z1="ScrollAreaCorner",S4=g.forwardRef((t,e)=>{const n=ir(Z1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(dee,{...t,ref:e}):null});S4.displayName=Z1;var dee=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=ir(Z1,n),[i,o]=g.useState(0),[a,l]=g.useState(0),u=!!(i&&a);return lc(s.scrollbarX,()=>{var p;const d=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),lc(s.scrollbarY,()=>{var p;const d=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?c.jsx(ve.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tg(t){return t?parseInt(t,10):0}function P4(t,e){const n=t/e;return isNaN(n)?0:n}function kv(t){const e=P4(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function hee(t,e,n,r="ltr"){const s=kv(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,p=r==="ltr"?[0,d]:[d*-1,0];return I4([l,u],p)(t)}function iC(t,e,n="ltr"){const r=kv(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=Q1(t,l);return I4([0,o],[0,a])(u)}function I4(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function C4(t,e){return t>0&&t<e}var fee=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ov(t,e){const n=St(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function lc(t,e){const n=St(e);Kr(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function pee(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=g.Children.only(r);return g.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var A4=y4,mee=w4,gee=S4;const R4=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(A4,{ref:r,className:se("relative overflow-hidden",t),...n,children:[c.jsx(mee,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(N4,{}),c.jsx(gee,{})]}));R4.displayName=A4.displayName;const N4=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>c.jsx(J1,{ref:r,orientation:e,className:se("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:c.jsx(T4,{className:"relative flex-1 rounded-full bg-border"})}));N4.displayName=J1.displayName;var oC;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(oC||(oC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aC;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(aC||(aC={}));var lC;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(lC||(lC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=["user","model","function","system"];var uC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(uC||(uC={}));var dC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dC||(dC={}));var hC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(hC||(hC={}));var fC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(fC||(fC={}));var ad;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(ad||(ad={}));var pC;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(pC||(pC={}));var mC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(mC||(mC={}));var gC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gC||(gC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class La extends vn{constructor(e,n){super(e),this.response=n}}class k4 extends vn{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class $i extends vn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee="https://generativelanguage.googleapis.com",yee="v1beta",xee="0.21.0",wee="genai-js";var fa;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(fa||(fa={}));class _ee{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||yee;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||vee}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function bee(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${wee}/${xee}`),e.join(" ")}async function Eee(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",bee(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new $i(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new $i(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new $i(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function Tee(t,e,n,r,s,i){const o=new _ee(t,e,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Cee(i)),{method:"POST",headers:await Eee(o),body:s})}}async function Ph(t,e,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await Tee(t,e,n,r,s,i);return See(a,l,o)}async function See(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){Pee(s,t)}return r.ok||await Iee(r,t),r}function Pee(t,e){let n=t;throw t instanceof k4||t instanceof $i||(n=new vn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Iee(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new k4(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Cee(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Fp(t.candidates[0]))throw new La(`${li(t)}`,t);return Aee(t)}else if(t.promptFeedback)throw new La(`Text not available. ${li(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fp(t.candidates[0]))throw new La(`${li(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),vC(t)[0]}else if(t.promptFeedback)throw new La(`Function call not available. ${li(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fp(t.candidates[0]))throw new La(`${li(t)}`,t);return vC(t)}else if(t.promptFeedback)throw new La(`Function call not available. ${li(t)}`,t)},t}function Aee(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function vC(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const Ree=[ad.RECITATION,ad.SAFETY,ad.LANGUAGE];function Fp(t){return!!t.finishReason&&Ree.includes(t.finishReason)}function li(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];Fp(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Jd(t){return this instanceof Jd?(this.v=t,this):new Jd(t)}function Nee(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(m){return new Promise(function(y,w){i.push([f,m,y,w])>1||a(f,m)})})}function a(f,m){try{l(r[f](m))}catch(y){p(i[0][3],y)}}function l(f){f.value instanceof Jd?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function p(f,m){f(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function kee(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=jee(e),[r,s]=n.tee();return{stream:Dee(r),response:Oee(s)}}async function Oee(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return eE(Mee(e));e.push(s)}}function Dee(t){return Nee(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Jd(n.read());if(s)break;yield yield Jd(eE(r))}})}function jee(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new vn("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(yC),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new vn(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(yC)}return i()})}}})}function Mee(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[i].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e,n,r){const s=await Ph(e,fa.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return kee(s)}async function D4(t,e,n,r){const i=await(await Ph(e,fa.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:eE(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Xd(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Lee(e)}function Lee(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new vn("No content is provided for sending chat message.");return r?e:n}function Vee(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new $i("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=Xd(t);r.contents=[i]}return{generateContentRequest:r}}function xC(t){let e;return t.contents?e=t:e={contents:[Xd(t)]},t.systemInstruction&&(e.systemInstruction=j4(t.systemInstruction)),e}function Fee(t){return typeof t=="string"||Array.isArray(t)?{content:Xd(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],$ee={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Uee(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new vn(`First content should be with role 'user', got ${r}`);if(!cC.includes(r))throw new vn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(cC)}`);if(!Array.isArray(s))throw new vn("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new vn("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of wC)l in a&&(i[l]+=1);const o=$ee[r];for(const a of wC)if(!o.includes(a)&&i[a]>0)throw new vn(`Content with role '${r}' can't contain '${a}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="SILENT_ERROR";class Bee{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Uee(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=Xd(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>D4(this._apiKey,this.model,d,p)).then(m=>{var y;if(m.response.candidates&&m.response.candidates.length>0){this._history.push(u);const w=Object.assign({parts:[],role:"model"},(y=m.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(w)}else{const w=li(m.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}f=m}),await this._sendPromise,f}async sendMessageStream(e,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=Xd(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n),f=O4(this._apiKey,this.model,d,p);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(_C)}).then(m=>m.response).then(m=>{if(m.candidates&&m.candidates.length>0){this._history.push(u);const y=Object.assign({},m.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=li(m);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(m=>{m.message!==_C&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zee(t,e,n,r){return(await Ph(e,fa.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gee(t,e,n,r){return(await Ph(e,fa.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function qee(t,e,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Ph(e,fa.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=j4(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=xC(e),i=Object.assign(Object.assign({},this._requestOptions),n);return D4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(e,n={}){var r;const s=xC(e),i=Object.assign(Object.assign({},this._requestOptions),n);return O4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(e){var n;return new Bee(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Vee(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return zee(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=Fee(e),s=Object.assign(Object.assign({},this._requestOptions),n);return Gee(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return qee(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new bC(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new $i("Cached content must contain a `name` field.");if(!e.model)throw new $i("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new $i(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new bC(this.apiKey,i,r)}}const Wee=new Dv("AIzaSyDiItOTczdKCepW0lK00uOWPT0_Hnxeil0"),Hee=Wee.getGenerativeModel({model:"gemini-1.5-flash"});async function M4(t){try{console.log("Sending to Gemini:",t);const r=(await(await Hee.generateContent(t)).response).text();return console.log("Received from Gemini:",r),r}catch(e){return console.error("Error:",e),"I'm having trouble right now. Please try again."}}const Kee=[{icon:c.jsx(bO,{className:"h-3 w-3"}),text:"Help me understand React hooks",category:"Development"},{icon:c.jsx(CO,{className:"h-3 w-3"}),text:"Explain blockchain technology",category:"Technology"},{icon:c.jsx(Rs,{className:"h-3 w-3"}),text:"What are design patterns?",category:"Concepts"},{icon:c.jsx(Ib,{className:"h-3 w-3"}),text:"How to improve code quality?",category:"Best Practices"}],Qee=[{icon:c.jsx(Zo,{className:"h-5 w-5"}),title:"Learning Concepts",description:"Clear explanations of complex topics"},{icon:c.jsx(bO,{className:"h-5 w-5"}),title:"Code Help",description:"Debug and improve your code"},{icon:c.jsx(Rs,{className:"h-5 w-5"}),title:"Problem Solving",description:"Step-by-step solution guidance"},{icon:c.jsx(CO,{className:"h-5 w-5"}),title:"Best Practices",description:"Industry-standard recommendations"}];function L4({className:t,position:e="bottom-right"}){const[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,a]=g.useState([{role:"assistant",content:" Hi! I'm Chitti, your AI learning assistant powered by Gemini.",timestamp:new Date}]),[l,u]=g.useState(""),[d,p]=g.useState(!1),f=g.useRef(null);g.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[o]);const m=_=>{if(_.startsWith("")||_.startsWith("")||_.startsWith(""))return _;const C=S=>{let I=S;return I=I.replace(/^([^:]+):/g,"**$1**:"),I=I.replace(/\(([^)]+)\)/g,"(**$1**)"),["Creational Patterns","Structural Patterns","Behavioral Patterns","Singleton","Factory Method","Abstract Factory","Adapter","Decorator","Facade","Observer","Strategy","Command"].forEach(N=>{const j=new RegExp(`\\b${N}\\b(?![^<]*>)`,"g");I=I.replace(j,`**${N}**`)}),I=I.replace(/\*{4}/g,"**"),I=I.replace(/\*\*\s*\*\*/g,"**"),I},O=_.split(`
`);let M=1,P=!1;return O.map(S=>{const I=S.trim();if(!I)return P=!1,"";if(I.includes("patterns are usually categorized")||I.startsWith("These patterns")||I.startsWith("It's important"))return P=!1,`
${I}`;let A=I.replace(/^[\d.)\]]+\s*/,"").trim();return A=C(A),A.includes("**")||P?(P=!0,`${M++}. ${A}`):A}).join(`
`).replace(/\n{3,}/g,`

`)},y=async _=>{if(!_.trim()||d)return;const C={role:"user",content:_.trim(),timestamp:new Date};a(O=>[...O,C]),u(""),p(!0);try{const M=await M4(_.trim(),"Please provide your responses in plain text with numbered points. Use colons to separate concepts from their explanations. Don't use any special formatting or markdown."),P={role:"assistant",content:m(M),timestamp:new Date};a(S=>[...S,P])}catch(O){console.error("Error:",O),a(M=>[...M,{role:"assistant",content:" Sorry, I encountered an error. Please try again.",timestamp:new Date}])}finally{p(!1)}},w=_=>{_.preventDefault(),y(l)},E=()=>{a([{role:"assistant",content:" Chat cleared. How can I help you?",timestamp:new Date}])},x={"top-right":"top-4 right-4","bottom-right":"bottom-4 right-4"},b=_=>_.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return c.jsxs(c.Fragment,{children:[c.jsx(ku,{children:c.jsxs(gf,{children:[c.jsx(vf,{asChild:!0,children:c.jsx(ee,{onClick:()=>r(!0),className:se("fixed h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-primary to-primary/80 hover:scale-110",x[e],t),size:"icon",children:c.jsx(gs,{className:"h-7 w-7 text-primary-foreground"})})}),c.jsx(Ou,{children:c.jsx("p",{children:"Chat with Chitti AI"})})]})}),c.jsx(Jm,{open:n,onOpenChange:r,children:c.jsxs(Yd,{className:se("flex flex-col gap-0 p-0 rounded-xl transition-all duration-300",s?"w-screen h-screen max-w-none !max-h-none rounded-none":"sm:max-w-[500px] h-[700px]"),children:[c.jsx(Xm,{className:"p-6 pb-4 border-b bg-gradient-to-r from-primary/10 to-primary/5",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary to-primary/50 rounded-full blur opacity-75"}),c.jsx(gs,{className:"h-8 w-8 text-primary-foreground relative"})]}),c.jsxs("div",{children:[c.jsxs(Zm,{className:"flex items-center gap-2 text-xl",children:["Chitti AI",c.jsxs(Fi,{variant:"secondary",className:"ml-2 bg-primary/10",children:[c.jsx(AO,{className:"h-3 w-3 mr-1 text-primary"}),"Gemini"]})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your intelligent learning companion"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ku,{children:c.jsxs(gf,{children:[c.jsx(vf,{asChild:!0,children:c.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10",onClick:E,children:c.jsx(J8,{className:"h-4 w-4"})})}),c.jsx(Ou,{children:c.jsx("p",{children:"Clear chat"})})]})}),c.jsx(ku,{children:c.jsxs(gf,{children:[c.jsx(vf,{asChild:!0,children:c.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10",onClick:()=>i(!s),children:s?c.jsx(uG,{className:"h-4 w-4"}):c.jsx(oG,{className:"h-4 w-4"})})}),c.jsx(Ou,{children:c.jsx("p",{children:s?"Minimize":"Maximize"})})]})}),c.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10",onClick:()=>{r(!1),i(!1)},children:c.jsx(qg,{className:"h-4 w-4"})})]})]})}),o.length===1&&c.jsxs("div",{className:"p-6 border-b bg-gradient-to-r from-primary/5 to-transparent",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"I can help you with:"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:Qee.map((_,C)=>c.jsx(Pe,{className:"p-4 hover:bg-primary/5 transition-colors cursor-pointer",onClick:()=>y(`Tell me about ${_.title}`),children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"text-primary",children:_.icon}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:_.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]})]})},C))})]}),c.jsx(R4,{className:"flex-1 p-6",ref:f,children:c.jsxs("div",{className:"space-y-6",children:[o.map((_,C)=>c.jsxs("div",{className:se("flex flex-col gap-2",_.role==="user"?"items-end":"items-start"),children:[c.jsxs("div",{className:se("flex items-start gap-3 max-w-[85%] group",_.role==="user"?"flex-row-reverse":"flex-row"),children:[c.jsx("div",{className:se("h-9 w-9 rounded-full flex items-center justify-center",_.role==="user"?"bg-gradient-to-r from-primary to-primary/80":"bg-gradient-to-r from-secondary to-secondary/80"),children:_.role==="user"?c.jsx(aG,{className:"h-5 w-5 text-primary-foreground"}):c.jsx(gs,{className:"h-5 w-5"})}),c.jsx("div",{className:se("rounded-2xl px-4 py-2.5 text-sm leading-relaxed whitespace-pre-wrap",_.role==="user"?"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground":"bg-secondary"),children:_.content})]}),c.jsx("span",{className:"text-xs text-muted-foreground px-12",children:b(_.timestamp)})]},C)),d&&c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-secondary to-secondary/80 flex items-center justify-center",children:c.jsx(gs,{className:"h-5 w-5"})}),c.jsx("div",{className:"bg-secondary rounded-2xl px-4 py-2.5 text-sm",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fG,{className:"h-4 w-4 animate-spin"}),"Thinking..."]})})]})]})}),o.length===1&&c.jsxs("div",{className:"px-6 py-4 border-t bg-gradient-to-r from-primary/5 to-transparent",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Quick questions:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Kee.map((_,C)=>c.jsxs(ee,{variant:"outline",className:"text-sm bg-background hover:bg-primary/5",onClick:()=>y(_.text),children:[_.icon,c.jsx("span",{className:"ml-2",children:_.text}),c.jsx(Fi,{variant:"secondary",className:"ml-2 bg-primary/10",children:_.category})]},C))})]}),c.jsxs("form",{onSubmit:w,className:se("border-t p-4 flex gap-2 items-center bg-gradient-to-r from-primary/5 to-transparent",s&&"px-6"),children:[c.jsx(Ft,{placeholder:"Ask me anything...",value:l,onChange:_=>u(_.target.value),className:"flex-1 bg-background border-primary/20 focus-visible:ring-primary/20"}),c.jsx(ku,{children:c.jsxs(gf,{children:[c.jsx(vf,{asChild:!0,children:c.jsx(ee,{type:"submit",size:"icon",disabled:d,className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",children:c.jsx(Sb,{className:"h-4 w-4 text-primary-foreground"})})}),c.jsx(Ou,{children:c.jsx("p",{children:"Send message"})})]})})]})]})})]})}const Yee=[{id:1,title:"Web Development Fundamentals",description:"Learn the basics of web development, including HTML, CSS, and JavaScript.",progress:0,image:"https://images.unsplash.com/photo-1547658719-da2b51169166?auto=format&fit=crop&w=800&q=80",path:"/courses/web-development",chapters:4,duration:"8 hours",xp:2600},{id:2,title:"Data Structures and Algorithms",description:"Master the fundamental data structures and algorithms.",progress:0,image:"https://images.unsplash.com/photo-1516116216624-53e697fedbea?auto=format&fit=crop&w=800&q=80",path:"/courses/data-structures-and-algorithms",chapters:4,duration:"10 hours",xp:2600},{id:3,title:"Machine Learning Basics",description:"Introduction to machine learning concepts and algorithms.",progress:0,image:"https://images.unsplash.com/photo-1527430253228-e93688616381?auto=format&fit=crop&w=800&q=80",path:"/courses/machine-learning-basics",chapters:4,duration:"12 hours",xp:2600},{id:4,title:"System Design",description:"Learn how to design scalable systems and architectures.",progress:0,image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=800&q=80",path:"/courses/system-design",chapters:4,duration:"10 hours",xp:2600}];function Jee({course:t,className:e}){const n=ht(),r=()=>{n(t.path)};return c.jsx(Sh,{theme:"teal",className:se("group h-full cursor-pointer transition-all hover:scale-[1.02]",e),onClick:r,children:c.jsxs("div",{className:"flex h-full flex-col gap-4",children:[c.jsxs("div",{className:"relative h-48 overflow-hidden rounded-lg",children:[c.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),t.progress>0&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#1E1E1E]",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-[#2DD4BF] to-[#14B8A6]",style:{width:`${t.progress}%`}})})]}),c.jsxs("div",{className:"flex flex-1 flex-col gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:t.title}),c.jsx("p",{className:"text-sm text-[#B3B3B3]",children:t.description})]}),c.jsxs("div",{className:"mt-auto flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1 text-sm text-[#B3B3B3]",children:[c.jsx(Zo,{className:"h-4 w-4"}),c.jsxs("span",{children:[t.chapters," chapters"]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-[#B3B3B3]",children:[c.jsx(zg,{className:"h-4 w-4"}),c.jsx("span",{children:t.duration})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-1 rounded-full bg-[#2DD4BF]/20 px-2 py-1 text-sm text-[#2DD4BF]",children:[c.jsx(Ib,{className:"h-4 w-4"}),c.jsxs("span",{children:["+",t.xp," XP"]})]})]})]})]})})}function Xee(){const t=ht(),{user:e}=sr(),n=0,r=0,s=0,i=0,o=100,a=()=>{t("/courses")};return c.jsxs("div",{className:"container space-y-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:["Welcome back, ",e==null?void 0:e.displayName,"!"]}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Track your progress and keep learning"})]}),c.jsx(L4,{position:"top-right",className:"relative h-10 w-10 top-0 right-0"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsx(kf,{title:"Total XP",value:n,subtitle:"Experience Points",icon:Ot,theme:"green"}),c.jsx(kf,{title:"Daily Streak",value:s,subtitle:"Days",icon:pl,theme:"orange"}),c.jsx(kf,{title:"Courses Completed",value:i,subtitle:"Courses",icon:PO,theme:"purple"}),c.jsx(kf,{title:"Daily Goal",value:`${Math.min(n,o)}/${o}`,subtitle:"XP Today",icon:Gg,theme:"blue"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Learning Tools"}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Choose your learning method"})]}),c.jsx(ZZ,{})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsx(KZ,{currentXP:n,requiredXP:1e3,level:r,className:"w-full"}),c.jsx(nee,{})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsx(QZ,{challenges:[{title:"Complete Python Basics",description:"Finish Chapter 1 of Python course",xpReward:200,progress:75,timeLeft:"2 hours left"},{title:"Daily Quiz Challenge",description:"Score 80% or higher on today's quiz",xpReward:150,completed:!0},{title:"Practice Problems",description:"Complete 5 practice problems",xpReward:300}],completedCount:3,totalCount:5,className:"w-full"}),c.jsx(YZ,{currentStreak:s,longestStreak:s,weekActivity:[{day:"Mon",active:!1},{day:"Tue",active:!1},{day:"Wed",active:!0},{day:"Thu",active:!0},{day:"Fri",active:!0},{day:"Sat",active:!1},{day:"Sun",active:!0}],className:"w-full"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Featured Courses"}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Continue learning with these recommended courses"})]}),c.jsx(Fi,{variant:"outline",className:"cursor-pointer hover:bg-[#2DD4BF]/10",onClick:a,children:"View All"})]}),c.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:Yee.map(l=>c.jsx(Jee,{course:l},l.id))})]})]})}const ou=Array(50).fill(null).map((t,e)=>({id:e<fr.length?fr[e].id:`user-${e+1}`,name:e<fr.length?fr[e].name:`Player ${e+1} with a very long name that should scroll horizontally`,xp:e<fr.length?fr[e].xp:Math.floor(2e4-e*300),avatar:e<fr.length?fr[e].avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`}));function Zee(){const t=ht(),e=n=>{switch(n){case 1:return"bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 text-yellow-400";case 2:return"bg-gradient-to-r from-gray-300/20 to-gray-400/20 text-gray-300";case 3:return"bg-gradient-to-r from-amber-600/20 to-amber-700/20 text-amber-600";default:return"bg-[#252525]/40 text-[#B3B3B3]"}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0F0F0F] to-[#151515] text-white",children:c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-[#B3B3B3] hover:text-white transition-colors mb-4",children:[c.jsx(U8,{className:"w-5 h-5"}),"Back"]}),c.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboard"}),c.jsx("p",{className:"text-[#B3B3B3] mt-2",children:"View all top performers"})]}),c.jsxs("div",{className:"mb-8 p-6 rounded-xl border border-white/5 bg-[#252525]/40",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick View"}),c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl border border-white/5 bg-[#252525]/40",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl font-semibold shrink-0 bg-yellow-400/20 text-yellow-400",children:"1"}),c.jsx("img",{src:ou[0].avatar,alt:ou[0].name,className:"h-10 w-10 rounded-xl bg-[#252525]/40 shrink-0"}),c.jsx("div",{className:"flex-1 overflow-x-auto min-w-0 scrollbar-thin scrollbar-thumb-purple-500/20 scrollbar-track-transparent",children:c.jsx("div",{className:"flex gap-4 min-w-max px-2",children:ou.map(n=>c.jsx("span",{className:"font-medium text-white whitespace-nowrap",children:n.name},n.id))})}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-4",children:[c.jsx(Ot,{className:"h-5 w-5 text-yellow-400"}),c.jsxs("span",{className:"text-yellow-400 whitespace-nowrap font-semibold",children:[ou[0].xp.toLocaleString()," XP"]})]})]})]}),c.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:ou.map((n,r)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/5 hover:border-purple-500/30 bg-[#252525]/40 hover:bg-[#252525] transition-all",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[c.jsx("div",{className:se("flex h-10 w-10 items-center justify-center rounded-xl font-semibold shrink-0",e(r+1)),children:r+1}),c.jsx("img",{src:n.avatar,alt:n.name,className:"h-10 w-10 rounded-xl bg-[#252525]/40 shrink-0"}),c.jsx("div",{className:"overflow-x-auto min-w-0",children:c.jsx("span",{className:"font-medium text-white whitespace-nowrap",children:n.name})})]}),c.jsx("div",{className:"flex items-center gap-2 shrink-0 ml-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{className:"h-5 w-5 text-[#B3B3B3]"}),c.jsxs("span",{className:"text-[#B3B3B3] whitespace-nowrap",children:[n.xp.toLocaleString()," XP"]})]})})]},n.id))})]})})}const ete={learningStreak:[2,4,3,5,4,6,4],topicPerformance:[{topic:"JavaScript",score:85,total:100},{topic:"React",score:92,total:100},{topic:"TypeScript",score:78,total:100},{topic:"Node.js",score:88,total:100}],weeklyActivity:[{day:"Mon",hours:2.5},{day:"Tue",hours:1.8},{day:"Wed",hours:3.2},{day:"Thu",hours:2},{day:"Fri",hours:2.7},{day:"Sat",hours:4.1},{day:"Sun",hours:3.5}],strengthAreas:[{topic:"Problem Solving",percentage:92},{topic:"Code Quality",percentage:88},{topic:"Debugging",percentage:85},{topic:"Testing",percentage:78}],recentScores:[{quiz:"JavaScript Basics",score:95,date:"2025-01-10"},{quiz:"React Hooks",score:88,date:"2025-01-09"},{quiz:"TypeScript Types",score:92,date:"2025-01-08"},{quiz:"Node.js Fundamentals",score:85,date:"2025-01-07"}]};function tte(){var i,o,a,l,u,d,p,f,m,y,w,E,x,b,_,C,O;const[t,e]=g.useState(null),[n,r]=g.useState(!0);if(g.useEffect(()=>{(async()=>{try{const P=da.currentUser;if(!P)return;const S=await wL(P.uid);S&&!S.analysis&&(S.analysis=ete),e(S)}catch(P){console.error("Error loading profile:",P)}finally{r(!1)}})()},[]),n)return c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."});if(!t)return c.jsx("div",{className:"text-center p-8",children:"Profile not found"});const s=M=>c.jsx("div",{className:"w-full bg-[#2a324b]/40 rounded-2xl h-2",children:c.jsx("div",{className:"bg-emerald-400/80 h-2 rounded-2xl transition-all duration-300",style:{width:`${M}%`}})});return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx(Pe,{className:"p-6 mb-6 bg-[#0B1120] border-0 shadow-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Wg,{className:"w-24 h-24",children:t.profileImage?c.jsx(Hg,{src:t.profileImage,alt:t.name}):c.jsx(Kg,{children:t.name.slice(0,2).toUpperCase()})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:t.name}),c.jsx("p",{className:"text-emerald-400/80",children:t.role}),t.bio&&c.jsx("p",{className:"mt-2 text-gray-400",children:t.bio})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg group hover:bg-[#0d1328] transition-all duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Stats"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover:bg-[#232937] transition-colors duration-300",children:c.jsx(Ot,{className:"text-yellow-500/90 h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Level"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:t.level})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover:bg-[#232937] transition-colors duration-300",children:c.jsx(Zo,{className:"text-blue-400/90 h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Courses"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:((i=t.stats)==null?void 0:i.coursesCompleted)||0})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover:bg-[#232937] transition-colors duration-300",children:c.jsx(Rs,{className:"text-purple-400/90 h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Quizzes"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:((o=t.stats)==null?void 0:o.quizzesTaken)||0})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover:bg-[#232937] transition-colors duration-300",children:c.jsx(pl,{className:"text-orange-400/90 h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Streak"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:((a=t.stats)==null?void 0:a.streak)||0})]})]})]})]}),c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg group hover:bg-[#0d1328] transition-all duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Connect"}),c.jsxs("div",{className:"space-y-3",children:[((l=t.socials)==null?void 0:l.github)&&c.jsxs("a",{href:t.socials.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group/link",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover/link:bg-[#232937] transition-colors duration-300",children:c.jsx(EO,{className:"h-5 w-5"})}),"GitHub"]}),((u=t.socials)==null?void 0:u.linkedin)&&c.jsxs("a",{href:t.socials.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group/link",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover/link:bg-[#232937] transition-colors duration-300",children:c.jsx(SO,{className:"h-5 w-5 text-blue-400/90"})}),"LinkedIn"]}),((d=t.socials)==null?void 0:d.instagram)&&c.jsxs("a",{href:t.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group/link",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover/link:bg-[#232937] transition-colors duration-300",children:c.jsx(Z8,{className:"h-5 w-5 text-pink-400/90"})}),"Instagram"]}),((p=t.socials)==null?void 0:p.twitter)&&c.jsxs("a",{href:t.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group/link",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover/link:bg-[#232937] transition-colors duration-300",children:c.jsx(xG,{className:"h-5 w-5 text-blue-400/90"})}),"Twitter"]}),!((f=t.socials)!=null&&f.github)&&!((m=t.socials)!=null&&m.linkedin)&&!((y=t.socials)!=null&&y.instagram)&&!((w=t.socials)!=null&&w.twitter)&&c.jsx("p",{className:"text-gray-500",children:"No social links added yet"})]})]}),c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg lg:col-span-3",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6 text-white",children:"Learning Analysis"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-white flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432]",children:c.jsx(RO,{className:"text-emerald-400/90 h-5 w-5"})}),"Topic Performance"]}),c.jsx("div",{className:"space-y-4",children:(E=t.analysis)==null?void 0:E.topicPerformance.map((M,P)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-gray-400",children:M.topic}),c.jsxs("span",{className:"text-emerald-400/90",children:[M.score,"%"]})]}),s(M.score/M.total*100)]},P))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-white flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432]",children:c.jsx(zg,{className:"text-emerald-400/90 h-5 w-5"})}),"Weekly Activity"]}),c.jsx("div",{className:"flex items-end justify-between h-40",children:(x=t.analysis)==null?void 0:x.weeklyActivity.map((M,P)=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-8 bg-emerald-400/20 rounded-t-2xl",style:{height:`${M.hours*20}px`}}),c.jsx("span",{className:"text-gray-400 text-sm mt-2",children:M.day})]},P))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-white flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432]",children:c.jsx(Gg,{className:"text-emerald-400/90 h-5 w-5"})}),"Strength Areas"]}),c.jsx("div",{className:"space-y-4",children:(b=t.analysis)==null?void 0:b.strengthAreas.map((M,P)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-gray-400",children:M.topic}),c.jsxs("span",{className:"text-emerald-400/90",children:[M.percentage,"%"]})]}),s(M.percentage)]},P))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-white flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432]",children:c.jsx(B8,{className:"text-emerald-400/90 h-5 w-5"})}),"Recent Quiz Scores"]}),c.jsx("div",{className:"space-y-3",children:(_=t.analysis)==null?void 0:_.recentScores.map((M,P)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#0d1328] rounded-2xl",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white",children:M.quiz}),c.jsx("p",{className:"text-sm text-gray-400",children:new Date(M.date).toLocaleDateString()})]}),c.jsxs("div",{className:"text-xl font-bold text-emerald-400/90",children:[M.score,"%"]})]},P))})]})]})]}),c.jsx(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg lg:col-span-3",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Interests"}),c.jsx("p",{className:"text-gray-400",children:t.interests||"No interests added yet"})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Learning Goals"}),c.jsx("p",{className:"text-gray-400",children:t.goals||"No goals added yet"})]})]})}),c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg lg:col-span-2",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Recent Activity"}),c.jsx("div",{className:"space-y-4",children:(C=t.recentActivity)==null?void 0:C.map((M,P)=>c.jsxs("div",{className:"flex items-center gap-4 p-3 bg-[#0d1328] rounded-2xl",children:[c.jsxs("div",{className:"p-2.5 rounded-xl bg-[#0d1328] group-hover:bg-[#111a35]",children:[M.type==="quiz"&&c.jsx(Rs,{className:"text-purple-400/90 h-5 w-5"}),M.type==="course"&&c.jsx(Zo,{className:"text-blue-400/90 h-5 w-5"}),M.type==="achievement"&&c.jsx(Ot,{className:"text-yellow-500/90 h-5 w-5"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white",children:M.description}),c.jsx("p",{className:"text-sm text-gray-400",children:new Date(M.date).toLocaleDateString()})]})]},P))})]}),c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Achievements"}),c.jsx("div",{className:"space-y-4",children:(O=t.achievements)==null?void 0:O.map((M,P)=>c.jsxs("div",{className:"flex items-center gap-4 p-3 bg-[#0d1328] rounded-2xl",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#0d1328] group-hover:bg-[#111a35]",children:c.jsx(PO,{className:"text-yellow-500/90 h-5 w-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white",children:M.title}),c.jsx("p",{className:"text-sm text-gray-400",children:M.description})]})]},P))})]})]})]})}const c0=({isResponding:t=!1})=>c.jsxs("div",{className:`relative w-10 h-10 ${t?"animate-pulse":""}`,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full opacity-20"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-700 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-lg font-bold",children:"C"})})})]}),nte=()=>{const[t,e]=g.useState([{id:"welcome",text:"Hi! I'm Chitti AI Assistant. I can help you create quizzes and learn new things. What would you like to learn about?",sender:"chitty",timestamp:new Date}]),[n,r]=g.useState(""),[s,i]=g.useState(!1),{toast:o}=Gn(),a=async()=>{if(!n.trim()||s)return;const u={id:Date.now().toString(),text:n.trim(),sender:"user",timestamp:new Date};try{e(f=>[...f,u]),r(""),i(!0);const d=await M4(u.text),p={id:(Date.now()+1).toString(),text:d,sender:"chitty",timestamp:new Date};e(f=>[...f,p])}catch(d){console.error("Error getting AI response:",d),o({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"})}finally{i(!1)}},l=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),a())};return c.jsx("div",{className:"container mx-auto p-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h1",{className:"text-3xl font-bold text-white",children:"Chitti AI Assistant"}),c.jsx("p",{className:"text-gray-400",children:"Your personal AI assistant for quiz creation and learning"})]}),c.jsxs(Pe,{className:"bg-gradient-to-br from-gray-900 to-black border-blue-500/20",children:[c.jsx(Av,{className:"border-b border-blue-500/20 bg-gradient-to-r from-blue-600/10 to-blue-800/10",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(c0,{isResponding:s}),c.jsx(Rv,{className:"text-xl bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Chat with Chitti AI Assistant"})]})}),c.jsxs(Nv,{className:"p-0",children:[c.jsxs("div",{className:"h-[400px] overflow-y-auto p-4 space-y-4",children:[t.length===0?c.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[c.jsx(Zo,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{children:"Start chatting with Chitti AI Assistant to create your quiz!"})]}):t.map(u=>c.jsxs("div",{className:`flex ${u.sender==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[u.sender==="chitty"&&c.jsx(c0,{}),c.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${u.sender==="user"?"bg-blue-600 text-white":"bg-blue-600/20 text-white"}`,children:u.text})]},u.id)),s&&c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(c0,{isResponding:!0}),c.jsx("div",{className:"bg-blue-600/20 rounded-2xl px-4 py-2",children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]}),c.jsx("div",{className:"p-4 border-t border-blue-500/20 bg-gradient-to-t from-blue-900/20 to-transparent",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ee,{variant:"ghost",size:"icon",className:"text-blue-400 hover:text-blue-300 hover:bg-blue-500/20",disabled:s,children:c.jsx(cG,{className:"w-5 h-5"})}),c.jsx(Ft,{value:n,onChange:u=>r(u.target.value),onKeyDown:l,placeholder:"Ask Chitti AI Assistant to help you create a quiz...",className:"bg-blue-900/20 border-blue-500/30 text-white placeholder-blue-300/50 focus-visible:ring-1 focus-visible:ring-blue-500",disabled:s}),c.jsx(ee,{onClick:a,className:"bg-gradient-to-r from-blue-500 to-blue-700 text-white hover:from-blue-600 hover:to-blue-800",disabled:s||!n.trim(),children:c.jsx(Sb,{className:"w-5 h-5"})})]})})]})]})]})})},rte=g.forwardRef(({children:t,className:e="",spotlightColor:n="rgba(29, 185, 84, 0.25)",style:r,...s},i)=>{const o=g.useRef(null),[a,l]=g.useState(!1),[u,d]=g.useState({x:0,y:0}),[p,f]=g.useState(0),m=b=>{if(!o.current||a)return;const _=o.current.getBoundingClientRect();d({x:b.clientX-_.left,y:b.clientY-_.top})},y=()=>{l(!0),f(.6)},w=()=>{l(!1),f(0)},E=()=>{f(.6)},x=()=>{f(0)};return c.jsxs("div",{ref:i,onMouseMove:m,onFocus:y,onBlur:w,onMouseEnter:E,onMouseLeave:x,className:se("group relative overflow-hidden rounded-xl border bg-card p-6 transition-colors hover:bg-muted/50",e),style:{...r,"--spotlight-color":n,"--spotlight-x":`${u.x}px`,"--spotlight-y":`${u.y}px`,"--spotlight-opacity":p},...s,children:[c.jsx("div",{className:"pointer-events-none absolute inset-0 transition-opacity duration-300",style:{background:"radial-gradient(600px circle at var(--spotlight-x) var(--spotlight-y), var(--spotlight-color), transparent 40%)",opacity:"var(--spotlight-opacity)"}}),c.jsx("div",{className:"relative z-10",children:t}),c.jsx("div",{className:"absolute inset-0 rounded-xl transition-opacity duration-500 group-hover:opacity-100 opacity-0",style:{boxShadow:"inset 0 0 0 1px rgba(255, 255, 255, 0.1)"}})]})});var V4="https://js.stripe.com/v3",ste=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,EC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ite=function(){for(var e=document.querySelectorAll('script[src^="'.concat(V4,'"]')),n=0;n<e.length;n++){var r=e[n];if(ste.test(r.src))return r}return null},TC=function(e){var n="",r=document.createElement("script");r.src="".concat(V4).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},ote=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.5.0",startTime:n})},au=null,Of=null,Df=null,ate=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},lte=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},cte=function(e){return au!==null?au:(au=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(EC),window.Stripe){n(window.Stripe);return}try{var s=ite();if(s&&e)console.warn(EC);else if(!s)s=TC(e);else if(s&&Df!==null&&Of!==null){var i;s.removeEventListener("load",Df),s.removeEventListener("error",Of),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=TC(e)}Df=lte(n,r),Of=ate(r),s.addEventListener("load",Df),s.addEventListener("error",Of)}catch(o){r(o);return}}),au.catch(function(n){return au=null,Promise.reject(n)}))},ute=function(e,n,r){if(e===null)return null;var s=e.apply(void 0,n);return ote(s,r),s},lu,F4=!1,$4=function(){return lu||(lu=cte(null).catch(function(e){return lu=null,Promise.reject(e)}),lu)};Promise.resolve().then(function(){return $4()}).catch(function(t){F4||console.warn(t)});var dte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];F4=!0;var s=Date.now();return $4().then(function(i){return ute(i,n,s)})};const hte=dte("your_publishable_key_here"),fte=[{id:"price_basic",name:"Basic",price:"$0",priceId:"free_tier",description:"Perfect for getting started",features:["5 quizzes per month","Basic analytics","Community support"],icon:Y8,popular:!1},{id:"price_premium",name:"Premium",price:"$15",priceId:void 0,description:"Great for regular learners",features:["Unlimited quizzes","Detailed analytics","Priority support","Ad-free experience"],icon:Tl,popular:!0},{id:"price_pro",name:"Pro",price:"$30",priceId:void 0,description:"For professional educators",features:["Everything in Premium","Custom branding","API access","Team collaboration","Advanced analytics"],icon:Kl,popular:!1}],pte=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(null),{toast:s}=Gn(),{user:i}=sr(),o=async a=>{if(!i){s({title:"Login Required",description:"Please login to subscribe to a plan.",variant:"destructive"});return}try{if(r(a.id),a.priceId==="free_tier"){s({title:"Free Plan Selected",description:"You're now on the Basic plan. Enjoy!"}),e(a.name);return}if(!a.priceId)throw new Error("Invalid price ID");const l=await fetch("/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await i.getIdToken()}`},body:JSON.stringify({priceId:a.priceId,planName:a.name,email:i.email})});if(!l.ok){const f=await l.text();throw new Error(f||"Network response was not ok")}const{sessionId:u}=await l.json(),d=await hte;if(!d)throw new Error("Stripe failed to load");const{error:p}=await d.redirectToCheckout({sessionId:u});if(p)throw p}catch(l){console.error("Error:",l),s({title:"Error",description:l instanceof Error?l.message:"Something went wrong. Please try again later.",variant:"destructive"})}finally{r(null)}};return c.jsxs("div",{className:"container py-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Select the perfect plan for your learning journey. All plans include access to our core features."})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:fte.map(a=>c.jsxs(rte,{className:a.popular?"border-primary":"",children:[c.jsxs(Av,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(a.icon,{className:"h-8 w-8 text-primary"}),a.popular&&c.jsx("span",{className:"px-3 py-1 text-xs font-semibold bg-primary/10 text-primary rounded-full",children:"Most Popular"})]}),c.jsx(Rv,{className:"text-2xl font-bold mt-4",children:a.name}),c.jsxs("div",{className:"mt-2",children:[c.jsx("span",{className:"text-3xl font-bold",children:a.price}),a.price!=="$0"&&c.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),c.jsx("p",{className:"text-muted-foreground mt-2",children:a.description})]}),c.jsx(Nv,{className:"mt-4",children:c.jsx("ul",{className:"space-y-3",children:a.features.map((l,u)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(xc,{className:"h-4 w-4 text-primary"}),c.jsx("span",{children:l})]},u))})}),c.jsx(zL,{children:c.jsx(ee,{className:"w-full",variant:a.popular?"default":"outline",onClick:()=>o(a),disabled:n===a.id||t===a.name,children:n===a.id?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),"Processing..."]}):t===a.name?"Current Plan":"Subscribe"})})]},a.id))})]})};class Qn{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,n,r,s,i,o,a,l){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const e=new TypeError(Qn.TIMEOUT_ERROR_CODE);return e.code=Qn.TIMEOUT_ERROR_CODE,e}}Qn.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];Qn.TIMEOUT_ERROR_CODE="ETIMEDOUT";class U4{constructor(e,n){this._statusCode=e,this._headers=n}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}class ng extends Qn{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=ng.makeFetchWithAbortTimeout(e):this._fetchFn=ng.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(n,r,s)=>{let i;const o=new Promise((l,u)=>{i=setTimeout(()=>{i=null,u(Qn.makeTimeoutError())},s)}),a=e(n,r);return Promise.race([a,o]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(e){return async(n,r,s)=>{const i=new AbortController;let o=setTimeout(()=>{o=null,i.abort(Qn.makeTimeoutError())},s);try{return await e(n,Object.assign(Object.assign({},r),{signal:i.signal}))}catch(a){throw a.name==="AbortError"?Qn.makeTimeoutError():a}finally{o&&clearTimeout(o)}}}getClientName(){return"fetch"}async makeRequest(e,n,r,s,i,o,a,l){const u=a==="http",d=new URL(r,`${u?"http":"https"}://${e}`);d.port=n;const p=s=="POST"||s=="PUT"||s=="PATCH",f=o||(p?"":void 0),m=await this._fetchFn(d.toString(),{method:s,headers:i,body:f},l);return new tE(m)}}class tE extends U4{constructor(e){super(e.status,tE._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){const n={};for(const r of e){if(!Array.isArray(r)||r.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");n[r[0]]=r[1]}return n}}class B4{computeHMACSignature(e,n){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,n){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}}class z4 extends Error{}class mte extends B4{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,n){throw new z4("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,n){const r=new TextEncoder,s=await this.subtleCrypto.importKey("raw",r.encode(n),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",s,r.encode(e)),o=new Uint8Array(i),a=new Array(o.length);for(let l=0;l<o.length;l++)a[l]=$w[o[l]];return a.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}const $w=new Array(256);for(let t=0;t<$w.length;t++)$w[t]=t.toString(16).padStart(2,"0");class gte{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}secureCompare(e,n){if(e.length!==n.length)return!1;const r=e.length;let s=0;for(let i=0;i<r;++i)s|=e.charCodeAt(i)^n.charCodeAt(i);return s===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new ng(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new mte(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}}class vte extends Event{constructor(e,n){super(e),this.data=n}}class yte{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,n){const r=s=>{n(s.data)};return this.listenerMapping.set(n,r),this.eventTarget.addEventListener(e,r)}removeListener(e,n){const r=this.listenerMapping.get(n);return this.listenerMapping.delete(n),this.eventTarget.removeEventListener(e,r)}once(e,n){const r=s=>{n(s.data)};return this.listenerMapping.set(n,r),this.eventTarget.addEventListener(e,r,{once:!0})}emit(e,n){return this.eventTarget.dispatchEvent(new vte(e,n))}}class xte extends gte{getUname(){return Promise.resolve(null)}createEmitter(){return new yte}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}}const jv=t=>{switch(t.type){case"card_error":return new q4(t);case"invalid_request_error":return new nE(t);case"api_error":return new rE(t);case"authentication_error":return new sE(t);case"rate_limit_error":return new iE(t);case"idempotency_error":return new K4(t);case"invalid_grant":return new Q4(t);default:return new Y4(t)}},G4=t=>{switch(t.type){case"temporary_session_expired":return new J4(t)}switch(t.code){case"invalid_fields":return new nE(t)}return jv(t)};class rn extends Error{constructor(e={},n=null){super(e.message),this.type=n||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}rn.generate=jv;class q4 extends rn{constructor(e={}){super(e,"StripeCardError")}}class nE extends rn{constructor(e={}){super(e,"StripeInvalidRequestError")}}class rE extends rn{constructor(e={}){super(e,"StripeAPIError")}}class sE extends rn{constructor(e={}){super(e,"StripeAuthenticationError")}}class W4 extends rn{constructor(e={}){super(e,"StripePermissionError")}}class iE extends rn{constructor(e={}){super(e,"StripeRateLimitError")}}class H4 extends rn{constructor(e={}){super(e,"StripeConnectionError")}}class ii extends rn{constructor(e,n,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=n}}class K4 extends rn{constructor(e={}){super(e,"StripeIdempotencyError")}}class Q4 extends rn{constructor(e={}){super(e,"StripeInvalidGrantError")}}class Y4 extends rn{constructor(e={}){super(e,"StripeUnknownError")}}class J4 extends rn{constructor(e={}){super(e,"TemporarySessionExpiredError")}}const SC=Object.freeze(Object.defineProperty({__proto__:null,StripeAPIError:rE,StripeAuthenticationError:sE,StripeCardError:q4,StripeConnectionError:H4,StripeError:rn,StripeIdempotencyError:K4,StripeInvalidGrantError:Q4,StripeInvalidRequestError:nE,StripePermissionError:W4,StripeRateLimitError:iE,StripeSignatureVerificationError:ii,StripeUnknownError:Y4,TemporarySessionExpiredError:J4,generateV1Error:jv,generateV2Error:G4},Symbol.toStringTag,{value:"Module"}));var Sc=TypeError;const wte={},_te=Object.freeze(Object.defineProperty({__proto__:null,default:wte},Symbol.toStringTag,{value:"Module"})),bte=bV(_te);var oE=typeof Map=="function"&&Map.prototype,u0=Object.getOwnPropertyDescriptor&&oE?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,rg=oE&&u0&&typeof u0.get=="function"?u0.get:null,PC=oE&&Map.prototype.forEach,aE=typeof Set=="function"&&Set.prototype,d0=Object.getOwnPropertyDescriptor&&aE?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,sg=aE&&d0&&typeof d0.get=="function"?d0.get:null,IC=aE&&Set.prototype.forEach,Ete=typeof WeakMap=="function"&&WeakMap.prototype,ld=Ete?WeakMap.prototype.has:null,Tte=typeof WeakSet=="function"&&WeakSet.prototype,cd=Tte?WeakSet.prototype.has:null,Ste=typeof WeakRef=="function"&&WeakRef.prototype,CC=Ste?WeakRef.prototype.deref:null,Pte=Boolean.prototype.valueOf,Ite=Object.prototype.toString,Cte=Function.prototype.toString,Ate=String.prototype.match,lE=String.prototype.slice,Ti=String.prototype.replace,Rte=String.prototype.toUpperCase,AC=String.prototype.toLowerCase,X4=RegExp.prototype.test,RC=Array.prototype.concat,$r=Array.prototype.join,Nte=Array.prototype.slice,NC=Math.floor,Uw=typeof BigInt=="function"?BigInt.prototype.valueOf:null,h0=Object.getOwnPropertySymbols,Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,cc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===cc||!0)?Symbol.toStringTag:null,Z4=Object.prototype.propertyIsEnumerable,kC=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function OC(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||X4.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-NC(-t):NC(t);if(r!==t){var s=String(r),i=lE.call(e,s.length+1);return Ti.call(s,n,"$&_")+"."+Ti.call(Ti.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ti.call(e,n,"$&_")}var zw=bte,DC=zw.custom,jC=n5(DC)?DC:null,e5={__proto__:null,double:'"',single:"'"},kte={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Mv=function t(e,n,r,s){var i=n||{};if(us(i,"quoteStyle")&&!us(e5,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(us(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=us(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(us(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(us(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return s5(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?OC(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?OC(e,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return Gw(e)?"[Array]":"[Object]";var p=Yte(i,r);if(typeof s>"u")s=[];else if(r5(s,e)>=0)return"[Circular]";function f(k,J,ue){if(J&&(s=Nte.call(s),s.push(J)),ue){var ne={depth:i.depth};return us(i,"quoteStyle")&&(ne.quoteStyle=i.quoteStyle),t(k,ne,r+1,s)}return t(k,i,r+1,s)}if(typeof e=="function"&&!MC(e)){var m=Ute(e),y=jf(e,f);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(y.length>0?" { "+$r.call(y,", ")+" }":"")}if(n5(e)){var w=cc?Ti.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Bw.call(e);return typeof e=="object"&&!cc?cu(w):w}if(Hte(e)){for(var E="<"+AC.call(String(e.nodeName)),x=e.attributes||[],b=0;b<x.length;b++)E+=" "+x[b].name+"="+t5(Ote(x[b].value),"double",i);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+AC.call(String(e.nodeName))+">",E}if(Gw(e)){if(e.length===0)return"[]";var _=jf(e,f);return p&&!Qte(_)?"["+qw(_,p)+"]":"[ "+$r.call(_,", ")+" ]"}if(jte(e)){var C=jf(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Z4.call(e,"cause")?"{ ["+String(e)+"] "+$r.call(RC.call("[cause]: "+f(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$r.call(C,", ")+" }"}if(typeof e=="object"&&o){if(jC&&typeof e[jC]=="function"&&zw)return zw(e,{depth:d-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Bte(e)){var O=[];return PC&&PC.call(e,function(k,J){O.push(f(J,e,!0)+" => "+f(k,e))}),LC("Map",rg.call(e),O,p)}if(qte(e)){var M=[];return IC&&IC.call(e,function(k){M.push(f(k,e))}),LC("Set",sg.call(e),M,p)}if(zte(e))return f0("WeakMap");if(Wte(e))return f0("WeakSet");if(Gte(e))return f0("WeakRef");if(Lte(e))return cu(f(Number(e)));if(Fte(e))return cu(f(Uw.call(e)));if(Vte(e))return cu(Pte.call(e));if(Mte(e))return cu(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof lT<"u"&&e===lT)return"{ [object globalThis] }";if(!Dte(e)&&!MC(e)){var P=jf(e,f),S=kC?kC(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",A=!S&&nn&&Object(e)===e&&nn in e?lE.call(uo(e),8,-1):I?"Object":"",N=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",j=N+(A||I?"["+$r.call(RC.call([],A||[],I||[]),": ")+"] ":"");return P.length===0?j+"{}":p?j+"{"+qw(P,p)+"}":j+"{ "+$r.call(P,", ")+" }"}return String(e)};function t5(t,e,n){var r=n.quoteStyle||e,s=e5[r];return s+t+s}function Ote(t){return Ti.call(String(t),/"/g,"&quot;")}function Gw(t){return uo(t)==="[object Array]"&&(!nn||!(typeof t=="object"&&nn in t))}function Dte(t){return uo(t)==="[object Date]"&&(!nn||!(typeof t=="object"&&nn in t))}function MC(t){return uo(t)==="[object RegExp]"&&(!nn||!(typeof t=="object"&&nn in t))}function jte(t){return uo(t)==="[object Error]"&&(!nn||!(typeof t=="object"&&nn in t))}function Mte(t){return uo(t)==="[object String]"&&(!nn||!(typeof t=="object"&&nn in t))}function Lte(t){return uo(t)==="[object Number]"&&(!nn||!(typeof t=="object"&&nn in t))}function Vte(t){return uo(t)==="[object Boolean]"&&(!nn||!(typeof t=="object"&&nn in t))}function n5(t){if(cc)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Bw)return!1;try{return Bw.call(t),!0}catch{}return!1}function Fte(t){if(!t||typeof t!="object"||!Uw)return!1;try{return Uw.call(t),!0}catch{}return!1}var $te=Object.prototype.hasOwnProperty||function(t){return t in this};function us(t,e){return $te.call(t,e)}function uo(t){return Ite.call(t)}function Ute(t){if(t.name)return t.name;var e=Ate.call(Cte.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function r5(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Bte(t){if(!rg||!t||typeof t!="object")return!1;try{rg.call(t);try{sg.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function zte(t){if(!ld||!t||typeof t!="object")return!1;try{ld.call(t,ld);try{cd.call(t,cd)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Gte(t){if(!CC||!t||typeof t!="object")return!1;try{return CC.call(t),!0}catch{}return!1}function qte(t){if(!sg||!t||typeof t!="object")return!1;try{sg.call(t);try{rg.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Wte(t){if(!cd||!t||typeof t!="object")return!1;try{cd.call(t,cd);try{ld.call(t,ld)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Hte(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function s5(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return s5(lE.call(t,0,e.maxStringLength),e)+r}var s=kte[e.quoteStyle||"single"];s.lastIndex=0;var i=Ti.call(Ti.call(t,s,"\\$1"),/[\x00-\x1f]/g,Kte);return t5(i,"single",e)}function Kte(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+Rte.call(e.toString(16))}function cu(t){return"Object("+t+")"}function f0(t){return t+" { ? }"}function LC(t,e,n,r){var s=r?qw(n,r):$r.call(n,", ");return t+" ("+e+") {"+s+"}"}function Qte(t){for(var e=0;e<t.length;e++)if(r5(t[e],`
`)>=0)return!1;return!0}function Yte(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=$r.call(Array(t.indent+1)," ");else return null;return{base:n,prev:$r.call(Array(e+1),n)}}function qw(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+$r.call(t,","+n)+`
`+e.prev}function jf(t,e){var n=Gw(t),r=[];if(n){r.length=t.length;for(var s=0;s<t.length;s++)r[s]=us(t,s)?e(t[s],t):""}var i=typeof h0=="function"?h0(t):[],o;if(cc){o={};for(var a=0;a<i.length;a++)o["$"+i[a]]=i[a]}for(var l in t)us(t,l)&&(n&&String(Number(l))===l&&l<t.length||cc&&o["$"+l]instanceof Symbol||(X4.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof h0=="function")for(var u=0;u<i.length;u++)Z4.call(t,i[u])&&r.push("["+e(i[u])+"]: "+e(t[i[u]],t));return r}var Jte=Mv,Xte=Sc,Lv=function(t,e,n){for(var r=t,s;(s=r.next)!=null;r=s)if(s.key===e)return r.next=s.next,n||(s.next=t.next,t.next=s),s},Zte=function(t,e){if(t){var n=Lv(t,e);return n&&n.value}},ene=function(t,e,n){var r=Lv(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},tne=function(t,e){return t?!!Lv(t,e):!1},nne=function(t,e){if(t)return Lv(t,e,!0)},rne=function(){var e,n={assert:function(r){if(!n.has(r))throw new Xte("Side channel does not contain "+Jte(r))},delete:function(r){var s=e&&e.next,i=nne(e,r);return i&&s&&s===i&&(e=void 0),!!i},get:function(r){return Zte(e,r)},has:function(r){return tne(e,r)},set:function(r,s){e||(e={next:void 0}),ene(e,r,s)}};return n},i5=Object,sne=Error,ine=EvalError,one=RangeError,ane=ReferenceError,lne=SyntaxError,cne=URIError,une=Math.abs,dne=Math.floor,hne=Math.max,fne=Math.min,pne=Math.pow,mne=Math.round,gne=Number.isNaN||function(e){return e!==e},vne=gne,yne=function(e){return vne(e)||e===0?e:e<0?-1:1},xne=Object.getOwnPropertyDescriptor,$p=xne;if($p)try{$p([],"length")}catch{$p=null}var o5=$p,Up=Object.defineProperty||!1;if(Up)try{Up({},"a",{value:1})}catch{Up=!1}var wne=Up,p0,VC;function _ne(){return VC||(VC=1,p0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[n]=s;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==s||a.enumerable!==!0)return!1}return!0}),p0}var m0,FC;function bne(){if(FC)return m0;FC=1;var t=typeof Symbol<"u"&&Symbol,e=_ne();return m0=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},m0}var g0,$C;function a5(){return $C||($C=1,g0=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),g0}var v0,UC;function l5(){if(UC)return v0;UC=1;var t=i5;return v0=t.getPrototypeOf||null,v0}var y0,BC;function Ene(){if(BC)return y0;BC=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",s=function(l,u){for(var d=[],p=0;p<l.length;p+=1)d[p]=l[p];for(var f=0;f<u.length;f+=1)d[f+l.length]=u[f];return d},i=function(l,u){for(var d=[],p=u,f=0;p<l.length;p+=1,f+=1)d[f]=l[p];return d},o=function(a,l){for(var u="",d=0;d<a.length;d+=1)u+=a[d],d+1<a.length&&(u+=l);return u};return y0=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==r)throw new TypeError(t+u);for(var d=i(arguments,1),p,f=function(){if(this instanceof p){var x=u.apply(this,s(d,arguments));return Object(x)===x?x:this}return u.apply(l,s(d,arguments))},m=n(0,u.length-d.length),y=[],w=0;w<m;w++)y[w]="$"+w;if(p=Function("binder","return function ("+o(y,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var E=function(){};E.prototype=u.prototype,p.prototype=new E,E.prototype=null}return p},y0}var x0,zC;function Vv(){if(zC)return x0;zC=1;var t=Ene();return x0=Function.prototype.bind||t,x0}var w0,GC;function cE(){return GC||(GC=1,w0=Function.prototype.call),w0}var _0,qC;function c5(){return qC||(qC=1,_0=Function.prototype.apply),_0}var Tne=typeof Reflect<"u"&&Reflect&&Reflect.apply,Sne=Vv(),Pne=c5(),Ine=cE(),Cne=Tne,Ane=Cne||Sne.call(Ine,Pne),Rne=Vv(),Nne=Sc,kne=cE(),One=Ane,u5=function(e){if(e.length<1||typeof e[0]!="function")throw new Nne("a function is required");return One(Rne,kne,e)},b0,WC;function Dne(){if(WC)return b0;WC=1;var t=u5,e=o5,n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),s=Object,i=s.getPrototypeOf;return b0=r&&typeof r.get=="function"?t([r.get]):typeof i=="function"?function(a){return i(a==null?a:s(a))}:!1,b0}var E0,HC;function jne(){if(HC)return E0;HC=1;var t=a5(),e=l5(),n=Dne();return E0=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:n?function(s){return n(s)}:null,E0}var T0,KC;function Mne(){if(KC)return T0;KC=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Vv();return T0=n.call(t,e),T0}var Te,Lne=i5,Vne=sne,Fne=ine,$ne=one,Une=ane,uc=lne,Al=Sc,Bne=cne,zne=une,Gne=dne,qne=hne,Wne=fne,Hne=pne,Kne=mne,Qne=yne,d5=Function,S0=function(t){try{return d5('"use strict"; return ('+t+").constructor;")()}catch{}},Zd=o5,Yne=wne,P0=function(){throw new Al},Jne=Zd?function(){try{return arguments.callee,P0}catch{try{return Zd(arguments,"callee").get}catch{return P0}}}():P0,Va=bne()(),At=jne(),Xne=l5(),Zne=a5(),h5=c5(),Ih=cE(),tl={},ere=typeof Uint8Array>"u"||!At?Te:At(Uint8Array),qo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Te:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Te:ArrayBuffer,"%ArrayIteratorPrototype%":Va&&At?At([][Symbol.iterator]()):Te,"%AsyncFromSyncIteratorPrototype%":Te,"%AsyncFunction%":tl,"%AsyncGenerator%":tl,"%AsyncGeneratorFunction%":tl,"%AsyncIteratorPrototype%":tl,"%Atomics%":typeof Atomics>"u"?Te:Atomics,"%BigInt%":typeof BigInt>"u"?Te:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Te:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Te:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Te:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Vne,"%eval%":eval,"%EvalError%":Fne,"%Float32Array%":typeof Float32Array>"u"?Te:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Te:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Te:FinalizationRegistry,"%Function%":d5,"%GeneratorFunction%":tl,"%Int8Array%":typeof Int8Array>"u"?Te:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Te:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Te:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Va&&At?At(At([][Symbol.iterator]())):Te,"%JSON%":typeof JSON=="object"?JSON:Te,"%Map%":typeof Map>"u"?Te:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Va||!At?Te:At(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Lne,"%Object.getOwnPropertyDescriptor%":Zd,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Te:Promise,"%Proxy%":typeof Proxy>"u"?Te:Proxy,"%RangeError%":$ne,"%ReferenceError%":Une,"%Reflect%":typeof Reflect>"u"?Te:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Te:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Va||!At?Te:At(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Te:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Va&&At?At(""[Symbol.iterator]()):Te,"%Symbol%":Va?Symbol:Te,"%SyntaxError%":uc,"%ThrowTypeError%":Jne,"%TypedArray%":ere,"%TypeError%":Al,"%Uint8Array%":typeof Uint8Array>"u"?Te:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Te:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Te:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Te:Uint32Array,"%URIError%":Bne,"%WeakMap%":typeof WeakMap>"u"?Te:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Te:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Te:WeakSet,"%Function.prototype.call%":Ih,"%Function.prototype.apply%":h5,"%Object.defineProperty%":Yne,"%Object.getPrototypeOf%":Xne,"%Math.abs%":zne,"%Math.floor%":Gne,"%Math.max%":qne,"%Math.min%":Wne,"%Math.pow%":Hne,"%Math.round%":Kne,"%Math.sign%":Qne,"%Reflect.getPrototypeOf%":Zne};if(At)try{null.error}catch(t){var tre=At(At(t));qo["%Error.prototype%"]=tre}var nre=function t(e){var n;if(e==="%AsyncFunction%")n=S0("async function () {}");else if(e==="%GeneratorFunction%")n=S0("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=S0("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&At&&(n=At(s.prototype))}return qo[e]=n,n},QC={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ch=Vv(),ig=Mne(),rre=Ch.call(Ih,Array.prototype.concat),sre=Ch.call(h5,Array.prototype.splice),YC=Ch.call(Ih,String.prototype.replace),og=Ch.call(Ih,String.prototype.slice),ire=Ch.call(Ih,RegExp.prototype.exec),ore=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,are=/\\(\\)?/g,lre=function(e){var n=og(e,0,1),r=og(e,-1);if(n==="%"&&r!=="%")throw new uc("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new uc("invalid intrinsic syntax, expected opening `%`");var s=[];return YC(e,ore,function(i,o,a,l){s[s.length]=a?YC(l,are,"$1"):o||i}),s},cre=function(e,n){var r=e,s;if(ig(QC,r)&&(s=QC[r],r="%"+s[0]+"%"),ig(qo,r)){var i=qo[r];if(i===tl&&(i=nre(r)),typeof i>"u"&&!n)throw new Al("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:r,value:i}}throw new uc("intrinsic "+e+" does not exist!")},uE=function(e,n){if(typeof e!="string"||e.length===0)throw new Al("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Al('"allowMissing" argument must be a boolean');if(ire(/^%?[^%]*%?$/,e)===null)throw new uc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=lre(e),s=r.length>0?r[0]:"",i=cre("%"+s+"%",n),o=i.name,a=i.value,l=!1,u=i.alias;u&&(s=u[0],sre(r,rre([0,1],u)));for(var d=1,p=!0;d<r.length;d+=1){var f=r[d],m=og(f,0,1),y=og(f,-1);if((m==='"'||m==="'"||m==="`"||y==='"'||y==="'"||y==="`")&&m!==y)throw new uc("property names with quotes must have matching quotes");if((f==="constructor"||!p)&&(l=!0),s+="."+f,o="%"+s+"%",ig(qo,o))a=qo[o];else if(a!=null){if(!(f in a)){if(!n)throw new Al("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zd&&d+1>=r.length){var w=Zd(a,f);p=!!w,p&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[f]}else p=ig(a,f),a=a[f];p&&!l&&(qo[o]=a)}}return a},f5=uE,p5=u5,ure=p5([f5("%String.prototype.indexOf%")]),m5=function(e,n){var r=f5(e,!!n);return typeof r=="function"&&ure(e,".prototype.")>-1?p5([r]):r},dre=uE,Ah=m5,hre=Mv,fre=Sc,JC=dre("%Map%",!0),pre=Ah("Map.prototype.get",!0),mre=Ah("Map.prototype.set",!0),gre=Ah("Map.prototype.has",!0),vre=Ah("Map.prototype.delete",!0),yre=Ah("Map.prototype.size",!0),g5=!!JC&&function(){var e,n={assert:function(r){if(!n.has(r))throw new fre("Side channel does not contain "+hre(r))},delete:function(r){if(e){var s=vre(e,r);return yre(e)===0&&(e=void 0),s}return!1},get:function(r){if(e)return pre(e,r)},has:function(r){return e?gre(e,r):!1},set:function(r,s){e||(e=new JC),mre(e,r,s)}};return n},xre=uE,Fv=m5,wre=Mv,Mf=g5,_re=Sc,Fa=xre("%WeakMap%",!0),bre=Fv("WeakMap.prototype.get",!0),Ere=Fv("WeakMap.prototype.set",!0),Tre=Fv("WeakMap.prototype.has",!0),Sre=Fv("WeakMap.prototype.delete",!0),Pre=Fa?function(){var e,n,r={assert:function(s){if(!r.has(s))throw new _re("Side channel does not contain "+wre(s))},delete:function(s){if(Fa&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Sre(e,s)}else if(Mf&&n)return n.delete(s);return!1},get:function(s){return Fa&&s&&(typeof s=="object"||typeof s=="function")&&e?bre(e,s):n&&n.get(s)},has:function(s){return Fa&&s&&(typeof s=="object"||typeof s=="function")&&e?Tre(e,s):!!n&&n.has(s)},set:function(s,i){Fa&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Fa),Ere(e,s,i)):Mf&&(n||(n=Mf()),n.set(s,i))}};return r}:Mf,Ire=Sc,Cre=Mv,Are=rne,Rre=g5,Nre=Pre,kre=Nre||Rre||Are,Ore=function(){var e,n={assert:function(r){if(!n.has(r))throw new Ire("Side channel does not contain "+Cre(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,s){e||(e=kre()),e.set(r,s)}};return n},Dre=String.prototype.replace,jre=/%20/g,I0={RFC1738:"RFC1738",RFC3986:"RFC3986"},dE={default:I0.RFC3986,formatters:{RFC1738:function(t){return Dre.call(t,jre,"+")},RFC3986:function(t){return String(t)}},RFC1738:I0.RFC1738,RFC3986:I0.RFC3986},Mre=dE,C0=Object.prototype.hasOwnProperty,No=Array.isArray,Nr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Lre=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(No(r)){for(var s=[],i=0;i<r.length;++i)typeof r[i]<"u"&&s.push(r[i]);n.obj[n.prop]=s}}},v5=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(r[s]=e[s]);return r},Vre=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(No(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!C0.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var s=e;return No(e)&&!No(n)&&(s=v5(e,r)),No(e)&&No(n)?(n.forEach(function(i,o){if(C0.call(e,o)){var a=e[o];a&&typeof a=="object"&&i&&typeof i=="object"?e[o]=t(a,i,r):e.push(i)}else e[o]=i}),e):Object.keys(n).reduce(function(i,o){var a=n[o];return C0.call(i,o)?i[o]=t(i[o],a,r):i[o]=a,i},s)},Fre=function(e,n){return Object.keys(n).reduce(function(r,s){return r[s]=n[s],r},e)},$re=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},A0=1024,Ure=function(e,n,r,s,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=A0){for(var u=o.length>=A0?o.slice(l,l+A0):o,d=[],p=0;p<u.length;++p){var f=u.charCodeAt(p);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===Mre.RFC1738&&(f===40||f===41)){d[d.length]=u.charAt(p);continue}if(f<128){d[d.length]=Nr[f];continue}if(f<2048){d[d.length]=Nr[192|f>>6]+Nr[128|f&63];continue}if(f<55296||f>=57344){d[d.length]=Nr[224|f>>12]+Nr[128|f>>6&63]+Nr[128|f&63];continue}p+=1,f=65536+((f&1023)<<10|u.charCodeAt(p)&1023),d[d.length]=Nr[240|f>>18]+Nr[128|f>>12&63]+Nr[128|f>>6&63]+Nr[128|f&63]}a+=d.join("")}return a},Bre=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],s=0;s<n.length;++s)for(var i=n[s],o=i.obj[i.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],d=o[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:o,prop:u}),r.push(d))}return Lre(n),e},zre=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Gre=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},qre=function(e,n){return[].concat(e,n)},Wre=function(e,n){if(No(e)){for(var r=[],s=0;s<e.length;s+=1)r.push(n(e[s]));return r}return n(e)},y5={arrayToObject:v5,assign:Fre,combine:qre,compact:Bre,decode:$re,encode:Ure,isBuffer:Gre,isRegExp:zre,maybeMap:Wre,merge:Vre},x5=Ore,Bp=y5,ud=dE,Hre=Object.prototype.hasOwnProperty,w5={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Mr=Array.isArray,Kre=Array.prototype.push,_5=function(t,e){Kre.apply(t,Mr(e)?e:[e])},Qre=Date.prototype.toISOString,XC=ud.default,Et={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Bp.encode,encodeValuesOnly:!1,format:XC,formatter:ud.formatters[XC],indices:!1,serializeDate:function(e){return Qre.call(e)},skipNulls:!1,strictNullHandling:!1},Yre=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},R0={},Jre=function t(e,n,r,s,i,o,a,l,u,d,p,f,m,y,w,E,x,b){for(var _=e,C=b,O=0,M=!1;(C=C.get(R0))!==void 0&&!M;){var P=C.get(e);if(O+=1,typeof P<"u"){if(P===O)throw new RangeError("Cyclic object value");M=!0}typeof C.get(R0)>"u"&&(O=0)}if(typeof d=="function"?_=d(n,_):_ instanceof Date?_=m(_):r==="comma"&&Mr(_)&&(_=Bp.maybeMap(_,function(K){return K instanceof Date?m(K):K})),_===null){if(o)return u&&!E?u(n,Et.encoder,x,"key",y):n;_=""}if(Yre(_)||Bp.isBuffer(_)){if(u){var S=E?n:u(n,Et.encoder,x,"key",y);return[w(S)+"="+w(u(_,Et.encoder,x,"value",y))]}return[w(n)+"="+w(String(_))]}var I=[];if(typeof _>"u")return I;var A;if(r==="comma"&&Mr(_))E&&u&&(_=Bp.maybeMap(_,u)),A=[{value:_.length>0?_.join(",")||null:void 0}];else if(Mr(d))A=d;else{var N=Object.keys(_);A=p?N.sort(p):N}var j=l?n.replace(/\./g,"%2E"):n,k=s&&Mr(_)&&_.length===1?j+"[]":j;if(i&&Mr(_)&&_.length===0)return k+"[]";for(var J=0;J<A.length;++J){var ue=A[J],ne=typeof ue=="object"&&typeof ue.value<"u"?ue.value:_[ue];if(!(a&&ne===null)){var de=f&&l?ue.replace(/\./g,"%2E"):ue,F=Mr(_)?typeof r=="function"?r(k,de):k:k+(f?"."+de:"["+de+"]");b.set(e,O);var U=x5();U.set(R0,b),_5(I,t(ne,F,r,s,i,o,a,l,r==="comma"&&E&&Mr(_)?null:u,d,p,f,m,y,w,E,x,U))}}return I},Xre=function(e){if(!e)return Et;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||Et.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=ud.default;if(typeof e.format<"u"){if(!Hre.call(ud.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var s=ud.formatters[r],i=Et.filter;(typeof e.filter=="function"||Mr(e.filter))&&(i=e.filter);var o;if(e.arrayFormat in w5?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Et.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Et.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Et.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Et.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Et.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Et.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Et.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Et.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Et.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Et.encodeValuesOnly,filter:i,format:r,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Et.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Et.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Et.strictNullHandling}},Zre=function(t,e){var n=t,r=Xre(e),s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Mr(r.filter)&&(i=r.filter,s=i);var o=[];if(typeof n!="object"||n===null)return"";var a=w5[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);for(var u=x5(),d=0;d<s.length;++d){var p=s[d];r.skipNulls&&n[p]===null||_5(o,Jre(n[p],p,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var f=o.join(r.delimiter),m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""},dc=y5,Ww=Object.prototype.hasOwnProperty,ese=Array.isArray,lt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:dc.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},tse=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},b5=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},nse="utf8=%26%2310003%3B",rse="utf8=%E2%9C%93",sse=function(e,n){var r={__proto__:null},s=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=n.parameterLimit===1/0?void 0:n.parameterLimit,o=s.split(n.delimiter,i),a=-1,l,u=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===rse?u="utf-8":o[l]===nse&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],p=d.indexOf("]="),f=p===-1?d.indexOf("="):p+1,m,y;f===-1?(m=n.decoder(d,lt.decoder,u,"key"),y=n.strictNullHandling?null:""):(m=n.decoder(d.slice(0,f),lt.decoder,u,"key"),y=dc.maybeMap(b5(d.slice(f+1),n),function(E){return n.decoder(E,lt.decoder,u,"value")})),y&&n.interpretNumericEntities&&u==="iso-8859-1"&&(y=tse(y)),d.indexOf("[]=")>-1&&(y=ese(y)?[y]:y);var w=Ww.call(r,m);w&&n.duplicates==="combine"?r[m]=dc.combine(r[m],y):(!w||n.duplicates==="last")&&(r[m]=y)}return r},ise=function(t,e,n,r){for(var s=r?e:b5(e,n),i=t.length-1;i>=0;--i){var o,a=t[i];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(s===""||n.strictNullHandling&&s===null)?[]:[].concat(s);else{o=n.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(u,10);!n.parseArrays&&u===""?o={0:s}:!isNaN(d)&&a!==u&&String(d)===u&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(o=[],o[d]=s):u!=="__proto__"&&(o[u]=s)}s=o}return s},ose=function(e,n,r,s){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(i),u=l?i.slice(0,l.index):i,d=[];if(u){if(!r.plainObjects&&Ww.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var p=0;r.depth>0&&(l=a.exec(i))!==null&&p<r.depth;){if(p+=1,!r.plainObjects&&Ww.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}if(l){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");d.push("["+i.slice(l.index)+"]")}return ise(d,n,r,s)}},ase=function(e){if(!e)return lt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?lt.charset:e.charset,r=typeof e.duplicates>"u"?lt.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:lt.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:lt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:lt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:lt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:lt.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:lt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:lt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:lt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:lt.decoder,delimiter:typeof e.delimiter=="string"||dc.isRegExp(e.delimiter)?e.delimiter:lt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:lt.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:lt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:lt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:lt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:lt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:lt.strictNullHandling}},lse=function(t,e){var n=ase(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?sse(t,n):t,s=n.plainObjects?Object.create(null):{},i=Object.keys(r),o=0;o<i.length;++o){var a=i[o],l=ose(a,r[a],n,typeof t=="string");s=dc.merge(s,l,n)}return n.allowSparse===!0?s:dc.compact(s)},cse=Zre,use=lse,dse=dE,hse={formats:dse,parse:use,stringify:cse};const hE=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders"];function E5(t){return t&&typeof t=="object"&&hE.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function $v(t,e){return hse.stringify(t,{serializeDate:n=>Math.floor(n.getTime()/1e3).toString(),arrayFormat:e=="v2"?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}const Hw=(()=>{const t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{const n=e.replace(/["\n\r\u2028\u2029]/g,r=>t[r]);return r=>n.replace(/\{([\s\S]+?)\}/g,(s,i)=>encodeURIComponent(r[i]||""))}})();function fse(t){const e=t.match(/\{\w+\}/g);return e?e.map(n=>n.replace(/[{}]/g,"")):[]}function fE(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!E5(t[0]))return t.shift();const e=Object.keys(t[0]),n=e.filter(r=>hE.includes(r));return n.length>0&&n.length!==e.length&&ag(`Options found in arguments (${n.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function T5(t){const e={host:null,headers:{},settings:{}};if(t.length>0){const n=t[t.length-1];if(typeof n=="string")e.authenticator=Kw(t.pop());else if(E5(n)){const r=Object.assign({},t.pop()),s=Object.keys(r).filter(i=>!hE.includes(i));if(s.length&&ag(`Invalid options found (${s.join(", ")}); ignoring.`),r.apiKey&&(e.authenticator=Kw(r.apiKey)),r.idempotencyKey&&(e.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(e.headers["Stripe-Account"]=r.stripeAccount),r.stripeContext){if(e.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=r.stripeContext}if(r.apiVersion&&(e.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(e.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(e.settings.timeout=r.timeout),r.host&&(e.host=r.host),r.authenticator){if(r.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof r.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=r.authenticator}r.additionalHeaders&&(e.headers=r.additionalHeaders)}}return e}function pse(t){const e=this,n=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...r){e.apply(this,r)};return Object.assign(n,e),n.prototype=Object.create(e.prototype),Object.assign(n.prototype,t),n}function N0(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,n)=>(t[n]!=null&&(e[n]=t[n]),e),{})}function mse(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,n)=>(e[gse(n)]=t[n],e),{}):t}function gse(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function pE(t,e){return e?t.then(n=>{setTimeout(()=>{e(null,n)},0)},n=>{setTimeout(()=>{e(n,null)},0)}):t}function vse(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function ag(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function yse(t){const e=typeof t;return(e==="function"||e==="object")&&!!t}function xse(t){const e={},n=(r,s)=>{Object.entries(r).forEach(([i,o])=>{const a=s?`${s}[${i}]`:i;if(yse(o)){if(!(o instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(o,"data"))return n(o,a);e[a]=o}else e[a]=String(o)})};return n(t,null),e}function k0(t,e,n){if(!Number.isInteger(e)){if(n!==void 0)return n;throw new Error(`${t} must be an integer`)}return e}function wse(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}function Kw(t){const e=n=>(n.headers.Authorization="Bearer "+t,Promise.resolve());return e._apiKey=t,e}function _se(t,e){return this[t]instanceof Date?Math.floor(this[t].getTime()/1e3).toString():e}function bse(t){return JSON.stringify(t,_se)}function mE(t){return t&&t.startsWith("/v2")?"v2":"v1"}const Ese=60;class dd{constructor(e,n){this._stripe=e,this._maxBufferedRequestMetric=n}_addHeadersDirectlyToObject(e,n){e.requestId=n["request-id"],e.stripeAccount=e.stripeAccount||n["stripe-account"],e.apiVersion=e.apiVersion||n["stripe-version"],e.idempotencyKey=e.idempotencyKey||n["idempotency-key"]}_makeResponseEvent(e,n,r){const s=Date.now(),i=s-e.request_start_time;return N0({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:n,request_id:this._getRequestId(r),elapsed:i,request_start_time:e.request_start_time,request_end_time:s})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,n,r){return s=>{const i=s.getHeaders(),o=()=>{const l=this._makeResponseEvent(e,s.getStatusCode(),i);this._stripe._emitter.emit("response",l),this._recordRequestMetrics(this._getRequestId(i),l.elapsed,n)},a=s.toStream(o);return this._addHeadersDirectlyToObject(a,i),r(null,a)}}_jsonResponseHandler(e,n,r,s){return i=>{const o=i.getHeaders(),a=this._getRequestId(o),l=i.getStatusCode(),u=this._makeResponseEvent(e,l,o);this._stripe._emitter.emit("response",u),i.toJSON().then(d=>{if(d.error){let p;throw typeof d.error=="string"&&(d.error={type:d.error,message:d.error_description}),d.error.headers=o,d.error.statusCode=l,d.error.requestId=a,l===401?p=new sE(d.error):l===403?p=new W4(d.error):l===429?p=new iE(d.error):n==="v2"?p=G4(d.error):p=jv(d.error),p}return d},d=>{throw new rE({message:"Invalid JSON received from the Stripe API",exception:d,requestId:o["request-id"]})}).then(d=>{this._recordRequestMetrics(a,u.elapsed,r);const p=i.getRawResponse();this._addHeadersDirectlyToObject(p,o),Object.defineProperty(d,"lastResponse",{enumerable:!1,writable:!1,value:p}),s(null,d)},d=>s(d,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,n,r,s){return s&&n===0&&Qn.CONNECTION_CLOSED_ERROR_CODES.includes(s.code)?!0:n>=r?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,n=null){const r=this._stripe.getInitialNetworkRetryDelay(),s=this._stripe.getMaxNetworkRetryDelay();let i=Math.min(r*Math.pow(2,e-1),s);return i*=.5*(1+Math.random()),i=Math.max(r,i),Number.isInteger(n)&&n<=Ese&&(i=Math.max(i,n)),i*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,n,r){const s=this._getMaxNetworkRetries(n),i=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(r==="v2"){if(e==="POST"||e==="DELETE")return i()}else if(r==="v1"&&e==="POST"&&s>0)return i();return null}_makeHeaders({contentType:e,contentLength:n,apiVersion:r,clientUserAgent:s,method:i,userSuppliedHeaders:o,userSuppliedSettings:a,stripeAccount:l,stripeContext:u,apiMode:d}){const p={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(d),"X-Stripe-Client-User-Agent":s,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":l,"Stripe-Context":u,"Idempotency-Key":this._defaultIdempotencyKey(i,a,d)},f=i=="POST"||i=="PUT"||i=="PATCH";return(f||n)&&(f||ag(`${i} method had non-zero contentLength but no payload is expected for this verb`),p["Content-Length"]=n),Object.assign(N0(p),mse(o))}_getUserAgentString(e){const n=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${n} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,n,r){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)ag("Request metrics buffer is full, dropping telemetry message.");else{const s={request_id:e,request_duration_ms:n};r&&r.length>0&&(s.usage=r),this._stripe._prevRequestMetrics.push(s)}}_rawRequest(e,n,r,s){return new Promise((o,a)=>{let l;try{const m=e.toUpperCase();if(m!=="POST"&&r&&Object.keys(r).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");const y=[].slice.call([r,s]),w=fE(y),E=Object.assign({},w),x=T5(y),b=x.headers,_=x.authenticator;l={requestMethod:m,requestPath:n,bodyData:E,queryData:{},authenticator:_,headers:b,host:null,streaming:!1,settings:{},usage:["raw_request"]}}catch(m){a(m);return}function u(m,y){m?a(m):o(y)}const{headers:d,settings:p}=l,f=l.authenticator;this._request(l.requestMethod,l.host,n,l.bodyData,f,{headers:d,settings:p,streaming:l.streaming},l.usage,u)})}_request(e,n,r,s,i,o,a=[],l,u=null){var d;let p;i=(d=i??this._stripe._authenticator)!==null&&d!==void 0?d:null;const f=mE(r),m=(E,x,b,_,C)=>setTimeout(E,this._getSleepTimeInMS(_,C),x,b,_+1),y=(E,x,b)=>{const _=o.settings&&o.settings.timeout&&Number.isInteger(o.settings.timeout)&&o.settings.timeout>=0?o.settings.timeout:this._stripe.getApiField("timeout"),C={host:n||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:r,method:e,headers:Object.assign({},x),body:p,protocol:this._stripe.getApiField("protocol")};i(C).then(()=>{const O=this._stripe.getApiField("httpClient").makeRequest(C.host,C.port,C.path,C.method,C.headers,C.body,C.protocol,_),M=Date.now(),P=N0({api_version:E,account:x["Stripe-Account"],idempotency_key:x["Idempotency-Key"],method:e,path:r,request_start_time:M}),S=b||0,I=this._getMaxNetworkRetries(o.settings||{});this._stripe._emitter.emit("request",P),O.then(A=>dd._shouldRetry(A,S,I)?m(y,E,x,S,A.getHeaders()["retry-after"]):o.streaming&&A.getStatusCode()<400?this._streamingResponseHandler(P,a,l)(A):this._jsonResponseHandler(P,f,a,l)(A)).catch(A=>{if(dd._shouldRetry(null,S,I,A))return m(y,E,x,S,null);{const N=A.code&&A.code===Qn.TIMEOUT_ERROR_CODE;return l(new H4({message:N?`Request aborted due to timeout being reached (${_}ms)`:dd._generateConnectionErrorMessage(S),detail:A}))}})}).catch(O=>{throw new rn({message:"Unable to authenticate the request",exception:O})})},w=(E,x)=>{if(E)return l(E);p=x,this._stripe.getClientUserAgent(b=>{const _=this._stripe.getApiField("version"),C=this._makeHeaders({contentType:f=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:p.length,apiVersion:_,clientUserAgent:b,method:e,userSuppliedHeaders:o.headers,userSuppliedSettings:o.settings,stripeAccount:f=="v2"?null:this._stripe.getApiField("stripeAccount"),stripeContext:f=="v2"?this._stripe.getApiField("stripeContext"):null,apiMode:f});y(_,C,0)})};if(u)u(e,s,o.headers,w);else{let E;f=="v2"?E=s?bse(s):"":E=$v(s||{},f),w(null,E)}}}class S5{constructor(e,n,r,s){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=n,this.spec=r,this.stripeResource=s}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");const n=P5(this.requestArgs);if(this.index<e.data.length){const r=n?e.data.length-1-this.index:this.index,s=e.data[r];return this.index+=1,{value:s,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);const r=await this.pagePromise;return this.iterate(r)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;const e=(async()=>{const n=await this._next();return this.promiseCache.currentPromise=null,n})();return this.promiseCache.currentPromise=e,e}}class Tse extends S5{getNextPage(e){const n=P5(this.requestArgs),r=Nse(e,n);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[n?"ending_before":"starting_after"]:r})}}class Sse extends S5{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class Pse{constructor(e,n,r,s){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=n,this.spec=r,this.stripeResource=s}async turnPage(){const e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;const n=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(n.next_page_url),this.currentPageIterator=Promise.resolve(n.data[Symbol.iterator]()),this.currentPageIterator}async next(){{const r=(await this.currentPageIterator).next();if(!r.done)return{done:!1,value:r.value}}const e=await this.turnPage();if(!e)return{done:!0,value:void 0};const n=e.next();return n.done?{done:!0,value:void 0}:{done:!1,value:n.value}}}const Ise=(t,e,n,r)=>{const s=mE(n.fullPath||n.path);return s!=="v2"&&n.methodType==="search"?O0(new Sse(r,e,n,t)):s!=="v2"&&n.methodType==="list"?O0(new Tse(r,e,n,t)):s==="v2"&&n.methodType==="list"?O0(new Pse(r,e,n,t)):null},O0=t=>{const e=kse((...s)=>t.next(...s)),n=Ose(e),r={autoPagingEach:e,autoPagingToArray:n,next:()=>t.next(),return:()=>({}),[Cse()]:()=>r};return r};function Cse(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function Ase(t){if(t.length<2)return null;const e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function Rse(t){if(t.length===0)return;const e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(r,s){const i=e(r);s(i)}}function Nse(t,e){const n=e?0:t.data.length-1,r=t.data[n],s=r&&r.id;if(!s)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return s}function kse(t){return function(){const n=[].slice.call(arguments),r=Rse(n),s=Ase(n);if(n.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${n}`);const i=Dse(t,r);return pE(i,s)}}function Ose(t){return function(n,r){const s=n&&n.limit;if(!s)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(s>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");const i=new Promise((o,a)=>{const l=[];t(u=>{if(l.push(u),l.length>=s)return!1}).then(()=>{o(l)}).catch(a)});return pE(i,r)}}function Dse(t,e){return new Promise((n,r)=>{function s(i){if(i.done){n();return}const o=i.value;return new Promise(a=>{e(o,a)}).then(a=>a===!1?s({done:!0,value:void 0}):t().then(s))}t().then(s).catch(r)})}function P5(t){const e=[].slice.call(t);return!!fE(e).ending_before}function jse(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){const n=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=fse(t.fullPath||this.createResourcePathWithSymbols(t.path||""));const r=pE(this._makeRequest(e,t,{}),n);return Object.assign(r,Ise(this,e,t,r)),r}}D.extend=pse;D.method=jse;D.MAX_BUFFERED_REQUEST_METRICS=100;function D(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Hw(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=Hw(this.path),this.initialize(...arguments)}D.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){const n=[this.basePath(e),this.path(e)];if(typeof t=="function"){const r=t(e);r&&n.push(r)}else n.push(t);return this._joinUrlParts(n)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,n){var r;const s=(e.method||"GET").toUpperCase(),i=e.usage||[],o=e.urlParams||[],a=e.encode||(P=>P),l=!!e.fullPath,u=Hw(l?e.fullPath:e.path||""),d=l?e.fullPath:this.createResourcePathWithSymbols(e.path),p=[].slice.call(t),f=o.reduce((P,S)=>{const I=p.shift();if(typeof I!="string")throw new Error(`Stripe: Argument "${S}" must be a string, but got: ${I} (on API request to \`${s} ${d}\`)`);return P[S]=I,P},{}),m=fE(p),y=a(Object.assign({},m,n)),w=T5(p),E=w.host||e.host,x=!!e.streaming;if(p.filter(P=>P!=null).length)throw new Error(`Stripe: Unknown arguments (${p}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${s} \`${d}\`)`);const b=l?u(f):this.createFullPath(u,f),_=Object.assign(w.headers,e.headers);e.validator&&e.validator(y,{headers:_});const C=e.method==="GET"||e.method==="DELETE";return{requestMethod:s,requestPath:b,bodyData:C?null:y,queryData:C?y:{},authenticator:(r=w.authenticator)!==null&&r!==void 0?r:null,headers:_,host:E??null,streaming:x,settings:w.settings,usage:i}},_makeRequest(t,e,n){return new Promise((r,s)=>{var i;let o;try{o=this._getRequestOpts(t,e,n)}catch(f){s(f);return}function a(f,m){f?s(f):r(e.transformResponseData?e.transformResponseData(m):m)}const l=Object.keys(o.queryData).length===0,u=[o.requestPath,l?"":"?",$v(o.queryData,mE(o.requestPath))].join(""),{headers:d,settings:p}=o;this._stripe._requestSender._request(o.requestMethod,o.host,u,o.bodyData,o.authenticator,{headers:d,settings:p,streaming:o.streaming},o.usage,a,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};function ZC(t){const e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(d,p,f,m,y,w){try{this.signature.verifyHeader(d,p,f,m||e.DEFAULT_TOLERANCE,y,w)}catch(x){throw x instanceof z4&&(x.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),x}return d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)},async constructEventAsync(d,p,f,m,y,w){return await this.signature.verifyHeaderAsync(d,p,f,m||e.DEFAULT_TOLERANCE,y,w),d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)},generateTestHeaderString:function(d){const p=u(d),f=p.signature||p.cryptoProvider.computeHMACSignature(p.payloadString,p.secret);return p.generateHeaderString(f)},generateTestHeaderStringAsync:async function(d){const p=u(d),f=p.signature||await p.cryptoProvider.computeHMACSignatureAsync(p.payloadString,p.secret);return p.generateHeaderString(f)}},n={EXPECTED_SCHEME:"v1",verifyHeader(d,p,f,m,y,w){const{decodedHeader:E,decodedPayload:x,details:b,suspectPayloadType:_}=s(d,p,this.EXPECTED_SCHEME),C=/\s/.test(f);y=y||l();const O=y.computeHMACSignature(r(x,b),f);return i(x,E,b,O,m,_,C,w),!0},async verifyHeaderAsync(d,p,f,m,y,w){const{decodedHeader:E,decodedPayload:x,details:b,suspectPayloadType:_}=s(d,p,this.EXPECTED_SCHEME),C=/\s/.test(f);y=y||l();const O=await y.computeHMACSignatureAsync(r(x,b),f);return i(x,E,b,O,m,_,C,w)}};function r(d,p){return`${p.timestamp}.${d}`}function s(d,p,f){if(!d)throw new ii(p,d,{message:"No webhook payload was provided."});const m=typeof d!="string"&&!(d instanceof Uint8Array),y=new TextDecoder("utf8"),w=d instanceof Uint8Array?y.decode(d):d;if(Array.isArray(p))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(p==null||p=="")throw new ii(p,d,{message:"No stripe-signature header value was provided."});const E=p instanceof Uint8Array?y.decode(p):p,x=o(E,f);if(!x||x.timestamp===-1)throw new ii(E,w,{message:"Unable to extract timestamp and signatures from header"});if(!x.signatures.length)throw new ii(E,w,{message:"No signatures found with expected scheme"});return{decodedPayload:w,decodedHeader:E,details:x,suspectPayloadType:m}}function i(d,p,f,m,y,w,E,x){const b=!!f.signatures.filter(t.secureCompare.bind(t,m)).length,_=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,C=E?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!b)throw w?new ii(p,d,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+_+`
`+C}):new ii(p,d,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+_+`
`+C});const O=Math.floor((typeof x=="number"?x:Date.now())/1e3)-f.timestamp;if(y>0&&O>y)throw new ii(p,d,{message:"Timestamp outside the tolerance zone"});return!0}function o(d,p){return typeof d!="string"?null:d.split(",").reduce((f,m)=>{const y=m.split("=");return y[0]==="t"&&(f.timestamp=parseInt(y[1],10)),y[0]===p&&f.signatures.push(y[1]),f},{timestamp:-1,signatures:[]})}let a=null;function l(){return a||(a=t.createDefaultCryptoProvider()),a}function u(d){if(!d)throw new rn({message:"Options are required"});const p=Math.floor(d.timestamp)||Math.floor(Date.now()/1e3),f=d.scheme||n.EXPECTED_SCHEME,m=d.cryptoProvider||l(),y=`${p}.${d.payload}`,w=E=>`t=${p},${f}=${E}`;return Object.assign(Object.assign({},d),{timestamp:p,scheme:f,cryptoProvider:m,payloadString:y,generateHeaderString:w})}return e.signature=n,e}const Mse="2024-12-18.acacia";function Lse(t,e){for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const r=n[0].toLowerCase()+n.substring(1),s=new e[n](t);this[r]=s}}function et(t,e){return function(n){return new Lse(n,e)}}const yo=D.method,Vse=D.extend({retrieve:yo({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:yo({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:yo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:yo({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:yo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:yo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:yo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),eA=D.method,Fse=D.extend({retrieve:eA({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:eA({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),$a=D.method,$se=D.extend({create:$a({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:$a({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:$a({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:$a({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:$a({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:$a({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),xo=D.method,Use=D.extend({create:xo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:xo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:xo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:xo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:xo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:xo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:xo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),uu=D.method,Bse=D.extend({retrieve:uu({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:uu({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:uu({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:uu({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:uu({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),D0=D.method,zse=D.extend({create:D0({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:D0({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:D0({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),Lf=D.method,Gse=D.extend({create:Lf({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Lf({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Lf({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Lf({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),du=D.method,qse=D.extend({deliverCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),Vf=D.method,Wse=D.extend({create:Vf({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:Vf({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:Vf({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:Vf({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),Ff=D.method,Hse=D.extend({create:Ff({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:Ff({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:Ff({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:Ff({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),hu=D.method,Kse=D.extend({create:hu({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:hu({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:hu({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:hu({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:hu({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),Qse=D.method,Yse=D.extend({create:Qse({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),Jse=D.method,Xse=D.extend({create:Jse({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),Zse=D.method,eie=D.extend({retrieve:Zse({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),tA=D.method,tie=D.extend({retrieve:tA({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:tA({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),Ua=D.method,nie=D.extend({create:Ua({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:Ua({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:Ua({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:Ua({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:Ua({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:Ua({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),j0=D.method,rie=D.extend({create:j0({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:j0({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:j0({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),sie=D.method,iie=D.extend({fundCashBalance:sie({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),M0=D.method,oie=D.extend({create:M0({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:M0({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:M0({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),fu=D.method,aie=D.extend({create:fu({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:fu({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:fu({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:fu({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:fu({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),nA=D.method,lie=D.extend({retrieve:nA({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:nA({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),Zs=D.method,cie=D.extend({create:Zs({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:Zs({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:Zs({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:Zs({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:Zs({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:Zs({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:Zs({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:Zs({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),L0=D.method,uie=D.extend({retrieve(...t){return L0({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:n=>this.addFetchRelatedObjectIfNeeded(n)}).apply(this,t)},list(...t){return L0({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:n=>Object.assign(Object.assign({},n),{data:n.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,t)},addFetchRelatedObjectIfNeeded(t){return!t.related_object||!t.related_object.url?t:Object.assign(Object.assign({},t),{fetchRelatedObject:()=>L0({method:"GET",fullPath:t.related_object.url}).apply(this,[{stripeAccount:t.context}])})}}),$f=D.method,die=D.extend({create:$f({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:$f({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:$f({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:$f({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),Ba=D.method,hie=D.extend({create:Ba({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Ba({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Ba({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Ba({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:Ba({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Ba({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),V0=D.method,fie=D.extend({fail:V0({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:V0({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:V0({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),Uf=D.method,pie=D.extend({create:Uf({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Uf({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Uf({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Uf({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),pu=D.method,mie=D.extend({create:pu({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:pu({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:pu({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:pu({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:pu({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),gie=D.method,vie=D.extend({create:gie({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),yie=D.method,xie=D.extend({create:yie({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),wie=D.method,_ie=D.extend({create:wie({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),bie=D.method,Eie=D.extend({create:bie({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),Tie=D.method,Sie=D.extend({create:Tie({method:"POST",fullPath:"/v1/billing/meter_events"})}),Pie=D.method,Iie=D.extend({create:Pie({method:"POST",fullPath:"/v2/billing/meter_events"})}),wo=D.method,Cie=D.extend({create:wo({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:wo({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:wo({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:wo({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:wo({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:wo({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:wo({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),mu=D.method,Aie=D.extend({create:mu({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:mu({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:mu({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:mu({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:mu({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),Bf=D.method,Rie=D.extend({update:Bf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Bf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Bf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Bf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),zf=D.method,Nie=D.extend({create:zf({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:zf({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:zf({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:zf({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),Gf=D.method,kie=D.extend({update:Gf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Gf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Gf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Gf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),qf=D.method,Oie=D.extend({create:qf({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:qf({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:qf({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:qf({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),F0=D.method,Die=D.extend({activate:F0({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:F0({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:F0({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),Wf=D.method,jie=D.extend({create:Wf({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Wf({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Wf({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Wf({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),rA=D.method,Mie=D.extend({retrieve:rA({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:rA({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),sA=D.method,Lie=D.extend({retrieve:sA({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:sA({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),Vie=D.method,Fie=D.extend({presentPaymentMethod:Vie({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),kr=D.method,$ie=D.extend({create:kr({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:kr({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:kr({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:kr({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),Uie=D.method,Bie=D.extend({create:Uie({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),iA=D.method,zie=D.extend({retrieve:iA({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:iA({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),Gie=D.method,qie=D.extend({create:Gie({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),oA=D.method,Wie=D.extend({retrieve:oA({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:oA({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),Hie=D.method,Kie=D.extend({expire:Hie({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),Hf=D.method,Qie=D.extend({create:Hf({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Hf({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Hf({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Hf({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),$0=D.method,Yie=D.extend({create:$0({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:$0({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:$0({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),aA=D.method,Jie=D.extend({retrieve:aA({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:aA({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),U0=D.method,Xie=D.extend({create:U0({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:U0({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:U0({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),lA=D.method,Zie=D.extend({retrieve:lA({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:lA({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),Kf=D.method,eoe=D.extend({create:Kf({method:"POST",fullPath:"/v1/apps/secrets"}),list:Kf({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Kf({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Kf({method:"GET",fullPath:"/v1/apps/secrets/find"})}),toe=D.method,noe=D.extend({create:toe({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),za=D.method,roe=D.extend({create:za({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:za({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:za({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:za({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:za({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:za({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),cA=D.method,soe=D.extend({create:cA({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:cA({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),uA=D.method,ioe=D.extend({retrieve:uA({method:"GET",fullPath:"/v1/tax/settings"}),update:uA({method:"POST",fullPath:"/v1/tax/settings"})}),dA=D.method,ooe=D.extend({retrieve:dA({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:dA({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),gu=D.method,aoe=D.extend({create:gu({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:gu({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:gu({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:gu({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:gu({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),B0=D.method,loe=D.extend({retrieve:B0({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:B0({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:B0({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),hA=D.method,coe=D.extend({retrieve:hA({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:hA({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),z0=D.method,uoe=D.extend({createForceCapture:z0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:z0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:z0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),fA=D.method,doe=D.extend({retrieve:fA({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:fA({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),G0=D.method,hoe=D.extend({retrieve:G0({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:G0({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:G0({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),Qf=D.method,foe=D.extend({retrieve:Qf({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Qf({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Qf({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Qf({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),pA=D.method,poe=D.extend({retrieve:pA({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:pA({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),Yf=D.method,moe=D.extend({create:Yf({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Yf({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Yf({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Yf({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),vu=D.method,goe=D.extend({create:vu({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:vu({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:vu({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:vu({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:vu({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),mA=D.method,voe=D.extend({retrieve:mA({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:mA({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),Ga=D.method,yoe=D.extend({create:Ga({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:Ga({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:Ga({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:Ga({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:Ga({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:Ga({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),at=D.method,gA=D.extend({create:at({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?at({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),at({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:at({method:"POST",fullPath:"/v1/accounts/{account}"}),list:at({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:at({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:at({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:at({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:at({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:at({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:at({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:at({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:at({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:at({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:at({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:at({method:"GET",fullPath:"/v1/account"}),retrieveCapability:at({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:at({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:at({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:at({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:at({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:at({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),xoe=D.method,woe=D.extend({create:xoe({method:"POST",fullPath:"/v1/account_links"})}),_oe=D.method,boe=D.extend({create:_oe({method:"POST",fullPath:"/v1/account_sessions"})}),Jf=D.method,Eoe=D.extend({create:Jf({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:Jf({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:Jf({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:Jf({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),qa=D.method,Toe=D.extend({retrieve:qa({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:qa({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:qa({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:qa({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:qa({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:qa({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),Soe=D.method,Poe=D.extend({retrieve:Soe({method:"GET",fullPath:"/v1/balance"})}),vA=D.method,Ioe=D.extend({retrieve:vA({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:vA({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),Wa=D.method,Coe=D.extend({create:Wa({method:"POST",fullPath:"/v1/charges"}),retrieve:Wa({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Wa({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Wa({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Wa({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Wa({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),Aoe=D.method,Roe=D.extend({retrieve:Aoe({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),yA=D.method,Noe=D.extend({retrieve:yA({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:yA({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),yu=D.method,koe=D.extend({create:yu({method:"POST",fullPath:"/v1/coupons"}),retrieve:yu({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:yu({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:yu({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:yu({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),ei=D.method,Ooe=D.extend({create:ei({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:ei({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:ei({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:ei({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:ei({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:ei({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:ei({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:ei({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),Doe=D.method,joe=D.extend({create:Doe({method:"POST",fullPath:"/v1/customer_sessions"})}),Ve=D.method,Moe=D.extend({create:Ve({method:"POST",fullPath:"/v1/customers"}),retrieve:Ve({method:"GET",fullPath:"/v1/customers/{customer}"}),update:Ve({method:"POST",fullPath:"/v1/customers/{customer}"}),list:Ve({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:Ve({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:Ve({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:Ve({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:Ve({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:Ve({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:Ve({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:Ve({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:Ve({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:Ve({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:Ve({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:Ve({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:Ve({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:Ve({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:Ve({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:Ve({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:Ve({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:Ve({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:Ve({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:Ve({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:Ve({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:Ve({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:Ve({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:Ve({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:Ve({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),Xf=D.method,Loe=D.extend({retrieve:Xf({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Xf({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Xf({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Xf({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),xA=D.method,Voe=D.extend({create:xA({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:xA({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),wA=D.method,Foe=D.extend({retrieve:wA({method:"GET",fullPath:"/v1/events/{id}"}),list:wA({method:"GET",fullPath:"/v1/events",methodType:"list"})}),_A=D.method,$oe=D.extend({retrieve:_A({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:_A({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),Zf=D.method,Uoe=D.extend({create:Zf({method:"POST",fullPath:"/v1/file_links"}),retrieve:Zf({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Zf({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Zf({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),Boe=(t,e,n)=>{const r=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();n["Content-Type"]=`multipart/form-data; boundary=${r}`;const s=new TextEncoder;let i=new Uint8Array(0);const o=s.encode(`\r
`);function a(d){const p=i,f=d instanceof Uint8Array?d:new Uint8Array(s.encode(d));i=new Uint8Array(p.length+f.length+2),i.set(p),i.set(f,p.length),i.set(o,i.length-2)}function l(d){return`"${d.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const u=xse(e);for(const d in u){if(!Object.prototype.hasOwnProperty.call(u,d))continue;const p=u[d];if(a(`--${r}`),Object.prototype.hasOwnProperty.call(p,"data")){const f=p;a(`Content-Disposition: form-data; name=${l(d)}; filename=${l(f.name||"blob")}`),a(`Content-Type: ${f.type||"application/octet-stream"}`),a(""),a(f.data)}else a(`Content-Disposition: form-data; name=${l(d)}`),a(""),a(p)}return a(`--${r}--`),i};function zoe(t,e,n,r){if(e=e||{},t!=="POST")return r(null,$v(e));this._stripe._platformFunctions.tryBufferData(e).then(s=>{const i=Boe(t,s,n);return r(null,i)}).catch(s=>r(s,null))}const q0=D.method,Goe=D.extend({create:q0({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:q0({method:"GET",fullPath:"/v1/files/{file}"}),list:q0({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:zoe}),xu=D.method,qoe=D.extend({create:xu({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:xu({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:xu({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:xu({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:xu({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),ep=D.method,Woe=D.extend({retrieve:ep({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:ep({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:ep({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:ep({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),bt=D.method,Hoe=D.extend({create:bt({method:"POST",fullPath:"/v1/invoices"}),retrieve:bt({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:bt({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:bt({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:bt({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),createPreview:bt({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:bt({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:bt({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),retrieveUpcoming:bt({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:bt({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),Koe=D.method,Qoe=D.extend({retrieve:Koe({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),bA=D.method,W0="connect.stripe.com",Yoe=D.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let n="oauth/authorize";return e.express&&(n=`express/${n}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${W0}/${n}?${$v(t)}`},token:bA({method:"POST",path:"oauth/token",host:W0}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),bA({method:"POST",path:"oauth/deauthorize",host:W0}).apply(this,[t,...e])}}),ur=D.method,Joe=D.extend({create:ur({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:ur({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:ur({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:ur({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),wu=D.method,Xoe=D.extend({create:wu({method:"POST",fullPath:"/v1/payment_links"}),retrieve:wu({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:wu({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:wu({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:wu({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),tp=D.method,Zoe=D.extend({create:tp({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:tp({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:tp({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:tp({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),_u=D.method,eae=D.extend({create:_u({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:_u({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:_u({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:_u({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:_u({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),Ha=D.method,tae=D.extend({create:Ha({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Ha({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Ha({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Ha({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Ha({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Ha({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),Ka=D.method,nae=D.extend({create:Ka({method:"POST",fullPath:"/v1/payouts"}),retrieve:Ka({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Ka({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Ka({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Ka({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Ka({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),bu=D.method,rae=D.extend({create:bu({method:"POST",fullPath:"/v1/plans"}),retrieve:bu({method:"GET",fullPath:"/v1/plans/{plan}"}),update:bu({method:"POST",fullPath:"/v1/plans/{plan}"}),list:bu({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:bu({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),Eu=D.method,sae=D.extend({create:Eu({method:"POST",fullPath:"/v1/prices"}),retrieve:Eu({method:"GET",fullPath:"/v1/prices/{price}"}),update:Eu({method:"POST",fullPath:"/v1/prices/{price}"}),list:Eu({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Eu({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),Or=D.method,iae=D.extend({create:Or({method:"POST",fullPath:"/v1/products"}),retrieve:Or({method:"GET",fullPath:"/v1/products/{id}"}),update:Or({method:"POST",fullPath:"/v1/products/{id}"}),list:Or({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:Or({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:Or({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:Or({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:Or({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:Or({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:Or({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),np=D.method,oae=D.extend({create:np({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:np({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:np({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:np({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),Dr=D.method,aae=D.extend({create:Dr({method:"POST",fullPath:"/v1/quotes"}),retrieve:Dr({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:Dr({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:Dr({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:Dr({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:Dr({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:Dr({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:Dr({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:Dr({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:Dr({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),Tu=D.method,lae=D.extend({create:Tu({method:"POST",fullPath:"/v1/refunds"}),retrieve:Tu({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Tu({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Tu({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Tu({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),H0=D.method,cae=D.extend({retrieve:H0({method:"GET",fullPath:"/v1/reviews/{review}"}),list:H0({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:H0({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),uae=D.method,dae=D.extend({list:uae({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),_o=D.method,hae=D.extend({create:_o({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:_o({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:_o({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:_o({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:_o({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:_o({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:_o({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),rp=D.method,fae=D.extend({create:rp({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:rp({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:rp({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:rp({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),Su=D.method,pae=D.extend({create:Su({method:"POST",fullPath:"/v1/sources"}),retrieve:Su({method:"GET",fullPath:"/v1/sources/{source}"}),update:Su({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Su({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Su({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),bo=D.method,mae=D.extend({create:bo({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:bo({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:bo({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:bo({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:bo({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:bo({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:bo({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})}),Qa=D.method,gae=D.extend({create:Qa({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Qa({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Qa({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Qa({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Qa({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Qa({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),ti=D.method,vae=D.extend({create:ti({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ti({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ti({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ti({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ti({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ti({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:ti({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ti({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),EA=D.method,yae=D.extend({retrieve:EA({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:EA({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),sp=D.method,xae=D.extend({create:sp({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:sp({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:sp({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:sp({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),ip=D.method,wae=D.extend({create:ip({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:ip({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:ip({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:ip({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),TA=D.method,_ae=D.extend({create:TA({method:"POST",fullPath:"/v1/tokens"}),retrieve:TA({method:"GET",fullPath:"/v1/tokens/{token}"})}),Pu=D.method,bae=D.extend({create:Pu({method:"POST",fullPath:"/v1/topups"}),retrieve:Pu({method:"GET",fullPath:"/v1/topups/{topup}"}),update:Pu({method:"POST",fullPath:"/v1/topups/{topup}"}),list:Pu({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:Pu({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),ni=D.method,Eae=D.extend({create:ni({method:"POST",fullPath:"/v1/transfers"}),retrieve:ni({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:ni({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:ni({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:ni({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:ni({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:ni({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:ni({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),Iu=D.method,Tae=D.extend({create:Iu({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Iu({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Iu({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Iu({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Iu({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Sae=et("apps",{Secrets:eoe}),Pae=et("billing",{Alerts:$se,CreditBalanceSummary:eie,CreditBalanceTransactions:tie,CreditGrants:nie,MeterEventAdjustments:vie,MeterEvents:Sie,Meters:Cie}),Iae=et("billingPortal",{Configurations:Hse,Sessions:noe}),Cae=et("checkout",{Sessions:roe}),Aae=et("climate",{Orders:Aie,Products:Lie,Suppliers:ooe}),Rae=et("entitlements",{ActiveEntitlements:Fse,Features:die}),Nae=et("financialConnections",{Accounts:Vse,Sessions:soe,Transactions:doe}),kae=et("forwarding",{Requests:Xie}),Oae=et("identity",{VerificationReports:voe,VerificationSessions:yoe}),Dae=et("issuing",{Authorizations:Bse,Cardholders:Gse,Cards:Wse,Disputes:aie,PersonalizationDesigns:jie,PhysicalBundles:Mie,Tokens:loe,Transactions:hoe}),jae=et("radar",{EarlyFraudWarnings:lie,ValueListItems:moe,ValueLists:goe}),Mae=et("reporting",{ReportRuns:Yie,ReportTypes:Jie}),Lae=et("sigma",{ScheduledQueryRuns:Zie}),Vae=et("tax",{Calculations:zse,Registrations:Qie,Settings:ioe,Transactions:foe}),Fae=et("terminal",{Configurations:Kse,ConnectionTokens:Xse,Locations:mie,Readers:$ie}),$ae=et("testHelpers",{ConfirmationTokens:Yse,Customers:iie,Refunds:Kie,TestClocks:aoe,Issuing:et("issuing",{Authorizations:Use,Cards:qse,PersonalizationDesigns:Die,Transactions:uoe}),Terminal:et("terminal",{Readers:Fie}),Treasury:et("treasury",{InboundTransfers:fie,OutboundPayments:Rie,OutboundTransfers:kie,ReceivedCredits:Bie,ReceivedDebits:qie})}),Uae=et("treasury",{CreditReversals:rie,DebitReversals:oie,FinancialAccounts:hie,InboundTransfers:pie,OutboundPayments:Nie,OutboundTransfers:Oie,ReceivedCredits:zie,ReceivedDebits:Wie,TransactionEntries:coe,Transactions:poe}),Bae=et("v2",{Billing:et("billing",{MeterEventAdjustments:xie,MeterEventSession:_ie,MeterEventStream:Eie,MeterEvents:Iie}),Core:et("core",{EventDestinations:cie,Events:uie})}),op=Object.freeze(Object.defineProperty({__proto__:null,Account:gA,AccountLinks:woe,AccountSessions:boe,Accounts:gA,ApplePayDomains:Eoe,ApplicationFees:Toe,Apps:Sae,Balance:Poe,BalanceTransactions:Ioe,Billing:Pae,BillingPortal:Iae,Charges:Coe,Checkout:Cae,Climate:Aae,ConfirmationTokens:Roe,CountrySpecs:Noe,Coupons:koe,CreditNotes:Ooe,CustomerSessions:joe,Customers:Moe,Disputes:Loe,Entitlements:Rae,EphemeralKeys:Voe,Events:Foe,ExchangeRates:$oe,FileLinks:Uoe,Files:Goe,FinancialConnections:Nae,Forwarding:kae,Identity:Oae,InvoiceItems:qoe,InvoiceRenderingTemplates:Woe,Invoices:Hoe,Issuing:Dae,Mandates:Qoe,OAuth:Yoe,PaymentIntents:Joe,PaymentLinks:Xoe,PaymentMethodConfigurations:Zoe,PaymentMethodDomains:eae,PaymentMethods:tae,Payouts:nae,Plans:rae,Prices:sae,Products:iae,PromotionCodes:oae,Quotes:aae,Radar:jae,Refunds:lae,Reporting:Mae,Reviews:cae,SetupAttempts:dae,SetupIntents:hae,ShippingRates:fae,Sigma:Lae,Sources:pae,SubscriptionItems:mae,SubscriptionSchedules:gae,Subscriptions:vae,Tax:Vae,TaxCodes:yae,TaxIds:xae,TaxRates:wae,Terminal:Fae,TestHelpers:$ae,Tokens:_ae,Topups:bae,Transfers:Eae,Treasury:Uae,V2:Bae,WebhookEndpoints:Tae},Symbol.toStringTag,{value:"Module"})),SA="api.stripe.com",PA="443",IA="/v1/",CA=Mse,AA=8e4,RA=5,NA=.5,zae=["name","version","url","partner_id"],kA=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],Gae=t=>new dd(t,D.MAX_BUFFERED_REQUEST_METRICS);function qae(t,e=Gae){r.PACKAGE_VERSION="17.5.0",r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},wse()),r.StripeResource=D,r.resources=op,r.HttpClient=Qn,r.HttpClientResponse=U4,r.CryptoProvider=B4;function n(s=t){return ZC(s)}r.webhooks=Object.assign(n,ZC(t));function r(s,i={}){if(!(this instanceof r))return new r(s,i);const o=this._getPropsFromConfig(i);this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);const a=o.httpAgent||null;this._api={host:o.host||SA,port:o.port||PA,protocol:o.protocol||"https",basePath:IA,version:o.apiVersion||CA,timeout:k0("timeout",o.timeout,AA),maxNetworkRetries:k0("maxNetworkRetries",o.maxNetworkRetries,2),agent:a,httpClient:o.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:o.stripeAccount||null,stripeContext:o.stripeContext||null};const l=o.typescript||!1;l!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=l),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setAuthenticator(s,o.authenticator),this.errors=SC,this.webhooks=n(),this._prevRequestMetrics=[],this._enableTelemetry=o.telemetry!==!1,this._requestSender=e(this),this.StripeResource=r.StripeResource}return r.errors=SC,r.createNodeHttpClient=t.createNodeHttpClient,r.createFetchHttpClient=t.createFetchHttpClient,r.createNodeCryptoProvider=t.createNodeCryptoProvider,r.createSubtleCryptoProvider=t.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(s,i,o,a){return this._requestSender._rawRequest(s,i,o,a)},_setAuthenticator(s,i){if(s&&i)throw new Error("Can't specify both apiKey and authenticator");if(!s&&!i)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=s?Kw(s):i},_setAppInfo(s){if(s&&typeof s!="object")throw new Error("AppInfo must be an object.");if(s&&!s.name)throw new Error("AppInfo.name is required");s=s||{},this._appInfo=zae.reduce((i,o)=>(typeof s[o]=="string"&&(i=i||{},i[o]=s[o]),i),void 0)},_setApiField(s,i){this._api[s]=i},getApiField(s){return this._api[s]},setClientId(s){this._clientId=s},getClientId(){return this._clientId},getConstant:s=>{switch(s){case"DEFAULT_HOST":return SA;case"DEFAULT_PORT":return PA;case"DEFAULT_BASE_PATH":return IA;case"DEFAULT_API_VERSION":return CA;case"DEFAULT_TIMEOUT":return AA;case"MAX_NETWORK_RETRY_DELAY_SEC":return RA;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return NA}return r[s]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(s,i,o){const a=k0(s,i,o);this._setApiField(s,a)},getMaxNetworkRetryDelay(){return RA},getInitialNetworkRetryDelay(){return NA},getClientUserAgent(s){return this.getClientUserAgentSeeded(r.USER_AGENT,s)},getClientUserAgentSeeded(s,i){this._platformFunctions.getUname().then(o=>{var a;const l={};for(const d in s)Object.prototype.hasOwnProperty.call(s,d)&&(l[d]=encodeURIComponent((a=s[d])!==null&&a!==void 0?a:"null"));l.uname=encodeURIComponent(o||"UNKNOWN");const u=this.getApiField("httpClient");u&&(l.httplib=encodeURIComponent(u.getClientName())),this._appInfo&&(l.application=this._appInfo),i(JSON.stringify(l))})},getAppInfoAsString(){if(!this._appInfo)return"";let s=this._appInfo.name;return this._appInfo.version&&(s+=`/${this._appInfo.version}`),this._appInfo.url&&(s+=` (${this._appInfo.url})`),s},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const s in op)Object.prototype.hasOwnProperty.call(op,s)&&(this[vse(s)]=new op[s](this))},_getPropsFromConfig(s){if(!s)return{};const i=typeof s=="string";if(!(s===Object(s)&&!Array.isArray(s))&&!i)throw new Error("Config must either be an object or a string");if(i)return{apiVersion:s};if(Object.keys(s).filter(l=>!kA.includes(l)).length>0)throw new Error(`Config object may only contain the following: ${kA.join(", ")}`);return s},parseThinEvent(s,i,o,a,l,u){return this.webhooks.constructEvent(s,i,o,a,l,u)}},r}const Wae=qae(new xte),Hae=new Wae("your_secret_key_here",{apiVersion:"2023-10-16"}),Kae=async t=>{try{return(await Hae.checkout.sessions.retrieve(t)).payment_status==="paid"}catch(e){return console.error("Error checking subscription status:",e),!1}};function Qae(){const t=ht(),{toast:e}=Gn(),[n]=Q$(),{user:r,refreshUser:s}=sr(),[i,o]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const l=n.get("session_id");if(!l)throw new Error("No session ID found");if(!await Kae(l))throw new Error("Payment verification failed");s&&await s(),e({title:"Subscription Successful!",description:"Thank you for subscribing. Your account has been upgraded."}),setTimeout(()=>{t("/dashboard")},3e3)}catch(l){console.error("Subscription verification error:",l),e({title:"Verification Failed",description:"There was an issue verifying your subscription. Please contact support.",variant:"destructive"}),setTimeout(()=>{t("/subscription")},3e3)}finally{o(!1)}})()},[t,e,n,s]),c.jsx("div",{className:"container py-16",children:c.jsx("div",{className:"max-w-md mx-auto text-center",children:i?c.jsxs(c.Fragment,{children:[c.jsx(Tb,{className:"w-16 h-16 text-primary mx-auto mb-6 animate-spin"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifying Your Subscription"}),c.jsx("p",{className:"text-muted-foreground",children:"Please wait while we verify your payment..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Eb,{className:"w-16 h-16 text-primary mx-auto mb-6 animate-bounce"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Subscription Successful!"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Thank you for subscribing. You will be redirected to the dashboard shortly."})]})})})}function Yae(){const t=ht(),{toast:e}=Gn();return g.useEffect(()=>{e({title:"Subscription Cancelled",description:"Your subscription was not completed. You can try again anytime.",variant:"destructive"})},[e]),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neon-purple to-black p-8 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(_O,{className:"w-24 h-24 text-red-500 mx-auto mb-8"}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Subscription Cancelled"}),c.jsx("p",{className:"text-white/60 text-lg mb-8",children:"Your subscription was not completed. You can try again anytime."}),c.jsx(ee,{onClick:()=>t("/subscription"),className:"bg-neon-green hover:bg-neon-green/90 text-black",children:"Try Again"})]})})}const Jae="AIzaSyDiItOTczdKCepW0lK00uOWPT0_Hnxeil0",Xae="AIzaSyAwiGukfOr_iivWBM1YrmseRZNqA5i_vPQ",Zae=new Dv(Jae),Rh=Zae.getGenerativeModel({model:"gemini-pro"}),I5=t=>{try{if(console.log("Extracting video ID from URL:",t),!t.startsWith("http://")&&!t.startsWith("https://"))throw new Error("URL must start with http:// or https://");const e=new URL(t);let n="";if(e.hostname==="youtu.be"?(n=e.pathname.slice(1),console.log("Extracted video ID from youtu.be format:",n)):e.hostname.includes("youtube.com")&&e.pathname.startsWith("/embed/")?(n=e.pathname.split("/embed/")[1],console.log("Extracted video ID from embed format:",n)):e.hostname.includes("youtube.com")&&(n=e.searchParams.get("v")||"",console.log("Extracted video ID from youtube.com format:",n)),n=n.split("&")[0],n=n.split("?")[0],n=n.split("#")[0],!n||!/^[a-zA-Z0-9_-]{11}$/.test(n))throw new Error("Invalid YouTube video ID. Please check your URL format.");return n}catch(e){throw console.error("Error extracting video ID:",e),e instanceof Error?e.message.includes("Invalid URL")?new Error("Please enter a complete URL including https:// or http://"):e:new Error("Failed to extract video ID from URL")}},C5=async t=>{console.log("Attempting to fetch video details for ID:",t);try{const e=new URL("https://youtube.googleapis.com/youtube/v3/videos");e.searchParams.append("part","snippet"),e.searchParams.append("id",t),e.searchParams.append("key",Xae),console.log("Making request to YouTube API...");const n=await fetch(e.toString(),{method:"GET",headers:{Accept:"application/json"}}),r=await n.json();if(console.log("Response status:",n.status),!n.ok)throw r.error?(console.error("YouTube API error details:",JSON.stringify(r.error,null,2)),r.error.code===403?r.error.message.includes("quota")?new Error("YouTube API quota exceeded. Please try again later."):new Error("YouTube API key is not authorized. Please check API key configuration."):r.error.code===400?r.error.message.includes("API key not valid")?new Error("Invalid YouTube API key. Please check your API key configuration in the .env file."):new Error("Invalid request to YouTube API. Please check the video URL."):new Error(`YouTube API error: ${r.error.message||"Unknown error"}`)):new Error(`Failed to fetch video details. Status: ${n.status}`);if(!r.items||r.items.length===0)throw new Error("Video not found on YouTube. Please check the URL and try again.");return console.log("Successfully fetched video details"),{title:r.items[0].snippet.title,description:r.items[0].snippet.description,channelTitle:r.items[0].snippet.channelTitle}}catch(e){throw console.error("Full error details:",e),e instanceof Error?e:new Error("Failed to fetch video details. Please check your YouTube URL and try again.")}},ele=async t=>{try{const e=`Create educational flashcards for studying "${t}". 
    Create exactly 5 flashcards that test understanding of key concepts.
    Return ONLY a JSON array without any markdown formatting or explanation. Each flashcard must have:
    - 'term': a clear question or concept
    - 'definition': a complete and accurate explanation
    
    Example format:
    [{"term": "What is photosynthesis?", "definition": "The process by which plants convert sunlight into chemical energy"}]
    
    Important: Return ONLY the JSON array, no other text or formatting.`,s=(await(await Rh.generateContent(e)).response).text().trim();try{const i=s.replace(/^```json\n|\n```$/g,"").trim(),o=JSON.parse(i);if(!Array.isArray(o))throw new Error("Invalid response format");if(!o.every(l=>typeof l=="object"&&l!==null&&typeof l.term=="string"&&typeof l.definition=="string"))throw new Error("Invalid flashcard format");return o}catch(i){throw console.error("Error parsing flashcards:",i),new Error("Failed to generate valid flashcards. Please try again.")}}catch(e){throw console.error("Error generating flashcards:",e),new Error("Failed to generate flashcards. Please try again.")}},tle=async t=>{try{const e=I5(t),n=await C5(e),r=`Create educational flashcards based on this YouTube video:
    Title: ${n.title}
    Channel: ${n.channelTitle}
    Description: ${n.description}

    Create 5 flashcards that test understanding of the key concepts from this video.
    Format the response as a valid JSON array with exactly this format, no markdown or code blocks:
    [{"term": "question here", "definition": "answer here"}]`,o=(await(await Rh.generateContent(r)).response).text();try{const a=o.replace(/```json\n|\n```/g,"").trim(),l=JSON.parse(a);if(!Array.isArray(l)||!l.every(u=>typeof u=="object"&&"term"in u&&"definition"in u))throw new Error("Invalid response format");return l}catch(a){throw console.error("Error parsing flashcards:",a),new Error("Failed to generate valid flashcards. Please try again.")}}catch(e){throw console.error("Error generating flashcards from YouTube:",e),e instanceof Error?e:new Error("Failed to generate flashcards. Please try again.")}},nle=async t=>{try{const e=I5(t);if(!e)throw new Error("Invalid YouTube URL");const r=`Create 5 multiple choice questions based on this video: "${(await C5(e)).title}"
    
Instructions:
1. Each question must have EXACTLY 4 options
2. IMPORTANT: The correctAnswer must be the FULL TEXT of one of the options, not just A, B, C, or D
3. Include a brief explanation for each answer
4. Format each question like this:
{
  "question": "What is Python?",
  "options": [
    "A programming language",
    "A type of snake",
    "A mathematical concept",
    "A database system"
  ],
  "correctAnswer": "A programming language",
  "explanation": "Python is a high-level programming language..."
}

Return exactly 5 questions in a JSON array.
Do not use any special characters or line breaks in the text fields.
Make sure all quotes are properly escaped.
Remember: correctAnswer must be the EXACT FULL TEXT of the correct option.`,s=await Rh.generateContent(r);if(!s.response)throw new Error("Failed to generate quiz content");const i=s.response.text();console.log("Raw response:",i);try{const a=(l=>{let u=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();try{return JSON.parse(u)}catch{u=u.replace(/\[\s+/g,"[").replace(/\s+\]/g,"]").replace(/{\s+/g,"{").replace(/\s+}/g,"}").replace(/[""]/g,'"').replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/"\s*:\s*/g,'":').replace(/,\s*([\]}])/g,"$1").replace(/\n/g," ");try{return JSON.parse(u)}catch(p){const f=u.match(/\[[\s\S]*\]/);if(f)return JSON.parse(f[0]);throw p}}})(i);if(!Array.isArray(a))throw new Error("Response is not an array");return a.map((l,u)=>{if(!(l!=null&&l.question)||!Array.isArray(l==null?void 0:l.options)||!(l!=null&&l.correctAnswer)||!(l!=null&&l.explanation))throw new Error(`Question ${u+1} is missing required fields`);const d={question:String(l.question).trim(),options:l.options.map(m=>String(m).trim()),correctAnswer:String(l.correctAnswer).trim(),explanation:String(l.explanation).trim()};if(d.options.length!==4)throw new Error(`Question ${u+1} must have exactly 4 options`);if(new Set(d.options).size!==4)throw new Error(`Question ${u+1} has duplicate options`);if(!d.options.includes(d.correctAnswer)&&/^[A-D]$/.test(d.correctAnswer)){const m=d.correctAnswer.charCodeAt(0)-65;m>=0&&m<d.options.length&&(d.correctAnswer=d.options[m])}if(!d.options.includes(d.correctAnswer))throw console.error(`Question ${u+1} validation failed:`,{options:d.options,correctAnswer:d.correctAnswer}),new Error(`Question ${u+1}'s correct answer does not match any option exactly`);return d})}catch(o){throw console.error("Error parsing quiz questions:",o),console.error("Raw response:",i),new Error("Failed to parse quiz response. Please try again.")}}catch(e){throw console.error("Error generating quiz from YouTube:",e),e instanceof Error?e:new Error("Failed to generate quiz. Please try again.")}},rle=async t=>{if(!t)throw new Error("No text provided for summarization");try{const e=`Summarize the following text in a clear and concise way: ${t}`;return(await(await Rh.generateContent(e)).response).text()}catch(e){throw console.error("Error generating summary:",e),new Error("Failed to generate summary. Please try again.")}},sle=async(t,e)=>{const n=e.easy+e.medium+e.hard,r=Math.ceil(n/t.length);try{const s=`Generate a mock test with EXACTLY ${n} multiple-choice questions.

STRICT REQUIREMENTS:
1. EXACT Difficulty Distribution (most important):
   - Easy: ${e.easy} questions
   - Medium: ${e.medium} questions
   - Hard: ${e.hard} questions

2. Topics Distribution:
   Topics: ${t.map(o=>`"${o}"`).join(", ")}
   - Each topic should have ${r} questions (1)
   - Ensure even distribution across topics

3. Question Format:
   {
     "question": "Clear question text",
     "options": ["Option A", "Option B", "Option C", "Option D"],
     "correctAnswer": "Must match one option exactly",
     "explanation": "Brief explanation",
     "difficulty": "easy|medium|hard",
     "topic": "Must match topic exactly"
   }

CRITICAL VALIDATION RULES:
1. MUST have exactly:
   - ${e.easy} easy questions
   - ${e.medium} medium questions
   - ${e.hard} hard questions
2. Topic names must match exactly (case-sensitive)
3. Each topic must have ${r} questions (1)
4. Correct answer must match one option exactly
5. All options must be unique and plausible

Return ONLY a JSON array. No other text or formatting.

Example format:
[
  {
    "question": "What is React's virtual DOM?",
    "options": [
      "A lightweight copy of the actual DOM",
      "A browser extension for React",
      "A CSS framework",
      "A JavaScript library"
    ],
    "correctAnswer": "A lightweight copy of the actual DOM",
    "explanation": "Virtual DOM is React's lightweight representation of the actual DOM",
    "difficulty": "medium",
    "topic": "${t[0]}"
  }
]`;let i=await OA(s,t,e);if(!i){const o=`${s}

IMPORTANT: Focus on EXACT difficulty counts first:
- ${e.easy} easy
- ${e.medium} medium
- ${e.hard} hard`;if(i=await OA(o,t,e),!i)throw new Error("Failed to generate questions with correct distribution after multiple attempts")}return i.map(o=>({...o,id:Date.now().toString()+Math.random().toString(36).substr(2,9)}))}catch(s){throw console.error("Error generating questions:",s),s instanceof Error?s:new Error("Failed to generate questions. Please try again.")}};async function OA(t,e,n,r=3){for(let s=1;s<=r;s++)try{let a=(await(await Rh.generateContent(t)).response).text().trim();a.startsWith("```")&&(a=a.replace(/^```json?\s*/,"").replace(/\s*```$/,""));const l=JSON.parse(a);if(!ile(l,e,n)){if(s===r)return null;continue}return l}catch{if(s===r)return null;await new Promise(o=>setTimeout(o,1e3))}return null}function ile(t,e,n){const r={easy:0,medium:0,hard:0},s=new Map;e.forEach(l=>s.set(l,0));for(const l of t){if(!l.question||!Array.isArray(l.options)||l.options.length!==4||!l.correctAnswer||!l.options.includes(l.correctAnswer)||!["easy","medium","hard"].includes(l.difficulty)||!e.includes(l.topic))return!1;r[l.difficulty]++,s.set(l.topic,(s.get(l.topic)||0)+1)}if(r.easy!==n.easy||r.medium!==n.medium||r.hard!==n.hard)return!1;const i=t.length,o=Math.floor(i/e.length),a=Math.ceil(i/e.length);for(const l of s.values())if(l<o||l>a)return!1;return!0}const ole="AIzaSyDiItOTczdKCepW0lK00uOWPT0_Hnxeil0",ale=new Dv(ole),lle=ale.getGenerativeModel({model:"gemini-pro"});async function cle(t,e=3){try{const n=t.performance.filter(l=>l.score<70).map(l=>l.topic),r=t.performance.filter(l=>l.score>=70).map(l=>l.topic),s=`You are an AI tutor creating personalized flashcards. Generate ${e} flashcards based on this student profile:

Learning Profile:
- Goals: ${t.goals.map(l=>`${l.topic} (${l.level})`).join(", ")}
- Areas needing improvement: ${n.join(", ")||"None identified"}
- Strong areas: ${r.join(", ")||"None identified"}

Generate flashcards that will help the student learn effectively. Focus more on weak topics if any are identified.

Return the response in this exact JSON format:
{
  "flashcards": [
    {
      "term": "question or concept",
      "definition": "detailed explanation or answer",
      "difficulty": "easy|medium|hard",
      "topic": "relevant subject area"
    }
  ]
}

Make sure the JSON is valid and properly formatted.`,a=(await(await lle.generateContent(s)).response).text();try{const u=JSON.parse(a).flashcards||[];if(!Array.isArray(u)||u.length===0)throw new Error("Invalid flashcards format");return u.map(d=>({term:String(d.term||""),definition:String(d.definition||""),difficulty:d.difficulty||"medium",topic:String(d.topic||"General"),relevanceScore:dle(d,t)}))}catch(l){return console.error("Error parsing AI response:",l),console.log("Raw AI response:",a),ule(e,t)}}catch(n){throw console.error("Error generating personalized flashcards:",n),new Error("Failed to generate personalized flashcards")}}function ule(t,e){const n=e.goals[0]||{topic:"General Learning",level:"beginner"};return Array.from({length:t},(r,s)=>({term:`${n.topic} Concept ${s+1}`,definition:`This is a basic concept in ${n.topic}. Please try generating flashcards again for more specific content.`,difficulty:"medium",topic:n.topic,relevanceScore:50}))}function dle(t,e){let n=50;const r=e.performance.find(i=>i.topic===t.topic);r?n-=r.score/2:n+=20;const s={easy:e.engagementMetrics.preferredLevel==="beginner"?20:-10,medium:e.engagementMetrics.preferredLevel==="intermediate"?20:0,hard:e.engagementMetrics.preferredLevel==="advanced"?20:-10};return n+=s[t.difficulty]||0,Math.max(0,Math.min(100,n))}const hle="AIzaSyDiItOTczdKCepW0lK00uOWPT0_Hnxeil0",fle=new Dv(hle);async function ple(t){try{const e=fle.getGenerativeModel({model:"gemini-pro"}),n=`Based on the user's context, generate 5 personalized topic recommendations.
    User Context:
    - Current Level: ${t.currentLevel}
    - Primary Interests: ${t.userInterests.primaryInterests.join(", ")}
    - Struggling Topics: ${t.userInterests.strugglingTopics.join(", ")}
    - Strong Topics: ${t.userInterests.strongTopics.join(", ")}
    
    Return the recommendations in this exact JSON format without any markdown or code blocks:
    [{"title": "Topic Title", "description": "Topic Description", "matchScore": 85, "difficulty": "medium", "prerequisites": ["topic1", "topic2"], "estimatedTimeMinutes": 30}]`,i=(await(await e.generateContent(n)).response).text();try{const o=i.replace(/```json\n|\n```/g,"").trim(),a=JSON.parse(o);if(!Array.isArray(a)||!a.every(l=>typeof l=="object"&&"title"in l&&"description"in l&&"matchScore"in l&&"difficulty"in l&&"prerequisites"in l&&"estimatedTimeMinutes"in l))throw new Error("Invalid recommendation format");return a.map(l=>({...l,matchScore:Math.min(100,Math.max(0,l.matchScore)),difficulty:l.difficulty}))}catch(o){return console.error("Error parsing recommendations:",o),DA(t)}}catch(e){return console.error("Error generating topic recommendations:",e),DA(t)}}function DA(t){return[{id:"1",name:t.userInterests.primaryInterests[0]||"Getting Started",description:"Introduction to key concepts and fundamentals",matchScore:90,difficulty:"easy",prerequisites:[],estimatedTimeMinutes:30},{id:"2",name:"Building Blocks",description:"Essential components and patterns",matchScore:85,difficulty:"easy",prerequisites:["Getting Started"],estimatedTimeMinutes:45},{id:"3",name:"Common Challenges",description:"Addressing frequent problems and solutions",matchScore:80,difficulty:"medium",prerequisites:["Building Blocks"],estimatedTimeMinutes:60},{id:"4",name:"Advanced Concepts",description:"Deep dive into complex topics",matchScore:75,difficulty:"hard",prerequisites:["Common Challenges"],estimatedTimeMinutes:90}]}const mle={id:"1",goals:[{topic:"Programming",level:"intermediate",description:"Learn Python programming fundamentals and intermediate concepts"}],performance:[{topic:"Variables",score:90,attempts:3,timeSpent:1200,lastAttempt:"2024-01-10T10:00:00Z"},{topic:"Loops",score:60,attempts:2,timeSpent:1800,lastAttempt:"2024-01-09T15:00:00Z"},{topic:"Functions",score:50,attempts:1,timeSpent:900,lastAttempt:"2024-01-08T14:00:00Z"}],engagementMetrics:{totalTimeSpent:3900,preferredLevel:"beginner",completedTopics:["Variables"],skippedTopics:["Classes"]}},gle=({card:t,isFlipped:e,onFlip:n,isPersonalized:r=!1})=>{const s=i=>{switch(i){case"easy":return"text-green-500";case"medium":return"text-yellow-500";case"hard":return"text-red-500";default:return""}};return c.jsx("div",{className:"flashcard-container",onClick:n,children:c.jsxs("div",{className:`flashcard ${e?"flipped":""}`,children:[c.jsx("div",{className:"card-face card-front",children:c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{className:"card-title",children:"Question"}),c.jsx("p",{className:"card-text",children:t.term}),r&&"difficulty"in t&&c.jsxs("span",{className:`mt-4 ${s(t.difficulty)}`,children:["Difficulty: ",t.difficulty]})]})}),c.jsx("div",{className:"card-face card-back",children:c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{className:"card-title",children:"Answer"}),c.jsx("p",{className:"card-text",children:t.definition}),r&&"topic"in t&&c.jsxs("p",{className:"mt-4 text-white/60",children:["Topic: ",t.topic]})]})})]})})},vle=()=>{ht();const[t,e]=g.useState(!1),[n,r]=g.useState("");g.useState("");const[s,i]=g.useState([]),[o,a]=g.useState(0),[l,u]=g.useState(!1),[d,p]=g.useState(!1);g.useState(3);const[f,m]=g.useState([]);g.useState(!1);const[y,w]=g.useState(""),[E,x]=g.useState(!1),[b,_]=g.useState(3),{toast:C}=Gn();g.useEffect(()=>{d&&O()},[d]);const O=async()=>{try{const A={learningGoals:[{id:"1",title:n||"Learning",description:`Master ${n||"the subject"}`,priority:"high",status:"in_progress"}],topicEngagement:[],userInterests:{primaryInterests:n?[n]:[],secondaryInterests:[],strugglingTopics:[],strongTopics:[]},completedTopics:[],currentLevel:"beginner"},N=await ple(A);m(N)}catch(A){console.error("Error loading recommendations:",A),C({title:"Error",description:"Failed to load recommendations",variant:"destructive"})}},M=async A=>{A.preventDefault();try{if(!y.trim()&&!d){C({title:"Error",description:"Please enter some text to generate flashcards.",variant:"destructive"});return}e(!0);let N;if(d)N=await cle(mle,b);else if(E){if(!y.includes("youtube.com")&&!y.includes("youtu.be"))throw new Error("Please enter a valid YouTube URL");N=await tle(y),N=N.slice(0,b)}else N=await ele(y),N=N.slice(0,b);i(N),d||w(""),a(0),u(!1),C({title:"Success!",description:"Flashcards generated successfully."})}catch(N){console.error("Error generating flashcards:",N),C({title:"Error",description:N instanceof Error?N.message:"Failed to generate flashcards. Please try again.",variant:"destructive"}),i([])}finally{e(!1)}},P=()=>{u(!1),a(A=>(A+1)%s.length)},S=()=>{u(!1),a(A=>(A-1+s.length)%s.length)},I=()=>{u(!l)};return c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-500",children:"Flashcards"}),c.jsx("p",{className:"text-lg text-white/60 mb-8",children:"Generate and study flashcards using AI"})]}),c.jsxs("div",{className:"mode-toggles",children:[c.jsxs("button",{className:`mode-toggle ${!d&&!E?"active":""}`,onClick:()=>{p(!1),x(!1)},children:[c.jsx(Rs,{className:"w-5 h-5"}),"Text Mode"]}),c.jsxs("button",{className:`mode-toggle ${E?"active":""}`,onClick:()=>{x(!0),p(!1)},children:[c.jsx(kO,{className:"w-5 h-5"}),"YouTube Mode"]}),c.jsxs("button",{className:`mode-toggle ${d?"active":""}`,onClick:()=>{p(!0),x(!1)},children:[c.jsx(AO,{className:"w-5 h-5"}),"Personalized Mode"]})]}),c.jsxs("form",{onSubmit:M,className:"input-container mb-8",children:[!d&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(fs,{htmlFor:"input",children:E?"YouTube Video URL":"Enter text to generate flashcards"}),c.jsx(Ft,{id:"input",value:y,onChange:A=>w(A.target.value),placeholder:E?"Paste YouTube URL here...":"Enter text or paste content here...",className:"input-field"})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.jsx(fs,{children:"Number of cards:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:()=>_(Math.max(1,b-1)),disabled:b<=1,children:c.jsx(dG,{className:"w-4 h-4"})}),c.jsx("span",{className:"w-8 text-center",children:b}),c.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:()=>_(Math.min(10,b+1)),disabled:b>=10,children:c.jsx(hG,{className:"w-4 h-4"})})]})]}),c.jsx(ee,{type:"submit",className:"w-full mt-4",disabled:t||!y&&!d,children:t?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),"Generating..."]}):c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(gs,{className:"w-5 h-5"}),"Generate Flashcards"]})})]}),s.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("div",{className:"flex justify-center mb-8",children:c.jsx("div",{className:"w-full max-w-2xl",children:c.jsx(gle,{card:s[o],isFlipped:l,onFlip:I,isPersonalized:d},`card-${o}`)})}),c.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[c.jsxs(ee,{onClick:S,disabled:o===0,variant:"outline",children:[c.jsx(q8,{className:"w-4 h-4 mr-2"}),"Previous"]}),c.jsxs(ee,{onClick:P,disabled:o===s.length-1,variant:"outline",children:["Next",c.jsx(wO,{className:"w-4 h-4 ml-2"})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${(o+1)/s.length*100}%`}})})})]}),d&&f.length>0&&c.jsxs("div",{className:"mt-12",children:[c.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[c.jsx(RO,{className:"w-5 h-5"}),"Recommended Topics"]}),c.jsx("div",{className:"recommendations",children:f.map((A,N)=>c.jsxs("div",{className:"recommendation-card",onClick:()=>{r(A.topic),M(new Event("submit"))},children:[c.jsx("h3",{className:"font-semibold mb-2",children:A.topic}),c.jsx("p",{className:"text-sm text-muted-foreground",children:A.reason})]},`${A.topic}-${N}`))})]})]})})},yle=({onSubmit:t,placeholder:e,maxLength:n,maxWords:r,isLink:s,difficulty:i})=>{const[o,a]=g.useState(""),[l,u]=g.useState([]),[d,p]=g.useState("medium"),[f,m]=g.useState(!1),y=E=>r?E.trim().split(/\s+/).length<=r:n?E.length<=n:s?E.startsWith("http://")||E.startsWith("https://"):!0,w=async()=>{if(!o.trim())return;if(!y(o)){alert(r?`Please limit your input to ${r} words`:n?`Please limit your input to ${n} characters`:"Please enter a valid URL");return}const E={role:"user",content:o};u(x=>[...x,E]),a(""),m(!0);try{let x;i?x=await t(o+"|"+d):x=await t(o);const b={role:"assistant",content:x};u(_=>[..._,b])}catch(x){console.error("Error in chat:",x);const b={role:"assistant",content:"Sorry, I encountered an error. Please try again."};u(_=>[..._,b])}finally{m(!1)}};return c.jsxs("div",{className:"flex flex-col h-[80vh] max-w-4xl mx-auto space-y-4",children:[c.jsxs("div",{className:"flex-1 overflow-auto space-y-4 scrollbar-thin scrollbar-thumb-emerald-500/20 scrollbar-track-black/20 p-4",children:[l.map((E,x)=>c.jsx(Pe,{className:`p-4 ${E.role==="assistant"?"bg-black/40 border-emerald-500/20":"bg-emerald-500/10 border-emerald-500/30"}`,children:c.jsxs("div",{className:"flex items-start space-x-3",children:[E.role==="assistant"?c.jsx(gs,{className:"w-6 h-6 text-emerald-400 mt-1"}):c.jsx(NO,{className:"w-6 h-6 text-emerald-400 mt-1"}),c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:"text-zinc-200 whitespace-pre-line",children:E.content})})]})},x)),f&&c.jsx(Pe,{className:"p-4 bg-black/40 border-emerald-500/20",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(gs,{className:"w-6 h-6 text-emerald-400"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Tb,{className:"w-4 h-4 text-emerald-400 animate-spin"}),c.jsx("p",{className:"text-zinc-400",children:"Thinking..."})]})]})})]}),c.jsxs("div",{className:"space-y-4 p-4 bg-black/20 rounded-lg",children:[i&&c.jsx("div",{className:"flex space-x-4",children:["easy","medium","hard"].map(E=>c.jsx(ee,{variant:d===E?"default":"outline",onClick:()=>p(E),className:`capitalize ${d===E?"bg-emerald-500 text-black":"border-emerald-500/20 text-emerald-400"}`,children:E},E))}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(od,{value:o,onChange:E=>a(E.target.value),placeholder:e,className:"flex-1 bg-black/40 border-emerald-500/20 text-zinc-200 placeholder:text-zinc-500 min-h-[100px]"}),c.jsx(ee,{onClick:w,disabled:f,className:"bg-emerald-500 text-black hover:bg-emerald-600 self-end h-10",children:"Send"})]}),(r||n)&&c.jsx("div",{className:"text-sm text-zinc-400 text-right",children:r?`${o.trim().split(/\s+/).length}/${r} words`:`${o.length}/${n} characters`})]})]})},xle=()=>{const{toast:t}=Gn(),e=async n=>{if(!n.trim())return t({title:"Empty Text",description:"Please enter some text to summarize.",variant:"destructive"}),"Please enter some text to summarize.";try{return await rle(n)}catch(r){return console.error("Error in handleSubmit:",r),t({title:"Error",description:"Failed to generate summary. Please try again.",variant:"destructive"}),"Sorry, I couldn't generate a summary. Please try again."}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neon-purple to-black p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-white mb-2 text-center",children:"AI Summary"}),c.jsx("p",{className:"text-zinc-400 text-center mb-8",children:"Enter your text and I'll create a concise summary"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs(Pe,{className:"p-4 bg-black/40 border-emerald-500/20 hover:border-emerald-500/40 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-emerald-400 mb-2",children:[c.jsx(Zo,{className:"w-5 h-5"}),c.jsx("h3",{className:"font-semibold",children:"Smart Summary"})]}),c.jsx("p",{className:"text-zinc-400 text-sm",children:"I'll analyze and summarize your text"})]}),c.jsxs(Pe,{className:"p-4 bg-black/40 border-emerald-500/20 hover:border-emerald-500/40 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-emerald-400 mb-2",children:[c.jsx(tG,{className:"w-5 h-5"}),c.jsx("h3",{className:"font-semibold",children:"Clear & Concise"})]}),c.jsx("p",{className:"text-zinc-400 text-sm",children:"Get straight to the main points"})]}),c.jsxs(Pe,{className:"p-4 bg-black/40 border-emerald-500/20 hover:border-emerald-500/40 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-emerald-400 mb-2",children:[c.jsx(eG,{className:"w-5 h-5"}),c.jsx("h3",{className:"font-semibold",children:"Easy to Read"})]}),c.jsx("p",{className:"text-zinc-400 text-sm",children:"Simple and straightforward summaries"})]})]}),c.jsx(yle,{onSubmit:e,placeholder:"Paste your text here (max 250 words)...",maxWords:250})]})})},jA="quiz_performance",wle=t=>{const e=localStorage.getItem(jA),n=e?JSON.parse(e):[];n.push(t),localStorage.setItem(jA,JSON.stringify(n))};function A5({attempt:t,onRetry:e}){const n=t.correctAnswers/t.totalQuestions*100,r=s=>{const i=Math.floor(s/60),o=s%60;return`${i}m ${o}s`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Pe,{className:"p-6 bg-black/40 border-emerald-500/20",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-zinc-200",children:"Quiz Results"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{className:"text-yellow-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Score"}),c.jsxs("p",{className:"text-xl font-bold text-zinc-200",children:[t.score,"/",t.totalQuestions]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Gg,{className:"text-blue-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Accuracy"}),c.jsxs("p",{className:"text-xl font-bold text-zinc-200",children:[n.toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zg,{className:"text-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Time Taken"}),c.jsx("p",{className:"text-xl font-bold text-zinc-200",children:r(t.timeTaken)})]})]})]}),c.jsx(nr,{value:n,className:"h-2"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-zinc-200",children:"Detailed Review"}),t.answers.map((s,i)=>c.jsxs(Pe,{className:`p-4 border-l-4 bg-black/40 border-emerald-500/20 ${s.isCorrect?"border-l-green-500":"border-l-red-500"}`,children:[c.jsx("p",{className:"font-medium mb-2 text-zinc-200",children:s.question.question}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("p",{className:"text-zinc-300",children:["Your answer: ",c.jsx("span",{className:s.isCorrect?"text-green-500":"text-red-500",children:s.userAnswer})]}),!s.isCorrect&&c.jsxs("p",{className:"text-green-500",children:["Correct answer: ",s.question.correctAnswer]}),c.jsx("p",{className:"text-zinc-400 mt-2",children:s.question.explanation})]})]},i))]}),c.jsx("div",{className:"flex gap-4",children:c.jsx(ee,{onClick:e,variant:"outline",className:"border-emerald-500/20 text-zinc-200 hover:bg-emerald-500/10",children:"Try Another Quiz"})})]})}const _le=()=>{ht();const{currentUser:t,userProfile:e}=sr(),[n,r]=g.useState(""),[s,i]=g.useState(!1),[o,a]=g.useState([]),[l,u]=g.useState(0),[d,p]=g.useState(null),[f,m]=g.useState(0),[y,w]=g.useState(!1),[E,x]=g.useState(null),[b,_]=g.useState(null),{toast:C}=Gn();g.useEffect(()=>{const P=localStorage.getItem("youtubeQuiz");if(P)try{const S=JSON.parse(P);if(Array.isArray(S)&&S.length>0){a(S),x(Date.now()),localStorage.removeItem("youtubeQuiz");return}}catch(S){console.error("Error parsing stored quiz:",S)}},[]);const O=async P=>{if(P.preventDefault(),!t){C({title:"Authentication Required",description:"Please sign in to generate quizzes.",variant:"destructive"});return}const S=n.trim();if(!S){C({title:"URL Required",description:"Please enter a valid YouTube URL",variant:"destructive"});return}i(!0);try{const I=await nle(S);a(I),x(Date.now()),i(!1)}catch(I){console.error("Error generating quiz:",I),C({title:"Error",description:"Failed to generate quiz. Please try again.",variant:"destructive"}),i(!1)}},M=async()=>{if(!d)return;const P=o[l],S=d===P.correctAnswer;if(S&&m(I=>I+1),l<o.length-1)u(I=>I+1),p(null);else{const I=Date.now(),A=Math.floor((I-(E||I))/1e3),N={id:`${t==null?void 0:t.uid}-${Date.now()}`,userId:(t==null?void 0:t.uid)||"",timestamp:new Date().toISOString(),timeTaken:A,score:f+(S?1:0),totalQuestions:o.length,correctAnswers:f+(S?1:0),answers:o.map((j,k)=>({questionIndex:k,question:j,userAnswer:k===l?d:"",isCorrect:k===l?S:!1}))};try{await wle(N),_(N),w(!0)}catch(j){console.error("Error saving quiz attempt:",j),C({title:"Error",description:"Failed to save quiz results",variant:"destructive"})}}};return y&&b?c.jsx("div",{className:"container py-8 space-y-8",children:c.jsx(A5,{questions:o,score:f,totalTime:E?Math.floor((Date.now()-E)/1e3):0,attempt:b,onTryAgain:()=>{a([]),u(0),p(null),m(0),w(!1),x(null),_(null)}})}):c.jsx("div",{className:"container py-8 space-y-8",children:o.length?c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"mb-8 space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-2xl font-semibold text-white",children:["Question ",l+1," of ",o.length]}),c.jsxs("div",{className:"flex items-center text-[#B3B3B3]",children:[c.jsx(Pb,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{children:[E?Math.floor((Date.now()-E)/1e3):0,"s"]})]})]}),c.jsx(nr,{value:(l+1)/o.length*100,className:"h-2",indicatorClassName:"bg-emerald-500"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Pe,{className:"p-6 bg-[#1E1E1E] border-[#333333]",children:[c.jsx("h3",{className:"text-xl font-medium text-white mb-4",children:o[l].question}),c.jsx("div",{className:"space-y-3",children:o[l].options.map((P,S)=>c.jsx("button",{onClick:()=>p(P),className:`w-full p-4 text-left rounded-lg border transition-all ${d===P?"border-emerald-500 bg-emerald-500/10 text-white":"border-[#333333] hover:border-emerald-500/50 text-[#B3B3B3] hover:text-white"}`,children:P},S))})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(ee,{onClick:M,disabled:!d,className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:l===o.length-1?"Finish Quiz":"Next Question"})})]})]}):c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h1",{className:"text-4xl font-bold text-white",children:"AI Video Quiz"}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Test your knowledge from the video content"})]}),c.jsxs("form",{onSubmit:O,className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(Ft,{type:"text",placeholder:"Paste YouTube URL here...",value:n,onChange:P=>r(P.target.value),className:"w-full pr-32 bg-[#1E1E1E] border-[#333333] text-white placeholder-[#666666]"}),c.jsxs(ee,{type:"submit",disabled:s||!n,className:"absolute right-0 bg-emerald-500 hover:bg-emerald-600 text-white",children:[c.jsx(kO,{className:"w-4 h-4 mr-2"}),"Generate Quiz"]})]}),c.jsx("div",{className:"absolute inset-0 rounded-lg transition-opacity duration-500",style:{boxShadow:"0 0 15px rgba(16,185,129,0.1)",pointerEvents:"none",opacity:s?1:0}})]}),s&&c.jsxs("div",{className:"flex items-center justify-center p-8",children:[c.jsx(gs,{className:"w-8 h-8 text-emerald-500 animate-bounce"}),c.jsx("p",{className:"ml-3 text-[#B3B3B3]",children:"Generating quiz questions..."})]})]}),(e==null?void 0:e.recentQuizAttempts)&&e.recentQuizAttempts.length>0&&c.jsxs("div",{className:"mt-12 space-y-4",children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Recent Attempts"}),c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.recentQuizAttempts.map((P,S)=>c.jsxs("div",{className:"p-6 rounded-lg bg-[#1E1E1E] border border-[#333333] hover:border-emerald-500/50 transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:"font-medium text-white truncate",children:P.videoTitle||"YouTube Video Quiz"}),c.jsxs("p",{className:"text-sm text-[#B3B3B3]",children:["Score: ",P.score,"/",P.totalQuestions]})]}),P.score/P.totalQuestions>=.7?c.jsx(H8,{className:"w-5 h-5 text-emerald-500"}):c.jsx(_O,{className:"w-5 h-5 text-red-500"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(nr,{value:P.score/P.totalQuestions*100,className:"h-2",indicatorClassName:P.score/P.totalQuestions>=.7?"bg-emerald-500":"bg-red-500"}),c.jsxs("div",{className:"flex justify-between text-xs text-[#B3B3B3]",children:[c.jsxs("span",{children:["Completed ",new Date(P.completedAt).toLocaleDateString()]}),c.jsxs("span",{children:[Math.round(P.score/P.totalQuestions*100),"%"]})]})]})]},S))})]})]})})};function R5(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gE="Checkbox",[ble,wce]=Ls(gE),[Ele,Tle]=ble(gE),N5=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...p}=t,[f,m]=g.useState(null),y=Ne(e,C=>m(C)),w=g.useRef(!1),E=f?d||!!f.closest("form"):!0,[x=!1,b]=ya({prop:s,defaultProp:i,onChange:u}),_=g.useRef(x);return g.useEffect(()=>{const C=f==null?void 0:f.form;if(C){const O=()=>b(_.current);return C.addEventListener("reset",O),()=>C.removeEventListener("reset",O)}},[f,b]),c.jsxs(Ele,{scope:n,state:x,disabled:a,children:[c.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":Ui(x)?"mixed":x,"aria-required":o,"data-state":D5(x),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:y,onKeyDown:ie(t.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ie(t.onClick,C=>{b(O=>Ui(O)?!0:!O),E&&(w.current=C.isPropagationStopped(),w.current||C.stopPropagation())})}),E&&c.jsx(Sle,{control:f,bubbles:!w.current,name:r,value:l,checked:x,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ui(i)?!1:i})]})});N5.displayName=gE;var k5="CheckboxIndicator",O5=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Tle(k5,n);return c.jsx(fn,{present:r||Ui(i.state)||i.state===!0,children:c.jsx(ve.span,{"data-state":D5(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});O5.displayName=k5;var Sle=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=g.useRef(null),a=R5(n),l=sb(e);g.useEffect(()=>{const d=o.current,p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&m){const y=new Event("click",{bubbles:r});d.indeterminate=Ui(n),m.call(d,Ui(n)?!1:n),d.dispatchEvent(y)}},[a,n,r]);const u=g.useRef(Ui(n)?!1:n);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ui(t){return t==="indeterminate"}function D5(t){return Ui(t)?"indeterminate":t?"checked":"unchecked"}var j5=N5,Ple=O5;const M5=g.forwardRef(({className:t,...e},n)=>c.jsx(j5,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(Ple,{className:se("flex items-center justify-center text-current"),children:c.jsx(xc,{className:"h-4 w-4"})})}));M5.displayName=j5.displayName;var L5=["PageUp","PageDown"],V5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],F5={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Pc="Slider",[Qw,Ile,Cle]=hb(Pc),[$5,_ce]=Ls(Pc,[Cle]),[Ale,Uv]=$5(Pc),U5=g.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:p=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:y,...w}=t,E=g.useRef(new Set),x=g.useRef(0),_=o==="horizontal"?Rle:Nle,[C=[],O]=ya({prop:d,defaultProp:u,onChange:N=>{var k;(k=[...E.current][x.current])==null||k.focus(),p(N)}}),M=g.useRef(C);function P(N){const j=Mle(C,N);A(N,j)}function S(N){A(N,x.current)}function I(){const N=M.current[x.current];C[x.current]!==N&&f(C)}function A(N,j,{commit:k}={commit:!1}){const J=$le(i),ue=Ule(Math.round((N-r)/i)*i+r,J),ne=Q1(ue,[r,s]);O((de=[])=>{const F=Dle(de,ne,j);if(Fle(F,l*i)){x.current=F.indexOf(ne);const U=String(F)!==String(de);return U&&k&&f(F),U?F:de}else return de})}return c.jsx(Ale,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:x,thumbs:E.current,values:C,orientation:o,form:y,children:c.jsx(Qw.Provider,{scope:t.__scopeSlider,children:c.jsx(Qw.Slot,{scope:t.__scopeSlider,children:c.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...w,ref:e,onPointerDown:ie(w.onPointerDown,()=>{a||(M.current=C)}),min:r,max:s,inverted:m,onSlideStart:a?void 0:P,onSlideMove:a?void 0:S,onSlideEnd:a?void 0:I,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(s,C.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:j})=>{if(!a){const ue=L5.includes(N.key)||N.shiftKey&&V5.includes(N.key)?10:1,ne=x.current,de=C[ne],F=i*ue*j;A(de+F,ne,{commit:!0})}}})})})})});U5.displayName=Pc;var[B5,z5]=$5(Pc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Rle=g.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=t,[p,f]=g.useState(null),m=Ne(e,_=>f(_)),y=g.useRef(),w=ch(s),E=w==="ltr",x=E&&!i||!E&&i;function b(_){const C=y.current||p.getBoundingClientRect(),O=[0,C.width],P=vE(O,x?[n,r]:[r,n]);return y.current=C,P(_-C.left)}return c.jsx(B5,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(G5,{dir:w,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const C=b(_.clientX);o==null||o(C)},onSlideMove:_=>{const C=b(_.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:_=>{const O=F5[x?"from-left":"from-right"].includes(_.key);u==null||u({event:_,direction:O?-1:1})}})})}),Nle=g.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,d=g.useRef(null),p=Ne(e,d),f=g.useRef(),m=!s;function y(w){const E=f.current||d.current.getBoundingClientRect(),x=[0,E.height],_=vE(x,m?[r,n]:[n,r]);return f.current=E,_(w-E.top)}return c.jsx(B5,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(G5,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const E=y(w.clientY);i==null||i(E)},onSlideMove:w=>{const E=y(w.clientY);o==null||o(E)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:w=>{const x=F5[m?"from-bottom":"from-top"].includes(w.key);l==null||l({event:w,direction:x?-1:1})}})})}),G5=g.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,d=Uv(Pc,n);return c.jsx(ve.span,{...u,ref:e,onKeyDown:ie(t.onKeyDown,p=>{p.key==="Home"?(o(p),p.preventDefault()):p.key==="End"?(a(p),p.preventDefault()):L5.concat(V5).includes(p.key)&&(l(p),p.preventDefault())}),onPointerDown:ie(t.onPointerDown,p=>{const f=p.target;f.setPointerCapture(p.pointerId),p.preventDefault(),d.thumbs.has(f)?f.focus():r(p)}),onPointerMove:ie(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&s(p)}),onPointerUp:ie(t.onPointerUp,p=>{const f=p.target;f.hasPointerCapture(p.pointerId)&&(f.releasePointerCapture(p.pointerId),i(p))})})}),q5="SliderTrack",W5=g.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Uv(q5,n);return c.jsx(ve.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});W5.displayName=q5;var Yw="SliderRange",H5=g.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Uv(Yw,n),i=z5(Yw,n),o=g.useRef(null),a=Ne(e,o),l=s.values.length,u=s.values.map(f=>Q5(f,s.min,s.max)),d=l>1?Math.min(...u):0,p=100-Math.max(...u);return c.jsx(ve.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:p+"%"}})});H5.displayName=Yw;var Jw="SliderThumb",K5=g.forwardRef((t,e)=>{const n=Ile(t.__scopeSlider),[r,s]=g.useState(null),i=Ne(e,a=>s(a)),o=g.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(kle,{...t,ref:i,index:o})}),kle=g.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Uv(Jw,n),a=z5(Jw,n),[l,u]=g.useState(null),d=Ne(e,b=>u(b)),p=l?o.form||!!l.closest("form"):!0,f=sb(l),m=o.values[r],y=m===void 0?0:Q5(m,o.min,o.max),w=jle(r,o.values.length),E=f==null?void 0:f[a.size],x=E?Lle(E,y,a.direction):0;return g.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${x}px)`},children:[c.jsx(Qw.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(ve.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:ie(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),p&&c.jsx(Ole,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});K5.displayName=Jw;var Ole=t=>{const{value:e,...n}=t,r=g.useRef(null),s=R5(e);return g.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&l){const u=new Event("input",{bubbles:!0});l.call(i,e),i.dispatchEvent(u)}},[s,e]),c.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function Dle(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function Q5(t,e,n){const i=100/(n-e)*(t-e);return Q1(i,[0,100])}function jle(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Mle(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function Lle(t,e,n){const r=t/2,i=vE([0,50],[0,r]);return(r-i(e)*n)*n}function Vle(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Fle(t,e){if(e>0){const n=Vle(t);return Math.min(...n)>=e}return!0}function vE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function $le(t){return(String(t).split(".")[1]||"").length}function Ule(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Y5=U5,Ble=W5,zle=H5,Gle=K5;const J5=g.forwardRef(({className:t,...e},n)=>c.jsxs(Y5,{ref:n,className:se("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(Ble,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(zle,{className:"absolute h-full bg-primary"})}),c.jsx(Gle,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));J5.displayName=Y5.displayName;const qle=[{id:"js",name:"JavaScript",description:"Core JavaScript concepts and modern features",subtopics:["Basics","ES6+","Async Programming","DOM Manipulation"]},{id:"react",name:"React",description:"React fundamentals and advanced concepts",subtopics:["Components","Hooks","State Management","Performance"]},{id:"ts",name:"TypeScript",description:"TypeScript fundamentals and best practices",subtopics:["Types","Interfaces","Generics","Advanced Types"]}];function Wle({onTestGenerated:t,isLoading:e}){const[n,r]=g.useState([]),[s,i]=g.useState(30),{toast:o}=Gn(),a=()=>{if(n.length===0){o({title:"No Topics Selected",description:"Please select at least one topic for the test.",variant:"destructive"});return}t(n,s)};return c.jsx(Pe,{className:"p-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rs,{className:"h-6 w-6"}),c.jsx("h2",{className:"text-2xl font-bold",children:"Generate Mock Test"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select Topics"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:qle.map(l=>c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(M5,{id:l.id,checked:n.includes(l.id),onCheckedChange:u=>{r(d=>u?[...d,l.id]:d.filter(p=>p!==l.id))},disabled:e}),c.jsxs("div",{className:"grid gap-1.5 leading-none",children:[c.jsx(fs,{htmlFor:l.id,children:l.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]})]},l.id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Pb,{className:"h-5 w-5"}),c.jsxs("h3",{className:"text-lg font-medium",children:["Test Duration: ",s," minutes"]})]}),c.jsx(J5,{value:[s],onValueChange:([l])=>i(l),min:15,max:60,step:15,className:"w-full max-w-xs",disabled:e})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ee,{onClick:a,disabled:n.length===0||e,className:"w-full max-w-xs",children:e?c.jsxs(c.Fragment,{children:[c.jsx(Tb,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Test..."]}):"Generate Test"}),n.length===0&&c.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[c.jsx(W8,{className:"h-4 w-4"}),c.jsx("span",{children:"Select at least one topic to generate a test"})]})]})]})]})})}try{MM(Ta).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")})}catch(t){console.warn("Error enabling persistence:",t)}const Hle="mockTests",Kle="mockTestAttempts",K0=async(t,e)=>{try{const r=await sle(t,{easy:e==="easy"?3:0,medium:e==="medium"?4:0,hard:e==="hard"?3:0});if(!r||r.length===0)throw new Error("Failed to generate questions");return r}catch(n){throw console.error("Error generating questions:",n),new Error("Failed to generate quiz questions. Please try again.")}},Qle=async(t,e,n)=>{try{const r=await K0(t,"easy"),s=await K0(t,"medium"),i=await K0(t,"hard"),o=[...r.slice(0,3),...s.slice(0,4),...i.slice(0,3)],a={id:"",userId:n,title:`Mock Test - ${t.join(", ")}`,description:`A ${e}-minute mock test covering ${t.join(", ")}`,topics:t,questions:o,duration:e,createdAt:Date.now()},l=Eh(OM(Ta,Hle));return await C1(l,{...a,id:l.id}),{...a,id:l.id}}catch(r){throw console.error("Error generating mock test:",r),r}},Yle=async t=>{try{const e=Eh(OM(Ta,Kle));await C1(e,{...t,id:e.id,timestamp:new Date().toISOString()})}catch(e){throw console.error("Error saving mock test attempt:",e),e}},Jle=(t,e)=>{try{const n=new Map(e.map(s=>[s.questionId,s])),r=new Map;return t.forEach(s=>{const i=s.topic,o=n.get(s.id),a=r.get(i)||{total:0,correct:0,totalTime:0};a.total+=1,o&&(o.isCorrect&&(a.correct+=1),a.totalTime+=o.timeSpent),r.set(i,a)}),Array.from(r.entries()).map(([s,i])=>({topic:s,totalQuestions:i.total,correctAnswers:i.correct,accuracy:i.correct/i.total*100,averageTimePerQuestion:i.totalTime/i.total}))}catch(n){throw console.error("Error calculating topic performance:",n),new Error("Failed to calculate topic performance")}};function Xle(){const[t,e]=g.useState(null),[n,r]=g.useState(0),[s,i]=g.useState(null),[o,a]=g.useState([]),[l,u]=g.useState(null),[d,p]=g.useState(null),[f,m]=g.useState(!1),[y,w]=g.useState(null),[E,x]=g.useState(!1),{toast:b}=Gn(),{currentUser:_,userProfile:C}=sr();g.useEffect(()=>()=>{e(null),w(null),m(!1),a([]),i(null),u(null),p(null)},[]),g.useEffect(()=>{if(t&&l&&d!==null){const A=setInterval(()=>{const N=Date.now(),j=Math.floor((N-l)/1e3),k=Math.max(0,t.duration*60-j);p(k),k===0&&!f&&S()},1e3);return()=>clearInterval(A)}},[t,l,d,f]);const O=async(A,N)=>{if(!_){b({title:"Login Required",description:"Please log in to take a mock test.",variant:"destructive"});return}x(!0);try{const j=await Qle(A,N,_.uid);e(j),u(Date.now()),p(j.duration*60),r(0),i(null),a([]),m(!1),w(null),b({title:"Test Started",description:`You have ${j.duration} minutes to complete ${j.questions.length} questions.`})}catch(j){console.error("Error generating test:",j),b({title:"Error",description:"Failed to generate test. Please try again.",variant:"destructive"})}finally{x(!1)}},M=A=>{s||(i(A),b({title:"Answer Selected",description:"Click 'Next Question' to continue."}))},P=()=>{if(!t||s===null)return;const A=Date.now(),N=l+o.reduce((J,ue)=>J+ue.timeSpent*1e3,0),j=Math.floor((A-N)/1e3),k={questionId:t.questions[n].id,userAnswer:s,isCorrect:s===t.questions[n].correctAnswer,timeSpent:j};a(J=>[...J,k]),n<t.questions.length-1?(r(J=>J+1),i(null)):S()},S=async()=>{if(!t||!l||!_)return;const A=Date.now(),N=Math.floor((A-l)/1e3),j=t.questions.map((ue,ne)=>{const de=o[ne];return de||{questionId:ue.id,userAnswer:"",isCorrect:!1,timeSpent:0}}),k=j.filter(ue=>ue.isCorrect).length/t.questions.length*100,J={id:"",userId:_.uid,testId:t.id,startTime:l,endTime:A,timestamp:Date.now(),score:k,questions:j,topicPerformance:Jle(t.questions,j),overallScore:k,totalTime:N};try{await Yle(J),w(J),m(!0),b({title:"Test Completed!",description:`Your score: ${Math.round(k)}%`})}catch{b({title:"Error",description:"Failed to save test results. Please try again.",variant:"destructive"})}},I=A=>{if(A===null)return"--:--";const N=Math.floor(A/60),j=A%60;return`${N.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`};return t?y?c.jsx("div",{className:"container mx-auto py-6 space-y-6",children:c.jsx(A5,{attempt:{id:y.id,timestamp:y.startTime,timeTaken:y.totalTime,score:y.overallScore,totalQuestions:t.questions.length,correctAnswers:y.questions.filter(A=>A.isCorrect).length,answers:y.questions.map((A,N)=>({questionIndex:N,userAnswer:A.userAnswer,isCorrect:A.isCorrect,question:t.questions[N]})),topicPerformance:y.topicPerformance},onRetry:()=>{e(null),w(null)}})}):c.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pb,{className:"w-5 h-5"}),c.jsx("span",{className:"text-lg font-semibold",children:I(d)})]}),c.jsx(nr,{value:n/t.questions.length*100}),c.jsxs("span",{className:"text-sm",children:["Question ",n+1," of ",t.questions.length]})]}),c.jsxs(Pe,{className:"p-6 space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold",children:t.questions[n].question}),c.jsx("div",{className:"space-y-4",children:t.questions[n].options.map((A,N)=>c.jsx(ee,{variant:s===A?"default":"outline",className:"w-full justify-start text-left",onClick:()=>M(A),disabled:s!==null&&s!==A,children:A},N))}),s&&c.jsx(ee,{className:"w-full",onClick:P,children:n<t.questions.length-1?"Next Question":"Finish Test"})]}),d!==null&&d<300&&c.jsxs("div",{className:"flex items-center space-x-2 text-yellow-500",children:[c.jsx(yG,{className:"w-5 h-5"}),c.jsx("span",{children:"Less than 5 minutes remaining!"})]})]}):c.jsx("div",{className:"container mx-auto py-6",children:c.jsx(Wle,{onTestGenerated:O,isLoading:E})})}const Zle=new xz;function ece(){const{currentUser:t}=sr();return t?c.jsx(J_,{to:"/dashboard",replace:!0}):c.jsx(HZ,{})}function tce(){return g.useEffect(()=>{document.documentElement.classList.add("dark")},[]),c.jsx(_z,{client:Zle,children:c.jsx(UX,{children:c.jsx(ku,{children:c.jsx(G$,{children:c.jsxs("div",{className:"min-h-screen bg-[#060913]",children:[c.jsx(tZ,{}),c.jsx(uZ,{children:c.jsx("div",{className:"pt-16",children:c.jsxs(M$,{children:[c.jsx(pe,{path:"/",element:c.jsx(ece,{})}),c.jsx(pe,{path:"/login",element:c.jsx(fZ,{})}),c.jsx(pe,{path:"/register",element:c.jsx(yZ,{})}),c.jsx(pe,{path:"/dashboard",element:c.jsx(we,{children:c.jsx(Xee,{})})}),c.jsx(pe,{path:"/leaderboard",element:c.jsxs(we,{children:[c.jsx(Zee,{})," // Update import to default import"]})}),c.jsx(pe,{path:"/profile",element:c.jsx(we,{children:c.jsx(tte,{})})}),c.jsx(pe,{path:"/ai",element:c.jsx(we,{children:c.jsx(nte,{})})}),c.jsx(pe,{path:"/subscription",element:c.jsx(we,{children:c.jsx(pte,{})})}),c.jsx(pe,{path:"/subscription/success",element:c.jsx(we,{children:c.jsx(Qae,{})})}),c.jsx(pe,{path:"/subscription/cancel",element:c.jsx(we,{children:c.jsx(Yae,{})})}),c.jsx(pe,{path:"/flashcards",element:c.jsx(we,{children:c.jsx(vle,{})})}),c.jsx(pe,{path:"/summary",element:c.jsx(we,{children:c.jsx(xle,{})})}),c.jsx(pe,{path:"/quiz",element:c.jsx(we,{children:c.jsx(_le,{})})}),c.jsx(pe,{path:"/mock-test",element:c.jsx(we,{children:c.jsx(Xle,{})})}),c.jsx(pe,{path:"/courses",element:c.jsx(we,{children:c.jsx($Z,{})})}),c.jsx(pe,{path:"/course/:courseId",element:c.jsx(sC,{})}),c.jsx(pe,{path:"/courses/nodejs-backend",element:c.jsx(we,{children:c.jsx(Be,{title:"Node.js Backend Development",description:"Learn to build scalable backend services with Node.js. Master Express.js, MongoDB, RESTful APIs, and more.",topics:["Express.js Framework","MongoDB & Mongoose","RESTful API Design","Authentication & Authorization","Error Handling","Testing & Debugging","Deployment & DevOps","Performance Optimization"],chapters:[{id:1,title:"Introduction to Node.js",description:"Learn the basics of Node.js and its ecosystem",duration:"45 minutes",videoUrl:"https://example.com/videos/nodejs-intro",completed:!1,quiz:{questions:[{question:"What is Node.js?",options:["A browser-based JavaScript runtime","A server-side JavaScript runtime","A database management system","A front-end framework"],correctAnswer:1},{question:"What is npm?",options:["Node Package Manager","New Project Manager","Node Process Monitor","Node Project Module"],correctAnswer:0}]}},{id:2,title:"Express.js Fundamentals",description:"Build web applications with Express.js",duration:"1 hour",videoUrl:"https://example.com/videos/expressjs",completed:!1,quiz:{questions:[{question:"What is middleware in Express.js?",options:["A database connection","A function that has access to request and response objects","A routing mechanism","A template engine"],correctAnswer:1}]}},{id:3,title:"Database Integration",description:"Work with MongoDB and Mongoose",duration:"1.5 hours",videoUrl:"https://example.com/videos/mongodb",completed:!1,quiz:{questions:[{question:"What is MongoDB?",options:["A SQL database","A NoSQL database","A file system","A caching system"],correctAnswer:1}]}},{id:4,title:"API Development",description:"Create RESTful APIs",duration:"2 hours",videoUrl:"https://example.com/videos/rest-api",completed:!1,quiz:{questions:[{question:"What is REST?",options:["A programming language","A database","An architectural style for APIs","A framework"],correctAnswer:2}]}}]})})}),c.jsx(pe,{path:"/courses/machine-learning",element:c.jsx(we,{children:c.jsx(Be,{title:"Machine Learning Basics",description:"Get started with machine learning algorithms and concepts. Learn about data preprocessing, model training, and evaluation.",topics:["Data Preprocessing","Supervised Learning","Unsupervised Learning","Model Evaluation","Feature Engineering","Neural Networks","Deep Learning","Model Deployment"],chapters:[{id:1,title:"Introduction to ML",description:"Understanding machine learning concepts",duration:"1 hour",completed:!1,videoUrl:"https://example.com/ml-intro"},{id:2,title:"Data Preparation",description:"Learn data preprocessing techniques",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/data-prep"},{id:3,title:"Model Training",description:"Train and evaluate ML models",duration:"2 hours",completed:!1,videoUrl:"https://example.com/model-training"},{id:4,title:"Advanced Topics",description:"Deep learning and deployment",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/advanced-ml"}]})})}),c.jsx(pe,{path:"/courses/aws-cloud",element:c.jsx(we,{children:c.jsx(Be,{title:"AWS Cloud Computing",description:"Master cloud computing with Amazon Web Services. Learn about EC2, S3, Lambda, and more.",topics:["AWS Fundamentals","EC2 & Virtual Machines","S3 Storage Solutions","Lambda Functions","Database Services","Networking & Security","Monitoring & Logging","Cost Management"],chapters:[{id:1,title:"AWS Basics",description:"Introduction to AWS services",duration:"1 hour",completed:!1,videoUrl:"https://example.com/aws-basics"},{id:2,title:"Compute Services",description:"Work with EC2 and Lambda",duration:"2 hours",completed:!1,videoUrl:"https://example.com/aws-compute"},{id:3,title:"Storage & Database",description:"Learn S3 and RDS",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/aws-storage"},{id:4,title:"DevOps on AWS",description:"CI/CD and deployment",duration:"2 hours",completed:!1,videoUrl:"https://example.com/aws-devops"}]})})}),c.jsx(pe,{path:"/courses/mobile-dev",element:c.jsx(we,{children:c.jsx(Be,{title:"Mobile App Development",description:"Learn to build mobile apps with React Native, Flutter, or native iOS and Android development.",topics:["Mobile App Fundamentals","React Native Development","Flutter Development","Native iOS Development","Native Android Development","Mobile App Design","Mobile App Testing","Mobile App Deployment"],chapters:[{id:1,title:"Introduction to Mobile App Development",description:"Learn the basics of mobile app development",duration:"1 hour",completed:!1,videoUrl:"https://example.com/mobile-dev-intro"},{id:2,title:"React Native Fundamentals",description:"Build mobile apps with React Native",duration:"2 hours",completed:!1,videoUrl:"https://example.com/react-native"},{id:3,title:"Flutter Fundamentals",description:"Build mobile apps with Flutter",duration:"2 hours",completed:!1,videoUrl:"https://example.com/flutter"},{id:4,title:"Native Mobile App Development",description:"Build native mobile apps for iOS and Android",duration:"3 hours",completed:!1,videoUrl:"https://example.com/native-mobile-dev"}]})})}),c.jsx(pe,{path:"/courses/devops",element:c.jsx(we,{children:c.jsx(Be,{title:"DevOps Essentials",description:"Learn the fundamentals of DevOps and how to implement it in your organization.",topics:["DevOps Fundamentals","Agile Development","Continuous Integration","Continuous Deployment","Continuous Monitoring","Infrastructure as Code","Containerization","Orchestration"],chapters:[{id:1,title:"Introduction to DevOps",description:"Learn the basics of DevOps",duration:"1 hour",completed:!1,videoUrl:"https://example.com/devops-intro"},{id:2,title:"Agile Development",description:"Learn Agile development methodologies",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/agile-dev"},{id:3,title:"CI/CD Pipelines",description:"Learn to implement CI/CD pipelines",duration:"2 hours",completed:!1,videoUrl:"https://example.com/cicd"},{id:4,title:"Infrastructure as Code",description:"Learn to manage infrastructure with code",duration:"2 hours",completed:!1,videoUrl:"https://example.com/iac"}]})})}),c.jsx(pe,{path:"/courses/cyber-security",element:c.jsx(we,{children:c.jsx(Be,{title:"Cybersecurity Fundamentals",description:"Learn the basics of cybersecurity and how to protect your organization from cyber threats.",topics:["Cybersecurity Fundamentals","Network Security","Cloud Security","Endpoint Security","Application Security","Data Security","Compliance and Risk Management","Incident Response"],chapters:[{id:1,title:"Introduction to Cybersecurity",description:"Learn the basics of cybersecurity",duration:"1 hour",completed:!1,videoUrl:"https://example.com/cybersecurity-intro"},{id:2,title:"Network Security",description:"Learn to secure your network",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/network-security"},{id:3,title:"Cloud Security",description:"Learn to secure your cloud infrastructure",duration:"2 hours",completed:!1,videoUrl:"https://example.com/cloud-security"},{id:4,title:"Endpoint Security",description:"Learn to secure your endpoints",duration:"2 hours",completed:!1,videoUrl:"https://example.com/endpoint-security"}]})})}),c.jsx(pe,{path:"/courses/blockchain",element:c.jsx(we,{children:c.jsx(Be,{title:"Blockchain Development",description:"Learn to build blockchain applications with Ethereum, Hyperledger, and more.",topics:["Blockchain Fundamentals","Ethereum Development","Hyperledger Development","Smart Contract Development","Blockchain Security","Blockchain Scalability","Blockchain Interoperability","Blockchain Use Cases"],chapters:[{id:1,title:"Introduction to Blockchain",description:"Learn the basics of blockchain",duration:"1 hour",completed:!1,videoUrl:"https://example.com/blockchain-intro"},{id:2,title:"Ethereum Fundamentals",description:"Build blockchain applications with Ethereum",duration:"2 hours",completed:!1,videoUrl:"https://example.com/ethereum"},{id:3,title:"Hyperledger Fundamentals",description:"Build blockchain applications with Hyperledger",duration:"2 hours",completed:!1,videoUrl:"https://example.com/hyperledger"},{id:4,title:"Smart Contract Development",description:"Learn to develop smart contracts",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/smart-contracts"}]})})}),c.jsx(pe,{path:"/courses/data-structures",element:c.jsx(we,{children:c.jsx(Be,{title:"Data Structures & Algorithms",description:"Learn to implement data structures and algorithms in your programming language of choice.",topics:["Data Structures Fundamentals","Arrays","Linked Lists","Stacks","Queues","Trees","Graphs","Algorithms"],chapters:[{id:1,title:"Introduction to Data Structures",description:"Learn the basics of data structures",duration:"1 hour",completed:!1,videoUrl:"https://example.com/data-structures-intro"},{id:2,title:"Arrays and Linked Lists",description:"Learn to implement arrays and linked lists",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/arrays-linked-lists"},{id:3,title:"Trees and Graphs",description:"Explore tree and graph data structures",duration:"2 hours",completed:!1,videoUrl:"https://example.com/trees-graphs"},{id:4,title:"Sorting Algorithms",description:"Learn various sorting algorithms and their complexity",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/sorting-algorithms"}]})})}),c.jsx(pe,{path:"/courses/flutter",element:c.jsx(we,{children:c.jsx(Be,{title:"Flutter Development",description:"Learn to build mobile apps with Flutter.",topics:["Flutter Fundamentals","Widget Development","Layout and Design","Navigation and Routing","State Management","API Integration","Testing and Debugging","Deployment"],chapters:[{id:1,title:"Introduction to Flutter",description:"Learn the basics of Flutter",duration:"1 hour",completed:!1,videoUrl:"https://example.com/flutter-intro"},{id:2,title:"Widget Development",description:"Learn to build custom widgets",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/flutter-widgets"},{id:3,title:"Layout and Design",description:"Learn to design and layout your app",duration:"2 hours",completed:!1,videoUrl:"https://example.com/flutter-layout"},{id:4,title:"Navigation and Routing",description:"Learn to navigate and route your app",duration:"2 hours",completed:!1,videoUrl:"https://example.com/flutter-navigation"}]})})}),c.jsx(pe,{path:"/courses/sql-database",element:c.jsx(we,{children:c.jsx(Be,{title:"SQL & Database Design",description:"Learn to design and implement databases with SQL.",topics:["SQL Fundamentals","Database Design","Data Modeling","Data Normalization","Querying and Indexing","Database Security","Database Performance","Database Scalability"],chapters:[{id:1,title:"Introduction to SQL",description:"Learn the basics of SQL",duration:"1 hour",completed:!1,videoUrl:"https://example.com/sql-intro"},{id:2,title:"Database Design",description:"Learn to design databases",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/database-design"},{id:3,title:"Data Modeling",description:"Learn to model data",duration:"2 hours",completed:!1,videoUrl:"https://example.com/data-modeling"},{id:4,title:"Querying and Indexing",description:"Learn to query and index data",duration:"2 hours",completed:!1,videoUrl:"https://example.com/querying-indexing"}]})})}),c.jsx(pe,{path:"/courses/web3",element:c.jsx(we,{children:c.jsx(Be,{title:"Web3 Development",description:"Learn to build decentralized applications with Web3 technologies.",topics:["Web3 Fundamentals","Blockchain Development","Smart Contract Development","Decentralized Finance","Non-Fungible Tokens","Decentralized Autonomous Organizations","Web3 Security","Web3 Scalability"],chapters:[{id:1,title:"Introduction to Web3",description:"Learn the basics of Web3",duration:"1 hour",completed:!1,videoUrl:"https://example.com/web3-intro"},{id:2,title:"Blockchain Development",description:"Learn to build blockchain applications",duration:"2 hours",completed:!1,videoUrl:"https://example.com/blockchain-dev"},{id:3,title:"Smart Contract Development",description:"Learn to develop smart contracts",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/smart-contracts"},{id:4,title:"Decentralized Finance",description:"Learn about decentralized finance",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/decentralized-finance"}]})})}),c.jsx(pe,{path:"/courses/video",element:c.jsx(we,{children:c.jsx(VZ,{})})}),c.jsx(pe,{path:"/courses/web-development",element:c.jsx(we,{children:c.jsx(Be,{title:"Web Development Fundamentals",description:"Learn the basics of web development, including HTML, CSS, and JavaScript.",topics:["HTML Fundamentals","CSS Styling","JavaScript Basics","Responsive Design","Front-end Frameworks","Back-end Development","Database Integration","Web Security"],chapters:[{id:1,title:"Introduction to HTML",description:"Learn the basics of HTML structure and elements",videoUrl:"https://example.com/intro-html",completed:!1,duration:"1 hour"},{id:2,title:"CSS Styling",description:"Master CSS styling and layouts",videoUrl:"https://example.com/css-styling",completed:!1,duration:"1.5 hours"},{id:3,title:"JavaScript Basics",description:"Get started with JavaScript programming",videoUrl:"https://example.com/js-basics",completed:!1,duration:"2 hours"},{id:4,title:"Responsive Design",description:"Create responsive websites that work on all devices",videoUrl:"https://example.com/responsive",completed:!1,duration:"1.5 hours"}]})})}),c.jsx(pe,{path:"/courses/data-structures-and-algorithms",element:c.jsx(we,{children:c.jsx(Be,{title:"Data Structures and Algorithms",description:"Master the fundamental data structures and algorithms in computer science.",topics:["Data Structures Fundamentals","Arrays","Linked Lists","Stacks","Queues","Trees","Graphs","Algorithms"],chapters:[{id:1,title:"Arrays and Strings",description:"Understanding arrays and string manipulation",videoUrl:"https://example.com/arrays",completed:!1,duration:"1 hour"},{id:2,title:"Linked Lists",description:"Learn about linked lists and their operations",videoUrl:"https://example.com/linked-lists",completed:!1,duration:"1.5 hours"},{id:3,title:"Trees and Graphs",description:"Explore tree and graph data structures",videoUrl:"https://example.com/trees",completed:!1,duration:"2 hours"},{id:4,title:"Sorting Algorithms",description:"Learn various sorting algorithms and their complexity",videoUrl:"https://example.com/sorting",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/machine-learning-basics",element:c.jsx(we,{children:c.jsx(Be,{title:"Machine Learning Basics",description:"Introduction to machine learning concepts and algorithms.",topics:["Machine Learning Fundamentals","Supervised Learning","Unsupervised Learning","Model Evaluation","Feature Engineering","Neural Networks","Deep Learning","Model Deployment"],chapters:[{id:1,title:"Introduction to ML",description:"Basic concepts and types of machine learning",videoUrl:"https://example.com/intro-ml",completed:!1,duration:"1 hour"},{id:2,title:"Linear Regression",description:"Understanding linear regression and its applications",videoUrl:"https://example.com/linear-regression",completed:!1,duration:"1.5 hours"},{id:3,title:"Classification",description:"Learn about classification algorithms",videoUrl:"https://example.com/classification",completed:!1,duration:"2 hours"},{id:4,title:"Neural Networks",description:"Introduction to neural networks",videoUrl:"https://example.com/neural-networks",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/system-design",element:c.jsx(we,{children:c.jsx(Be,{title:"System Design",description:"Learn how to design scalable systems and architectures.",topics:["System Design Fundamentals","Scalability","Performance","Reliability","Distributed Systems","Microservices","Load Balancing","Caching"],chapters:[{id:1,title:"System Design Basics",description:"Fundamental concepts of system design",videoUrl:"https://example.com/system-design-basics",completed:!1,duration:"1 hour"},{id:2,title:"Scalability",description:"Understanding scalability patterns",videoUrl:"https://example.com/scalability",completed:!1,duration:"1.5 hours"},{id:3,title:"Database Design",description:"Learn about database architecture and design",videoUrl:"https://example.com/database-design",completed:!1,duration:"2 hours"},{id:4,title:"Microservices",description:"Introduction to microservices architecture",videoUrl:"https://example.com/microservices",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/cloud-computing",element:c.jsx(we,{children:c.jsx(Be,{title:"Cloud Computing",description:"Master cloud computing concepts and services.",topics:["Cloud Fundamentals","AWS Services","Azure Services","Cloud Security","Serverless","Containers","Cloud Storage","Cloud Networking"],chapters:[{id:1,title:"Cloud Fundamentals",description:"Basic concepts of cloud computing",videoUrl:"https://example.com/cloud-basics",completed:!1,duration:"1 hour"},{id:2,title:"AWS Services",description:"Overview of key AWS services",videoUrl:"https://example.com/aws-services",completed:!1,duration:"1.5 hours"},{id:3,title:"Cloud Security",description:"Understanding cloud security principles",videoUrl:"https://example.com/cloud-security",completed:!1,duration:"2 hours"},{id:4,title:"Serverless Computing",description:"Introduction to serverless architecture",videoUrl:"https://example.com/serverless",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/devops",element:c.jsx(we,{children:c.jsx(Be,{title:"DevOps Practices",description:"Learn modern DevOps practices and tools.",topics:["DevOps Fundamentals","CI/CD","Containers","Infrastructure as Code","Monitoring","Automation","Version Control","Configuration Management"],chapters:[{id:1,title:"DevOps Introduction",description:"Understanding DevOps principles",videoUrl:"https://example.com/devops-intro",completed:!1,duration:"1 hour"},{id:2,title:"CI/CD",description:"Continuous Integration and Deployment",videoUrl:"https://example.com/cicd",completed:!1,duration:"1.5 hours"},{id:3,title:"Container Technologies",description:"Docker and container orchestration",videoUrl:"https://example.com/containers",completed:!1,duration:"2 hours"},{id:4,title:"Infrastructure as Code",description:"Learn about infrastructure automation",videoUrl:"https://example.com/iac",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/mobile-development",element:c.jsx(we,{children:c.jsx(Be,{title:"Mobile App Development",description:"Build mobile applications for iOS and Android.",topics:["Mobile Development Basics","UI/UX Design","React Native","Native Development","App Testing","App Publishing","App Security","App Monetization"],chapters:[{id:1,title:"Mobile Development Basics",description:"Introduction to mobile app development",videoUrl:"https://example.com/mobile-basics",completed:!1,duration:"1 hour"},{id:2,title:"UI/UX Design",description:"Design principles for mobile apps",videoUrl:"https://example.com/mobile-design",completed:!1,duration:"1.5 hours"},{id:3,title:"React Native",description:"Cross-platform development with React Native",videoUrl:"https://example.com/react-native",completed:!1,duration:"2 hours"},{id:4,title:"App Publishing",description:"Publishing apps to app stores",videoUrl:"https://example.com/app-publishing",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/cybersecurity",element:c.jsx(we,{children:c.jsx(Be,{title:"Cybersecurity Fundamentals",description:"Learn essential cybersecurity concepts and practices.",topics:["Security Fundamentals","Network Security","Web Security","Cryptography","Ethical Hacking","Security Tools","Incident Response","Security Compliance"],chapters:[{id:1,title:"Security Basics",description:"Fundamental security concepts",videoUrl:"https://example.com/security-basics",completed:!1,duration:"1 hour"},{id:2,title:"Network Security",description:"Understanding network security",videoUrl:"https://example.com/network-security",completed:!1,duration:"1.5 hours"},{id:3,title:"Web Security",description:"Web application security principles",videoUrl:"https://example.com/web-security",completed:!1,duration:"2 hours"},{id:4,title:"Ethical Hacking",description:"Introduction to ethical hacking",videoUrl:"https://example.com/ethical-hacking",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/ui-ux-design",element:c.jsx(we,{children:c.jsx(Be,{title:"UI/UX Design",description:"Master the principles of user interface and experience design.",topics:["Design Fundamentals","User Research","Wireframing","Prototyping","Visual Design","Interaction Design","Usability Testing","Design Systems"],chapters:[{id:1,title:"Design Principles",description:"Learn fundamental design principles and theory",videoUrl:"https://example.com/design-principles",completed:!1,duration:"1 hour"},{id:2,title:"User Research",description:"Master user research and analysis techniques",videoUrl:"https://example.com/user-research",completed:!1,duration:"1.5 hours"},{id:3,title:"Prototyping",description:"Create interactive prototypes and wireframes",videoUrl:"https://example.com/prototyping",completed:!1,duration:"2 hours"},{id:4,title:"Design Systems",description:"Build and maintain design systems",videoUrl:"https://example.com/design-systems",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/blockchain",element:c.jsx(we,{children:c.jsx(Be,{title:"Blockchain Development",description:"Learn to build decentralized applications and smart contracts.",topics:["Blockchain Basics","Smart Contracts","DApp Development","Web3","Solidity","Ethereum","NFTs","DeFi"],chapters:[{id:1,title:"Blockchain Fundamentals",description:"Understanding blockchain technology",videoUrl:"https://example.com/blockchain-basics",completed:!1,duration:"1 hour"},{id:2,title:"Smart Contracts",description:"Writing and deploying smart contracts",videoUrl:"https://example.com/smart-contracts",completed:!1,duration:"1.5 hours"},{id:3,title:"DApp Development",description:"Building decentralized applications",videoUrl:"https://example.com/dapp-dev",completed:!1,duration:"2 hours"},{id:4,title:"Web3 Integration",description:"Integrating Web3 with applications",videoUrl:"https://example.com/web3",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/game-development",element:c.jsx(we,{children:c.jsx(Be,{title:"Game Development",description:"Create engaging games using modern game development frameworks.",topics:["Game Design","Unity","3D Graphics","Game Physics","Animation","Game AI","Sound Design","Multiplayer"],chapters:[{id:1,title:"Game Design Basics",description:"Learn game design principles",videoUrl:"https://example.com/game-design",completed:!1,duration:"1 hour"},{id:2,title:"Unity Fundamentals",description:"Getting started with Unity",videoUrl:"https://example.com/unity-basics",completed:!1,duration:"1.5 hours"},{id:3,title:"Game Physics",description:"Implementing game physics",videoUrl:"https://example.com/game-physics",completed:!1,duration:"2 hours"},{id:4,title:"Game AI",description:"Creating intelligent game characters",videoUrl:"https://example.com/game-ai",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/data-science",element:c.jsx(we,{children:c.jsx(Be,{title:"Data Science",description:"Master data analysis, visualization, and statistical methods.",topics:["Data Analysis","Python","Statistics","Visualization","Pandas","NumPy","SQL","Big Data"],chapters:[{id:1,title:"Data Analysis Fundamentals",description:"Learn basic data analysis techniques",videoUrl:"https://example.com/data-analysis",completed:!1,duration:"1 hour"},{id:2,title:"Python for Data Science",description:"Using Python for data analysis",videoUrl:"https://example.com/python-data",completed:!1,duration:"1.5 hours"},{id:3,title:"Data Visualization",description:"Creating effective data visualizations",videoUrl:"https://example.com/data-viz",completed:!1,duration:"2 hours"},{id:4,title:"Statistical Analysis",description:"Applying statistical methods",videoUrl:"https://example.com/statistics",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/artificial-intelligence",element:c.jsx(we,{children:c.jsx(Be,{title:"Artificial Intelligence",description:"Explore AI concepts, neural networks, and deep learning.",topics:["AI Fundamentals","Neural Networks","Deep Learning","Computer Vision","NLP","TensorFlow","PyTorch","AI Ethics"],chapters:[{id:1,title:"AI Fundamentals",description:"Understanding AI concepts",videoUrl:"https://example.com/ai-basics",completed:!1,duration:"1 hour"},{id:2,title:"Neural Networks",description:"Building neural networks",videoUrl:"https://example.com/neural-networks",completed:!1,duration:"1.5 hours"},{id:3,title:"Deep Learning",description:"Advanced deep learning concepts",videoUrl:"https://example.com/deep-learning",completed:!1,duration:"2 hours"},{id:4,title:"AI Applications",description:"Real-world AI applications",videoUrl:"https://example.com/ai-apps",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/software-testing",element:c.jsx(we,{children:c.jsx(Be,{title:"Software Testing",description:"Learn modern testing methodologies and automation frameworks.",topics:["Testing Basics","Test Automation","Unit Testing","Integration Testing","E2E Testing","Performance Testing","Security Testing","CI/CD Testing"],chapters:[{id:1,title:"Testing Fundamentals",description:"Learn software testing basics",videoUrl:"https://example.com/testing-basics",completed:!1,duration:"1 hour"},{id:2,title:"Test Automation",description:"Automating software tests",videoUrl:"https://example.com/test-automation",completed:!1,duration:"1.5 hours"},{id:3,title:"Integration Testing",description:"Writing integration tests",videoUrl:"https://example.com/integration-testing",completed:!1,duration:"2 hours"},{id:4,title:"E2E Testing",description:"End-to-end testing strategies",videoUrl:"https://example.com/e2e-testing",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/:courseId",element:c.jsx(sC,{})}),c.jsx(pe,{path:"/courses/ai-development",element:c.jsx(we,{children:c.jsx(Be,{title:"AI Development",description:"Learn to build AI-powered applications and understand core AI concepts.",topics:["AI Fundamentals","Machine Learning Basics","Neural Networks","Deep Learning","Natural Language Processing","Computer Vision","Reinforcement Learning","AI Ethics"],chapters:[{id:1,title:"Introduction to AI Development",description:"Understanding core AI concepts and development principles",videoUrl:"https://example.com/ai-dev-intro",completed:!1,duration:"1 hour"},{id:2,title:"Building ML Models",description:"Learn to create and train machine learning models",videoUrl:"https://example.com/ml-models",completed:!1,duration:"2 hours"},{id:3,title:"Neural Networks & Deep Learning",description:"Implement neural networks and understand deep learning concepts",videoUrl:"https://example.com/neural-networks-deep",completed:!1,duration:"2.5 hours"},{id:4,title:"Advanced AI Applications",description:"Build practical AI applications with modern frameworks",videoUrl:"https://example.com/advanced-ai",completed:!1,duration:"2 hours"}]})})}),c.jsx(pe,{path:"*",element:c.jsx(J_,{to:"/",replace:!0})})]})})}),c.jsx(cZ,{}),c.jsx(L4,{}),c.jsx(TU,{})]})})})})})}ik(document.getElementById("root")).render(c.jsx(tce,{}));
//# sourceMappingURL=index-BmI0kX6n.js.map
