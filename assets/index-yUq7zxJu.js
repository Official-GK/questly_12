var rT=t=>{throw TypeError(t)};var ry=(t,e,n)=>e.has(t)||rT("Cannot "+n);var B=(t,e,n)=>(ry(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?rT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(ry(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Wt=(t,e,n)=>(ry(t,e,"access private method"),n);var Kh=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return B(t,e,r)}});function gV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vV(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var FA={exports:{}},lg={},$A={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=Symbol.for("react.element"),yV=Symbol.for("react.portal"),wV=Symbol.for("react.fragment"),xV=Symbol.for("react.strict_mode"),_V=Symbol.for("react.profiler"),bV=Symbol.for("react.provider"),EV=Symbol.for("react.context"),TV=Symbol.for("react.forward_ref"),SV=Symbol.for("react.suspense"),PV=Symbol.for("react.memo"),IV=Symbol.for("react.lazy"),iT=Symbol.iterator;function CV(t){return t===null||typeof t!="object"?null:(t=iT&&t[iT]||t["@@iterator"],typeof t=="function"?t:null)}var UA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BA=Object.assign,zA={};function dc(t,e,n){this.props=t,this.context=e,this.refs=zA,this.updater=n||UA}dc.prototype.isReactComponent={};dc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GA(){}GA.prototype=dc.prototype;function Qx(t,e,n){this.props=t,this.context=e,this.refs=zA,this.updater=n||UA}var Yx=Qx.prototype=new GA;Yx.constructor=Qx;BA(Yx,dc.prototype);Yx.isPureReactComponent=!0;var oT=Array.isArray,qA=Object.prototype.hasOwnProperty,Jx={current:null},WA={key:!0,ref:!0,__self:!0,__source:!0};function HA(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)qA.call(e,r)&&!WA.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:nh,type:t,key:i,ref:o,props:s,_owner:Jx.current}}function AV(t,e){return{$$typeof:nh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xx(t){return typeof t=="object"&&t!==null&&t.$$typeof===nh}function RV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aT=/\/+/g;function sy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RV(""+t.key):e.toString(36)}function ap(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nh:case yV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+sy(o,0):r,oT(s)?(n="",t!=null&&(n=t.replace(aT,"$&/")+"/"),ap(s,e,n,"",function(u){return u})):s!=null&&(Xx(s)&&(s=AV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(aT,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",oT(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+sy(i,a);o+=ap(i,e,n,l,s)}else if(l=CV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+sy(i,a++),o+=ap(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qh(t,e,n){if(t==null)return t;var r=[],s=0;return ap(t,r,"","",function(i){return e.call(n,i,s++)}),r}function NV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},lp={transition:null},kV={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:lp,ReactCurrentOwner:Jx};function KA(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Qh,forEach:function(t,e,n){Qh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qh(t,function(){e++}),e},toArray:function(t){return Qh(t,function(e){return e})||[]},only:function(t){if(!Xx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=dc;Ee.Fragment=wV;Ee.Profiler=_V;Ee.PureComponent=Qx;Ee.StrictMode=xV;Ee.Suspense=SV;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kV;Ee.act=KA;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BA({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Jx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qA.call(e,l)&&!WA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nh,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:EV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bV,_context:t},t.Consumer=t};Ee.createElement=HA;Ee.createFactory=function(t){var e=HA.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:TV,render:t}};Ee.isValidElement=Xx;Ee.lazy=function(t){return{$$typeof:IV,_payload:{_status:-1,_result:t},_init:NV}};Ee.memo=function(t,e){return{$$typeof:PV,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=lp.transition;lp.transition={};try{t()}finally{lp.transition=e}};Ee.unstable_act=KA;Ee.useCallback=function(t,e){return dn.current.useCallback(t,e)};Ee.useContext=function(t){return dn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return dn.current.useEffect(t,e)};Ee.useId=function(){return dn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return dn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Ee.useRef=function(t){return dn.current.useRef(t)};Ee.useState=function(t){return dn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return dn.current.useTransition()};Ee.version="18.3.1";$A.exports=Ee;var g=$A.exports;const H=VA(g),QA=gV({__proto__:null,default:H},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OV=g,DV=Symbol.for("react.element"),jV=Symbol.for("react.fragment"),MV=Object.prototype.hasOwnProperty,LV=OV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VV={key:!0,ref:!0,__self:!0,__source:!0};function YA(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MV.call(e,r)&&!VV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:DV,type:t,key:i,ref:o,props:s,_owner:LV.current}}lg.Fragment=jV;lg.jsx=YA;lg.jsxs=YA;FA.exports=lg;var c=FA.exports,JA={exports:{}},Bn={},XA={exports:{}},ZA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var K=F.length;F.push(U);e:for(;0<K;){var Q=K-1>>>1,re=F[Q];if(0<s(re,U))F[Q]=U,F[K]=re,K=Q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],K=F.pop();if(K!==U){F[0]=K;e:for(var Q=0,re=F.length,he=re>>>1;Q<he;){var Ue=2*(Q+1)-1,st=F[Ue],be=Ue+1,Je=F[be];if(0>s(st,K))be<re&&0>s(Je,st)?(F[Q]=Je,F[be]=K,Q=be):(F[Q]=st,F[Ue]=K,Q=Ue);else if(be<re&&0>s(Je,K))F[Q]=Je,F[be]=K,Q=be;else break e}}return U}function s(F,U){var K=F.sortIndex-U.sortIndex;return K!==0?K:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,f=3,m=!1,y=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=F)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function C(F){if(x=!1,_(F),!y)if(n(l)!==null)y=!0,ne(O);else{var U=n(u);U!==null&&de(C,U.startTime-F)}}function O(F,U){y=!1,x&&(x=!1,w(S),S=-1),m=!0;var K=f;try{for(_(U),p=n(l);p!==null&&(!(p.expirationTime>U)||F&&!N());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,f=p.priorityLevel;var re=Q(p.expirationTime<=U);U=t.unstable_now(),typeof re=="function"?p.callback=re:p===n(l)&&r(l),_(U)}else r(l);p=n(l)}if(p!==null)var he=!0;else{var Ue=n(u);Ue!==null&&de(C,Ue.startTime-U),he=!1}return he}finally{p=null,f=K,m=!1}}var M=!1,P=null,S=-1,I=5,A=-1;function N(){return!(t.unstable_now()-A<I)}function j(){if(P!==null){var F=t.unstable_now();A=F;var U=!0;try{U=P(!0,F)}finally{U?k():(M=!1,P=null)}}else M=!1}var k;if(typeof b=="function")k=function(){b(j)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ue=J.port2;J.port1.onmessage=j,k=function(){ue.postMessage(null)}}else k=function(){E(j,0)};function ne(F){P=F,M||(M=!0,k())}function de(F,U){S=E(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ne(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var K=f;f=U;try{return F()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=f;f=F;try{return U()}finally{f=K}},t.unstable_scheduleCallback=function(F,U,K){var Q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,F){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=K+re,F={id:h++,callback:U,priorityLevel:F,startTime:K,expirationTime:re,sortIndex:-1},K>Q?(F.sortIndex=K,e(u,F),n(l)===null&&F===n(u)&&(x?(w(S),S=-1):x=!0,de(C,K-Q))):(F.sortIndex=re,e(l,F),y||m||(y=!0,ne(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var U=f;return function(){var K=f;f=U;try{return F.apply(this,arguments)}finally{f=K}}}})(ZA);XA.exports=ZA;var FV=XA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V=g,$n=FV;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eR=new Set,hd={};function pa(t,e){Vl(t,e),Vl(t+"Capture",e)}function Vl(t,e){for(hd[t]=e,t=0;t<e.length;t++)eR.add(e[t])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W0=Object.prototype.hasOwnProperty,UV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lT={},cT={};function BV(t){return W0.call(cT,t)?!0:W0.call(lT,t)?!1:UV.test(t)?cT[t]=!0:(lT[t]=!0,!1)}function zV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GV(t,e,n,r){if(e===null||typeof e>"u"||zV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zx=/[\-:]([a-z])/g;function e_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zx,e_);Ut[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zx,e_);Ut[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zx,e_);Ut[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function t_(t,e,n,r){var s=Ut.hasOwnProperty(e)?Ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GV(e,n,s,r)&&(n=null),r||s===null?BV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var js=$V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yh=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),n_=Symbol.for("react.strict_mode"),H0=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),nR=Symbol.for("react.context"),r_=Symbol.for("react.forward_ref"),K0=Symbol.for("react.suspense"),Q0=Symbol.for("react.suspense_list"),s_=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),rR=Symbol.for("react.offscreen"),uT=Symbol.iterator;function Gc(t){return t===null||typeof t!="object"?null:(t=uT&&t[uT]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,iy;function Cu(t){if(iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iy=e&&e[1]||""}return`
`+iy+t}var oy=!1;function ay(t,e){if(!t||oy)return"";oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{oy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cu(t):""}function qV(t){switch(t.tag){case 5:return Cu(t.type);case 16:return Cu("Lazy");case 13:return Cu("Suspense");case 19:return Cu("SuspenseList");case 0:case 2:case 15:return t=ay(t.type,!1),t;case 11:return t=ay(t.type.render,!1),t;case 1:return t=ay(t.type,!0),t;default:return""}}function Y0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case tl:return"Portal";case H0:return"Profiler";case n_:return"StrictMode";case K0:return"Suspense";case Q0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nR:return(t.displayName||"Context")+".Consumer";case tR:return(t._context.displayName||"Context")+".Provider";case r_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s_:return e=t.displayName||null,e!==null?e:Y0(t.type)||"Memo";case oi:e=t._payload,t=t._init;try{return Y0(t(e))}catch{}}return null}function WV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y0(e);case 8:return e===n_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HV(t){var e=sR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jh(t){t._valueTracker||(t._valueTracker=HV(t))}function iR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function J0(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oR(t,e){e=e.checked,e!=null&&t_(t,"checked",e,!1)}function X0(t,e){oR(t,e);var n=Bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z0(t,e.type,n):e.hasOwnProperty("defaultValue")&&Z0(t,e.type,Bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Z0(t,e,n){(e!=="number"||zp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Au=Array.isArray;function pl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ew(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Au(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bi(n)}}function aR(t,e){var n=Bi(e.value),r=Bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xh,cR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xh=Xh||document.createElement("div"),Xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KV=["Webkit","ms","Moz","O"];Object.keys(Bu).forEach(function(t){KV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bu[e]=Bu[t]})});function uR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bu.hasOwnProperty(t)&&Bu[t]?(""+e).trim():e+"px"}function dR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var QV=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nw(t,e){if(e){if(QV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function rw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sw=null;function i_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iw=null,ml=null,gl=null;function mT(t){if(t=ih(t)){if(typeof iw!="function")throw Error(q(280));var e=t.stateNode;e&&(e=fg(e),iw(t.stateNode,t.type,e))}}function hR(t){ml?gl?gl.push(t):gl=[t]:ml=t}function fR(){if(ml){var t=ml,e=gl;if(gl=ml=null,mT(t),e)for(t=0;t<e.length;t++)mT(e[t])}}function pR(t,e){return t(e)}function mR(){}var ly=!1;function gR(t,e,n){if(ly)return t(e,n);ly=!0;try{return pR(t,e,n)}finally{ly=!1,(ml!==null||gl!==null)&&(mR(),fR())}}function pd(t,e){var n=t.stateNode;if(n===null)return null;var r=fg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var ow=!1;if(Ts)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){ow=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{ow=!1}function YV(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var zu=!1,Gp=null,qp=!1,aw=null,JV={onError:function(t){zu=!0,Gp=t}};function XV(t,e,n,r,s,i,o,a,l){zu=!1,Gp=null,YV.apply(JV,arguments)}function ZV(t,e,n,r,s,i,o,a,l){if(XV.apply(this,arguments),zu){if(zu){var u=Gp;zu=!1,Gp=null}else throw Error(q(198));qp||(qp=!0,aw=u)}}function ma(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gT(t){if(ma(t)!==t)throw Error(q(188))}function eF(t){var e=t.alternate;if(!e){if(e=ma(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gT(s),t;if(i===r)return gT(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function yR(t){return t=eF(t),t!==null?wR(t):null}function wR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wR(t);if(e!==null)return e;t=t.sibling}return null}var xR=$n.unstable_scheduleCallback,vT=$n.unstable_cancelCallback,tF=$n.unstable_shouldYield,nF=$n.unstable_requestPaint,ft=$n.unstable_now,rF=$n.unstable_getCurrentPriorityLevel,o_=$n.unstable_ImmediatePriority,_R=$n.unstable_UserBlockingPriority,Wp=$n.unstable_NormalPriority,sF=$n.unstable_LowPriority,bR=$n.unstable_IdlePriority,cg=null,qr=null;function iF(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(cg,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:lF,oF=Math.log,aF=Math.LN2;function lF(t){return t>>>=0,t===0?32:31-(oF(t)/aF|0)|0}var Zh=64,ef=4194304;function Ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ru(a):(i&=o,i!==0&&(r=Ru(i)))}else o=n&~s,o!==0?r=Ru(o):i!==0&&(r=Ru(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),s=1<<n,r|=t[n],e&=~s;return r}function cF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-wr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=cF(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function lw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ER(){var t=Zh;return Zh<<=1,!(Zh&4194240)&&(Zh=64),t}function cy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function dF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function a_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function TR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SR,l_,PR,IR,CR,cw=!1,tf=[],Si=null,Pi=null,Ii=null,md=new Map,gd=new Map,ci=[],hF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yT(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(e.pointerId)}}function Wc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ih(e),e!==null&&l_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fF(t,e,n,r,s){switch(e){case"focusin":return Si=Wc(Si,t,e,n,r,s),!0;case"dragenter":return Pi=Wc(Pi,t,e,n,r,s),!0;case"mouseover":return Ii=Wc(Ii,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return md.set(i,Wc(md.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gd.set(i,Wc(gd.get(i)||null,t,e,n,r,s)),!0}return!1}function AR(t){var e=ko(t.target);if(e!==null){var n=ma(e);if(n!==null){if(e=n.tag,e===13){if(e=vR(n),e!==null){t.blockedOn=e,CR(t.priority,function(){PR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sw=r,n.target.dispatchEvent(r),sw=null}else return e=ih(n),e!==null&&l_(e),t.blockedOn=n,!1;e.shift()}return!0}function wT(t,e,n){cp(t)&&n.delete(e)}function pF(){cw=!1,Si!==null&&cp(Si)&&(Si=null),Pi!==null&&cp(Pi)&&(Pi=null),Ii!==null&&cp(Ii)&&(Ii=null),md.forEach(wT),gd.forEach(wT)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,cw||(cw=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,pF)))}function vd(t){function e(s){return Hc(s,t)}if(0<tf.length){Hc(tf[0],t);for(var n=1;n<tf.length;n++){var r=tf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Hc(Si,t),Pi!==null&&Hc(Pi,t),Ii!==null&&Hc(Ii,t),md.forEach(e),gd.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)AR(n),n.blockedOn===null&&ci.shift()}var vl=js.ReactCurrentBatchConfig,Kp=!0;function mF(t,e,n,r){var s=je,i=vl.transition;vl.transition=null;try{je=1,c_(t,e,n,r)}finally{je=s,vl.transition=i}}function gF(t,e,n,r){var s=je,i=vl.transition;vl.transition=null;try{je=4,c_(t,e,n,r)}finally{je=s,vl.transition=i}}function c_(t,e,n,r){if(Kp){var s=uw(t,e,n,r);if(s===null)wy(t,e,r,Qp,n),yT(t,r);else if(fF(s,t,e,n,r))r.stopPropagation();else if(yT(t,r),e&4&&-1<hF.indexOf(t)){for(;s!==null;){var i=ih(s);if(i!==null&&SR(i),i=uw(t,e,n,r),i===null&&wy(t,e,r,Qp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else wy(t,e,r,null,n)}}var Qp=null;function uw(t,e,n,r){if(Qp=null,t=i_(r),t=ko(t),t!==null)if(e=ma(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qp=t,null}function RR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rF()){case o_:return 1;case _R:return 4;case Wp:case sF:return 16;case bR:return 536870912;default:return 16}default:return 16}}var xi=null,u_=null,up=null;function NR(){if(up)return up;var t,e=u_,n=e.length,r,s="value"in xi?xi.value:xi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return up=s.slice(t,1<r?1-r:void 0)}function dp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nf(){return!0}function xT(){return!1}function zn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nf:xT,this.isPropagationStopped=xT,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nf)},persist:function(){},isPersistent:nf}),e}var hc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d_=zn(hc),sh=rt({},hc,{view:0,detail:0}),vF=zn(sh),uy,dy,Kc,ug=rt({},sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kc&&(Kc&&t.type==="mousemove"?(uy=t.screenX-Kc.screenX,dy=t.screenY-Kc.screenY):dy=uy=0,Kc=t),uy)},movementY:function(t){return"movementY"in t?t.movementY:dy}}),_T=zn(ug),yF=rt({},ug,{dataTransfer:0}),wF=zn(yF),xF=rt({},sh,{relatedTarget:0}),hy=zn(xF),_F=rt({},hc,{animationName:0,elapsedTime:0,pseudoElement:0}),bF=zn(_F),EF=rt({},hc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TF=zn(EF),SF=rt({},hc,{data:0}),bT=zn(SF),PF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CF[t])?!!e[t]:!1}function h_(){return AF}var RF=rt({},sh,{key:function(t){if(t.key){var e=PF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h_,charCode:function(t){return t.type==="keypress"?dp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NF=zn(RF),kF=rt({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ET=zn(kF),OF=rt({},sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h_}),DF=zn(OF),jF=rt({},hc,{propertyName:0,elapsedTime:0,pseudoElement:0}),MF=zn(jF),LF=rt({},ug,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VF=zn(LF),FF=[9,13,27,32],f_=Ts&&"CompositionEvent"in window,Gu=null;Ts&&"documentMode"in document&&(Gu=document.documentMode);var $F=Ts&&"TextEvent"in window&&!Gu,kR=Ts&&(!f_||Gu&&8<Gu&&11>=Gu),TT=" ",ST=!1;function OR(t,e){switch(t){case"keyup":return FF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function UF(t,e){switch(t){case"compositionend":return DR(e);case"keypress":return e.which!==32?null:(ST=!0,TT);case"textInput":return t=e.data,t===TT&&ST?null:t;default:return null}}function BF(t,e){if(rl)return t==="compositionend"||!f_&&OR(t,e)?(t=NR(),up=u_=xi=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kR&&e.locale!=="ko"?null:e.data;default:return null}}var zF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zF[t.type]:e==="textarea"}function jR(t,e,n,r){hR(r),e=Yp(e,"onChange"),0<e.length&&(n=new d_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qu=null,yd=null;function GF(t){WR(t,0)}function dg(t){var e=ol(t);if(iR(e))return t}function qF(t,e){if(t==="change")return e}var MR=!1;if(Ts){var fy;if(Ts){var py="oninput"in document;if(!py){var IT=document.createElement("div");IT.setAttribute("oninput","return;"),py=typeof IT.oninput=="function"}fy=py}else fy=!1;MR=fy&&(!document.documentMode||9<document.documentMode)}function CT(){qu&&(qu.detachEvent("onpropertychange",LR),yd=qu=null)}function LR(t){if(t.propertyName==="value"&&dg(yd)){var e=[];jR(e,yd,t,i_(t)),gR(GF,e)}}function WF(t,e,n){t==="focusin"?(CT(),qu=e,yd=n,qu.attachEvent("onpropertychange",LR)):t==="focusout"&&CT()}function HF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dg(yd)}function KF(t,e){if(t==="click")return dg(e)}function QF(t,e){if(t==="input"||t==="change")return dg(e)}function YF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:YF;function wd(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!W0.call(e,s)||!br(t[s],e[s]))return!1}return!0}function AT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RT(t,e){var n=AT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AT(n)}}function VR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FR(){for(var t=window,e=zp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zp(t.document)}return e}function p_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JF(t){var e=FR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VR(n.ownerDocument.documentElement,n)){if(r!==null&&p_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=RT(n,i);var o=RT(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XF=Ts&&"documentMode"in document&&11>=document.documentMode,sl=null,dw=null,Wu=null,hw=!1;function NT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hw||sl==null||sl!==zp(r)||(r=sl,"selectionStart"in r&&p_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wu&&wd(Wu,r)||(Wu=r,r=Yp(dw,"onSelect"),0<r.length&&(e=new d_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sl)))}function rf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var il={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionend:rf("Transition","TransitionEnd")},my={},$R={};Ts&&($R=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function hg(t){if(my[t])return my[t];if(!il[t])return t;var e=il[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $R)return my[t]=e[n];return t}var UR=hg("animationend"),BR=hg("animationiteration"),zR=hg("animationstart"),GR=hg("transitionend"),qR=new Map,kT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){qR.set(t,e),pa(e,[t])}for(var gy=0;gy<kT.length;gy++){var vy=kT[gy],ZF=vy.toLowerCase(),e3=vy[0].toUpperCase()+vy.slice(1);Xi(ZF,"on"+e3)}Xi(UR,"onAnimationEnd");Xi(BR,"onAnimationIteration");Xi(zR,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(GR,"onTransitionEnd");Vl("onMouseEnter",["mouseout","mouseover"]);Vl("onMouseLeave",["mouseout","mouseover"]);Vl("onPointerEnter",["pointerout","pointerover"]);Vl("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nu));function OT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZV(r,e,void 0,t),t.currentTarget=null}function WR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;OT(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;OT(s,a,u),i=l}}}if(qp)throw t=aw,qp=!1,aw=null,t}function He(t,e){var n=e[vw];n===void 0&&(n=e[vw]=new Set);var r=t+"__bubble";n.has(r)||(HR(e,t,2,!1),n.add(r))}function yy(t,e,n){var r=0;e&&(r|=4),HR(n,t,r,e)}var sf="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[sf]){t[sf]=!0,eR.forEach(function(n){n!=="selectionchange"&&(t3.has(n)||yy(n,!1,t),yy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sf]||(e[sf]=!0,yy("selectionchange",!1,e))}}function HR(t,e,n,r){switch(RR(e)){case 1:var s=mF;break;case 4:s=gF;break;default:s=c_}n=s.bind(null,e,n,t),s=void 0,!ow||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function wy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ko(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}gR(function(){var u=i,h=i_(n),p=[];e:{var f=qR.get(t);if(f!==void 0){var m=d_,y=t;switch(t){case"keypress":if(dp(n)===0)break e;case"keydown":case"keyup":m=NF;break;case"focusin":y="focus",m=hy;break;case"focusout":y="blur",m=hy;break;case"beforeblur":case"afterblur":m=hy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_T;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=DF;break;case UR:case BR:case zR:m=bF;break;case GR:m=MF;break;case"scroll":m=vF;break;case"wheel":m=VF;break;case"copy":case"cut":case"paste":m=TF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ET}var x=(e&4)!==0,E=!x&&t==="scroll",w=x?f!==null?f+"Capture":null:f;x=[];for(var b=u,_;b!==null;){_=b;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,w!==null&&(C=pd(b,w),C!=null&&x.push(_d(b,C,_)))),E)break;b=b.return}0<x.length&&(f=new m(f,y,null,n,h),p.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==sw&&(y=n.relatedTarget||n.fromElement)&&(ko(y)||y[Ss]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ko(y):null,y!==null&&(E=ma(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=_T,C="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=ET,C="onPointerLeave",w="onPointerEnter",b="pointer"),E=m==null?f:ol(m),_=y==null?f:ol(y),f=new x(C,b+"leave",m,n,h),f.target=E,f.relatedTarget=_,C=null,ko(h)===u&&(x=new x(w,b+"enter",y,n,h),x.target=_,x.relatedTarget=E,C=x),E=C,m&&y)t:{for(x=m,w=y,b=0,_=x;_;_=Ca(_))b++;for(_=0,C=w;C;C=Ca(C))_++;for(;0<b-_;)x=Ca(x),b--;for(;0<_-b;)w=Ca(w),_--;for(;b--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ca(x),w=Ca(w)}x=null}else x=null;m!==null&&DT(p,f,m,x,!1),y!==null&&E!==null&&DT(p,E,y,x,!0)}}e:{if(f=u?ol(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=qF;else if(PT(f))if(MR)O=QF;else{O=HF;var M=WF}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=KF);if(O&&(O=O(t,u))){jR(p,O,n,h);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Z0(f,"number",f.value)}switch(M=u?ol(u):window,t){case"focusin":(PT(M)||M.contentEditable==="true")&&(sl=M,dw=u,Wu=null);break;case"focusout":Wu=dw=sl=null;break;case"mousedown":hw=!0;break;case"contextmenu":case"mouseup":case"dragend":hw=!1,NT(p,n,h);break;case"selectionchange":if(XF)break;case"keydown":case"keyup":NT(p,n,h)}var P;if(f_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else rl?OR(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(kR&&n.locale!=="ko"&&(rl||S!=="onCompositionStart"?S==="onCompositionEnd"&&rl&&(P=NR()):(xi=h,u_="value"in xi?xi.value:xi.textContent,rl=!0)),M=Yp(u,S),0<M.length&&(S=new bT(S,t,null,n,h),p.push({event:S,listeners:M}),P?S.data=P:(P=DR(n),P!==null&&(S.data=P)))),(P=$F?UF(t,n):BF(t,n))&&(u=Yp(u,"onBeforeInput"),0<u.length&&(h=new bT("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=P))}WR(p,e)})}function _d(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pd(t,n),i!=null&&r.unshift(_d(t,i,s)),i=pd(t,e),i!=null&&r.push(_d(t,i,s))),t=t.return}return r}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=pd(n,i),l!=null&&o.unshift(_d(n,l,a))):s||(l=pd(n,i),l!=null&&o.push(_d(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var n3=/\r\n?/g,r3=/\u0000|\uFFFD/g;function jT(t){return(typeof t=="string"?t:""+t).replace(n3,`
`).replace(r3,"")}function of(t,e,n){if(e=jT(e),jT(t)!==e&&n)throw Error(q(425))}function Jp(){}var fw=null,pw=null;function mw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gw=typeof setTimeout=="function"?setTimeout:void 0,s3=typeof clearTimeout=="function"?clearTimeout:void 0,MT=typeof Promise=="function"?Promise:void 0,i3=typeof queueMicrotask=="function"?queueMicrotask:typeof MT<"u"?function(t){return MT.resolve(null).then(t).catch(o3)}:gw;function o3(t){setTimeout(function(){throw t})}function xy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vd(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fc=Math.random().toString(36).slice(2),Ur="__reactFiber$"+fc,bd="__reactProps$"+fc,Ss="__reactContainer$"+fc,vw="__reactEvents$"+fc,a3="__reactListeners$"+fc,l3="__reactHandles$"+fc;function ko(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ss]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LT(t);t!==null;){if(n=t[Ur])return n;t=LT(t)}return e}t=n,n=t.parentNode}return null}function ih(t){return t=t[Ur]||t[Ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function fg(t){return t[bd]||null}var yw=[],al=-1;function Zi(t){return{current:t}}function Ke(t){0>al||(t.current=yw[al],yw[al]=null,al--)}function ze(t,e){al++,yw[al]=t.current,t.current=e}var zi={},tn=Zi(zi),bn=Zi(!1),Wo=zi;function Fl(t,e){var n=t.type.contextTypes;if(!n)return zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function En(t){return t=t.childContextTypes,t!=null}function Xp(){Ke(bn),Ke(tn)}function VT(t,e,n){if(tn.current!==zi)throw Error(q(168));ze(tn,e),ze(bn,n)}function KR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,WV(t)||"Unknown",s));return rt({},n,r)}function Zp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zi,Wo=tn.current,ze(tn,t),ze(bn,bn.current),!0}function FT(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=KR(t,e,Wo),r.__reactInternalMemoizedMergedChildContext=t,Ke(bn),Ke(tn),ze(tn,t)):Ke(bn),ze(bn,n)}var ds=null,pg=!1,_y=!1;function QR(t){ds===null?ds=[t]:ds.push(t)}function c3(t){pg=!0,QR(t)}function eo(){if(!_y&&ds!==null){_y=!0;var t=0,e=je;try{var n=ds;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ds=null,pg=!1}catch(s){throw ds!==null&&(ds=ds.slice(t+1)),xR(o_,eo),s}finally{je=e,_y=!1}}return null}var ll=[],cl=0,em=null,tm=0,Wn=[],Hn=0,Ho=null,ps=1,ms="";function Eo(t,e){ll[cl++]=tm,ll[cl++]=em,em=t,tm=e}function YR(t,e,n){Wn[Hn++]=ps,Wn[Hn++]=ms,Wn[Hn++]=Ho,Ho=t;var r=ps;t=ms;var s=32-wr(r)-1;r&=~(1<<s),n+=1;var i=32-wr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ps=1<<32-wr(e)+s|n<<s|r,ms=i+t}else ps=1<<i|n<<s|r,ms=t}function m_(t){t.return!==null&&(Eo(t,1),YR(t,1,0))}function g_(t){for(;t===em;)em=ll[--cl],ll[cl]=null,tm=ll[--cl],ll[cl]=null;for(;t===Ho;)Ho=Wn[--Hn],Wn[Hn]=null,ms=Wn[--Hn],Wn[Hn]=null,ps=Wn[--Hn],Wn[Hn]=null}var Mn=null,Dn=null,Ye=!1,gr=null;function JR(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $T(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Dn=null,!0):!1;default:return!1}}function ww(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xw(t){if(Ye){var e=Dn;if(e){var n=e;if(!$T(t,e)){if(ww(t))throw Error(q(418));e=Ci(n.nextSibling);var r=Mn;e&&$T(t,e)?JR(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Mn=t)}}else{if(ww(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ye=!1,Mn=t}}}function UT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function af(t){if(t!==Mn)return!1;if(!Ye)return UT(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mw(t.type,t.memoizedProps)),e&&(e=Dn)){if(ww(t))throw XR(),Error(q(418));for(;e;)JR(t,e),e=Ci(e.nextSibling)}if(UT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Mn?Ci(t.stateNode.nextSibling):null;return!0}function XR(){for(var t=Dn;t;)t=Ci(t.nextSibling)}function $l(){Dn=Mn=null,Ye=!1}function v_(t){gr===null?gr=[t]:gr.push(t)}var u3=js.ReactCurrentBatchConfig;function Qc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function lf(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BT(t){var e=t._init;return e(t._payload)}function ZR(t){function e(w,b){if(t){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=ki(w,b),w.index=0,w.sibling=null,w}function i(w,b,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,_,C){return b===null||b.tag!==6?(b=Cy(_,w.mode,C),b.return=w,b):(b=s(b,_),b.return=w,b)}function l(w,b,_,C){var O=_.type;return O===nl?h(w,b,_.props.children,C,_.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===oi&&BT(O)===b.type)?(C=s(b,_.props),C.ref=Qc(w,b,_),C.return=w,C):(C=yp(_.type,_.key,_.props,null,w.mode,C),C.ref=Qc(w,b,_),C.return=w,C)}function u(w,b,_,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Ay(_,w.mode,C),b.return=w,b):(b=s(b,_.children||[]),b.return=w,b)}function h(w,b,_,C,O){return b===null||b.tag!==7?(b=Bo(_,w.mode,C,O),b.return=w,b):(b=s(b,_),b.return=w,b)}function p(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Cy(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yh:return _=yp(b.type,b.key,b.props,null,w.mode,_),_.ref=Qc(w,null,b),_.return=w,_;case tl:return b=Ay(b,w.mode,_),b.return=w,b;case oi:var C=b._init;return p(w,C(b._payload),_)}if(Au(b)||Gc(b))return b=Bo(b,w.mode,_,null),b.return=w,b;lf(w,b)}return null}function f(w,b,_,C){var O=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(w,b,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yh:return _.key===O?l(w,b,_,C):null;case tl:return _.key===O?u(w,b,_,C):null;case oi:return O=_._init,f(w,b,O(_._payload),C)}if(Au(_)||Gc(_))return O!==null?null:h(w,b,_,C,null);lf(w,_)}return null}function m(w,b,_,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(_)||null,a(b,w,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Yh:return w=w.get(C.key===null?_:C.key)||null,l(b,w,C,O);case tl:return w=w.get(C.key===null?_:C.key)||null,u(b,w,C,O);case oi:var M=C._init;return m(w,b,_,M(C._payload),O)}if(Au(C)||Gc(C))return w=w.get(_)||null,h(b,w,C,O,null);lf(b,C)}return null}function y(w,b,_,C){for(var O=null,M=null,P=b,S=b=0,I=null;P!==null&&S<_.length;S++){P.index>S?(I=P,P=null):I=P.sibling;var A=f(w,P,_[S],C);if(A===null){P===null&&(P=I);break}t&&P&&A.alternate===null&&e(w,P),b=i(A,b,S),M===null?O=A:M.sibling=A,M=A,P=I}if(S===_.length)return n(w,P),Ye&&Eo(w,S),O;if(P===null){for(;S<_.length;S++)P=p(w,_[S],C),P!==null&&(b=i(P,b,S),M===null?O=P:M.sibling=P,M=P);return Ye&&Eo(w,S),O}for(P=r(w,P);S<_.length;S++)I=m(P,w,S,_[S],C),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?S:I.key),b=i(I,b,S),M===null?O=I:M.sibling=I,M=I);return t&&P.forEach(function(N){return e(w,N)}),Ye&&Eo(w,S),O}function x(w,b,_,C){var O=Gc(_);if(typeof O!="function")throw Error(q(150));if(_=O.call(_),_==null)throw Error(q(151));for(var M=O=null,P=b,S=b=0,I=null,A=_.next();P!==null&&!A.done;S++,A=_.next()){P.index>S?(I=P,P=null):I=P.sibling;var N=f(w,P,A.value,C);if(N===null){P===null&&(P=I);break}t&&P&&N.alternate===null&&e(w,P),b=i(N,b,S),M===null?O=N:M.sibling=N,M=N,P=I}if(A.done)return n(w,P),Ye&&Eo(w,S),O;if(P===null){for(;!A.done;S++,A=_.next())A=p(w,A.value,C),A!==null&&(b=i(A,b,S),M===null?O=A:M.sibling=A,M=A);return Ye&&Eo(w,S),O}for(P=r(w,P);!A.done;S++,A=_.next())A=m(P,w,S,A.value,C),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?S:A.key),b=i(A,b,S),M===null?O=A:M.sibling=A,M=A);return t&&P.forEach(function(j){return e(w,j)}),Ye&&Eo(w,S),O}function E(w,b,_,C){if(typeof _=="object"&&_!==null&&_.type===nl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yh:e:{for(var O=_.key,M=b;M!==null;){if(M.key===O){if(O=_.type,O===nl){if(M.tag===7){n(w,M.sibling),b=s(M,_.props.children),b.return=w,w=b;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===oi&&BT(O)===M.type){n(w,M.sibling),b=s(M,_.props),b.ref=Qc(w,M,_),b.return=w,w=b;break e}n(w,M);break}else e(w,M);M=M.sibling}_.type===nl?(b=Bo(_.props.children,w.mode,C,_.key),b.return=w,w=b):(C=yp(_.type,_.key,_.props,null,w.mode,C),C.ref=Qc(w,b,_),C.return=w,w=C)}return o(w);case tl:e:{for(M=_.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(w,b.sibling),b=s(b,_.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=Ay(_,w.mode,C),b.return=w,w=b}return o(w);case oi:return M=_._init,E(w,b,M(_._payload),C)}if(Au(_))return y(w,b,_,C);if(Gc(_))return x(w,b,_,C);lf(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(w,b.sibling),b=s(b,_),b.return=w,w=b):(n(w,b),b=Cy(_,w.mode,C),b.return=w,w=b),o(w)):n(w,b)}return E}var Ul=ZR(!0),eN=ZR(!1),nm=Zi(null),rm=null,ul=null,y_=null;function w_(){y_=ul=rm=null}function x_(t){var e=nm.current;Ke(nm),t._currentValue=e}function _w(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yl(t,e){rm=t,y_=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(y_!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(rm===null)throw Error(q(308));ul=t,rm.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var Oo=null;function __(t){Oo===null?Oo=[t]:Oo.push(t)}function tN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,__(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ps(t,r)}function Ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ai=!1;function b_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ps(t,n)}return s=r.interleaved,s===null?(e.next=e,__(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ps(t,n)}function hp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a_(t,n)}}function zT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sm(t,e,n,r){var s=t.updateQueue;ai=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(f=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){p=y.call(m,p,f);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(m,p,f):y,f==null)break e;p=rt({},p,f);break e;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=p):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qo|=o,t.lanes=o,t.memoizedState=p}}function GT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var oh={},Wr=Zi(oh),Ed=Zi(oh),Td=Zi(oh);function Do(t){if(t===oh)throw Error(q(174));return t}function E_(t,e){switch(ze(Td,e),ze(Ed,t),ze(Wr,oh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tw(e,t)}Ke(Wr),ze(Wr,e)}function Bl(){Ke(Wr),Ke(Ed),Ke(Td)}function rN(t){Do(Td.current);var e=Do(Wr.current),n=tw(e,t.type);e!==n&&(ze(Ed,t),ze(Wr,n))}function T_(t){Ed.current===t&&(Ke(Wr),Ke(Ed))}var Xe=Zi(0);function im(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function S_(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var fp=js.ReactCurrentDispatcher,Ey=js.ReactCurrentBatchConfig,Ko=0,tt=null,Tt=null,Nt=null,om=!1,Hu=!1,Sd=0,d3=0;function Ht(){throw Error(q(321))}function P_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function I_(t,e,n,r,s,i){if(Ko=i,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fp.current=t===null||t.memoizedState===null?m3:g3,t=n(r,s),Hu){i=0;do{if(Hu=!1,Sd=0,25<=i)throw Error(q(301));i+=1,Nt=Tt=null,e.updateQueue=null,fp.current=v3,t=n(r,s)}while(Hu)}if(fp.current=am,e=Tt!==null&&Tt.next!==null,Ko=0,Nt=Tt=tt=null,om=!1,e)throw Error(q(300));return t}function C_(){var t=Sd!==0;return Sd=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?tt.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Zn(){if(Tt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Nt===null?tt.memoizedState:Nt.next;if(e!==null)Nt=e,Tt=t;else{if(t===null)throw Error(q(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Nt===null?tt.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Pd(t,e){return typeof e=="function"?e(t):e}function Ty(t){var e=Zn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((Ko&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,tt.lanes|=h,Qo|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,br(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,tt.lanes|=i,Qo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sy(t){var e=Zn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);br(i,e.memoizedState)||(yn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function sN(){}function iN(t,e){var n=tt,r=Zn(),s=e(),i=!br(r.memoizedState,s);if(i&&(r.memoizedState=s,yn=!0),r=r.queue,A_(lN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Id(9,aN.bind(null,n,r,s,e),void 0,null),Dt===null)throw Error(q(349));Ko&30||oN(n,e,s)}return s}function oN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aN(t,e,n,r){e.value=n,e.getSnapshot=r,cN(e)&&uN(t)}function lN(t,e,n){return n(function(){cN(e)&&uN(t)})}function cN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function uN(t){var e=Ps(t,1);e!==null&&xr(e,t,1,-1)}function qT(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:t},e.queue=t,t=t.dispatch=p3.bind(null,tt,t),[e.memoizedState,t]}function Id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dN(){return Zn().memoizedState}function pp(t,e,n,r){var s=jr();tt.flags|=t,s.memoizedState=Id(1|e,n,void 0,r===void 0?null:r)}function mg(t,e,n,r){var s=Zn();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var o=Tt.memoizedState;if(i=o.destroy,r!==null&&P_(r,o.deps)){s.memoizedState=Id(e,n,i,r);return}}tt.flags|=t,s.memoizedState=Id(1|e,n,i,r)}function WT(t,e){return pp(8390656,8,t,e)}function A_(t,e){return mg(2048,8,t,e)}function hN(t,e){return mg(4,2,t,e)}function fN(t,e){return mg(4,4,t,e)}function pN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mN(t,e,n){return n=n!=null?n.concat([t]):null,mg(4,4,pN.bind(null,e,t),n)}function R_(){}function gN(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vN(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yN(t,e,n){return Ko&21?(br(n,e)||(n=ER(),tt.lanes|=n,Qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function h3(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Ey.transition;Ey.transition={};try{t(!1),e()}finally{je=n,Ey.transition=r}}function wN(){return Zn().memoizedState}function f3(t,e,n){var r=Ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xN(t))_N(e,n);else if(n=tN(t,e,n,r),n!==null){var s=cn();xr(n,t,r,s),bN(n,e,r)}}function p3(t,e,n){var r=Ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xN(t))_N(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,br(a,o)){var l=e.interleaved;l===null?(s.next=s,__(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=tN(t,e,s,r),n!==null&&(s=cn(),xr(n,t,r,s),bN(n,e,r))}}function xN(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function _N(t,e){Hu=om=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a_(t,n)}}var am={readContext:Xn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},m3={readContext:Xn,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:WT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pp(4194308,4,pN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pp(4194308,4,t,e)},useInsertionEffect:function(t,e){return pp(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=f3.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:qT,useDebugValue:R_,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=qT(!1),e=t[0];return t=h3.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,s=jr();if(Ye){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Dt===null)throw Error(q(349));Ko&30||oN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,WT(lN.bind(null,r,i,t),[t]),r.flags|=2048,Id(9,aN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=jr(),e=Dt.identifierPrefix;if(Ye){var n=ms,r=ps;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g3={readContext:Xn,useCallback:gN,useContext:Xn,useEffect:A_,useImperativeHandle:mN,useInsertionEffect:hN,useLayoutEffect:fN,useMemo:vN,useReducer:Ty,useRef:dN,useState:function(){return Ty(Pd)},useDebugValue:R_,useDeferredValue:function(t){var e=Zn();return yN(e,Tt.memoizedState,t)},useTransition:function(){var t=Ty(Pd)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:sN,useSyncExternalStore:iN,useId:wN,unstable_isNewReconciler:!1},v3={readContext:Xn,useCallback:gN,useContext:Xn,useEffect:A_,useImperativeHandle:mN,useInsertionEffect:hN,useLayoutEffect:fN,useMemo:vN,useReducer:Sy,useRef:dN,useState:function(){return Sy(Pd)},useDebugValue:R_,useDeferredValue:function(t){var e=Zn();return Tt===null?e.memoizedState=t:yN(e,Tt.memoizedState,t)},useTransition:function(){var t=Sy(Pd)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:sN,useSyncExternalStore:iN,useId:wN,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gg={isMounted:function(t){return(t=t._reactInternals)?ma(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),s=Ni(t),i=_s(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ai(t,i,s),e!==null&&(xr(e,t,s,r),hp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),s=Ni(t),i=_s(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ai(t,i,s),e!==null&&(xr(e,t,s,r),hp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=Ni(t),s=_s(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ai(t,s,r),e!==null&&(xr(e,t,r,n),hp(e,t,r))}};function HT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wd(n,r)||!wd(s,i):!0}function EN(t,e,n){var r=!1,s=zi,i=e.contextType;return typeof i=="object"&&i!==null?i=Xn(i):(s=En(e)?Wo:tn.current,r=e.contextTypes,i=(r=r!=null)?Fl(t,s):zi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function KT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gg.enqueueReplaceState(e,e.state,null)}function Ew(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},b_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xn(i):(i=En(e)?Wo:tn.current,s.context=Fl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(bw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gg.enqueueReplaceState(s,s.state,null),sm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zl(t,e){try{var n="",r=e;do n+=qV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Py(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var y3=typeof WeakMap=="function"?WeakMap:Map;function TN(t,e,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cm||(cm=!0,Dw=r),Tw(t,e)},n}function SN(t,e,n){n=_s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Tw(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Tw(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function QT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new y3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=k3.bind(null,t,e,n),e.then(t,t))}function YT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_s(-1,1),e.tag=2,Ai(n,e,1))),n.lanes|=1),t)}var w3=js.ReactCurrentOwner,yn=!1;function an(t,e,n,r){e.child=t===null?eN(e,null,n,r):Ul(e,t.child,n,r)}function XT(t,e,n,r,s){n=n.render;var i=e.ref;return yl(e,s),r=I_(t,e,n,r,i,s),n=C_(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Is(t,e,s)):(Ye&&n&&m_(e),e.flags|=1,an(t,e,r,s),e.child)}function ZT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!V_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,PN(t,e,i,r,s)):(t=yp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wd,n(o,r)&&t.ref===e.ref)return Is(t,e,s)}return e.flags|=1,t=ki(i,r),t.ref=e.ref,t.return=e,e.child=t}function PN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wd(i,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,Is(t,e,s)}return Sw(t,e,n,r,s)}function IN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(hl,kn),kn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(hl,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(hl,kn),kn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ze(hl,kn),kn|=r;return an(t,e,s,n),e.child}function CN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sw(t,e,n,r,s){var i=En(n)?Wo:tn.current;return i=Fl(e,i),yl(e,s),n=I_(t,e,n,r,i,s),r=C_(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Is(t,e,s)):(Ye&&r&&m_(e),e.flags|=1,an(t,e,n,s),e.child)}function eS(t,e,n,r,s){if(En(n)){var i=!0;Zp(e)}else i=!1;if(yl(e,s),e.stateNode===null)mp(t,e),EN(e,n,r),Ew(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=En(n)?Wo:tn.current,u=Fl(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&KT(e,o,r,u),ai=!1;var f=e.memoizedState;o.state=f,sm(e,r,o,s),l=e.memoizedState,a!==r||f!==l||bn.current||ai?(typeof h=="function"&&(bw(e,n,h,r),l=e.memoizedState),(a=ai||HT(e,n,a,r,f,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dr(e.type,a),o.props=u,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=En(n)?Wo:tn.current,l=Fl(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&KT(e,o,r,l),ai=!1,f=e.memoizedState,o.state=f,sm(e,r,o,s);var y=e.memoizedState;a!==p||f!==y||bn.current||ai?(typeof m=="function"&&(bw(e,n,m,r),y=e.memoizedState),(u=ai||HT(e,n,u,r,f,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Pw(t,e,n,r,i,s)}function Pw(t,e,n,r,s,i){CN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&FT(e,n,!1),Is(t,e,i);r=e.stateNode,w3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ul(e,t.child,null,i),e.child=Ul(e,null,a,i)):an(t,e,a,i),e.memoizedState=r.state,s&&FT(e,n,!0),e.child}function AN(t){var e=t.stateNode;e.pendingContext?VT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VT(t,e.context,!1),E_(t,e.containerInfo)}function tS(t,e,n,r,s){return $l(),v_(s),e.flags|=256,an(t,e,n,r),e.child}var Iw={dehydrated:null,treeContext:null,retryLane:0};function Cw(t){return{baseLanes:t,cachePool:null,transitions:null}}function RN(t,e,n){var r=e.pendingProps,s=Xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ze(Xe,s&1),t===null)return xw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wg(o,r,0,null),t=Bo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cw(n),e.memoizedState=Iw,t):N_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return x3(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ki(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ki(a,i):(i=Bo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Cw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Iw,r}return i=t.child,t=i.sibling,r=ki(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function N_(t,e){return e=wg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cf(t,e,n,r){return r!==null&&v_(r),Ul(e,t.child,null,n),t=N_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function x3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Py(Error(q(422))),cf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wg({mode:"visible",children:r.children},s,0,null),i=Bo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ul(e,t.child,null,o),e.child.memoizedState=Cw(o),e.memoizedState=Iw,i);if(!(e.mode&1))return cf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=Py(i,r,void 0),cf(t,e,o,r)}if(a=(o&t.childLanes)!==0,yn||a){if(r=Dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ps(t,s),xr(r,t,s,-1))}return L_(),r=Py(Error(q(421))),cf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=O3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dn=Ci(s.nextSibling),Mn=e,Ye=!0,gr=null,t!==null&&(Wn[Hn++]=ps,Wn[Hn++]=ms,Wn[Hn++]=Ho,ps=t.id,ms=t.overflow,Ho=e),e=N_(e,r.children),e.flags|=4096,e)}function nS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_w(t.return,e,n)}function Iy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function NN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(an(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nS(t,n,e);else if(t.tag===19)nS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&im(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Iy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&im(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Iy(e,!0,n,null,i);break;case"together":Iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _3(t,e,n){switch(e.tag){case 3:AN(e),$l();break;case 5:rN(e);break;case 1:En(e.type)&&Zp(e);break;case 4:E_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ze(nm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?RN(t,e,n):(ze(Xe,Xe.current&1),t=Is(t,e,n),t!==null?t.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,IN(t,e,n)}return Is(t,e,n)}var kN,Aw,ON,DN;kN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Aw=function(){};ON=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Do(Wr.current);var i=null;switch(n){case"input":s=J0(t,s),r=J0(t,r),i=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":s=ew(t,s),r=ew(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jp)}nw(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};DN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yc(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b3(t,e,n){var r=e.pendingProps;switch(g_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return En(e.type)&&Xp(),Kt(e),null;case 3:return r=e.stateNode,Bl(),Ke(bn),Ke(tn),S_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(Lw(gr),gr=null))),Aw(t,e),Kt(e),null;case 5:T_(e);var s=Do(Td.current);if(n=e.type,t!==null&&e.stateNode!=null)ON(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Kt(e),null}if(t=Do(Wr.current),af(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ur]=e,r[bd]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Nu.length;s++)He(Nu[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":dT(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":fT(r,i),He("invalid",r)}nw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&of(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&of(r.textContent,a,t),s=["children",""+a]):hd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Jh(r),hT(r,i,!0);break;case"textarea":Jh(r),pT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ur]=e,t[bd]=r,kN(t,e,!1,!1),e.stateNode=t;e:{switch(o=rw(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<Nu.length;s++)He(Nu[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":dT(t,r),s=J0(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),He("invalid",t);break;case"textarea":fT(t,r),s=ew(t,r),He("invalid",t);break;default:s=r}nw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?dR(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cR(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fd(t,l):typeof l=="number"&&fd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&t_(t,i,l,o))}switch(n){case"input":Jh(t),hT(t,r,!1);break;case"textarea":Jh(t),pT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pl(t,!!r.multiple,i,!1):r.defaultValue!=null&&pl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)DN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Do(Td.current),Do(Wr.current),af(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(i=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:of(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&of(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return Kt(e),null;case 13:if(Ke(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Dn!==null&&e.mode&1&&!(e.flags&128))XR(),$l(),e.flags|=98560,i=!1;else if(i=af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Ur]=e}else $l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),i=!1}else gr!==null&&(Lw(gr),gr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?Pt===0&&(Pt=3):L_())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Bl(),Aw(t,e),t===null&&xd(e.stateNode.containerInfo),Kt(e),null;case 10:return x_(e.type._context),Kt(e),null;case 17:return En(e.type)&&Xp(),Kt(e),null;case 19:if(Ke(Xe),i=e.memoizedState,i===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yc(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=im(t),o!==null){for(e.flags|=128,Yc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Xe,Xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>Gl&&(e.flags|=128,r=!0,Yc(i,!1),e.lanes=4194304)}else{if(!r)if(t=im(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Kt(e),null}else 2*ft()-i.renderingStartTime>Gl&&n!==1073741824&&(e.flags|=128,r=!0,Yc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=Xe.current,ze(Xe,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return M_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function E3(t,e){switch(g_(e),e.tag){case 1:return En(e.type)&&Xp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bl(),Ke(bn),Ke(tn),S_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T_(e),null;case 13:if(Ke(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));$l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Xe),null;case 4:return Bl(),null;case 10:return x_(e.type._context),null;case 22:case 23:return M_(),null;case 24:return null;default:return null}}var uf=!1,Xt=!1,T3=typeof WeakSet=="function"?WeakSet:Set,Z=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function Rw(t,e,n){try{n()}catch(r){ut(t,e,r)}}var rS=!1;function S3(t,e){if(fw=Kp,t=FR(),p_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,p=t,f=null;t:for(;;){for(var m;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++h===r&&(l=o),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pw={focusedElem:t,selectionRange:n},Kp=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,E=y.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:dr(e.type,x),E);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){ut(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return y=rS,rS=!1,y}function Ku(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rw(e,n,i)}s=s.next}while(s!==r)}}function vg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jN(t){var e=t.alternate;e!==null&&(t.alternate=null,jN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[bd],delete e[vw],delete e[a3],delete e[l3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MN(t){return t.tag===5||t.tag===3||t.tag===4}function sS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jp));else if(r!==4&&(t=t.child,t!==null))for(kw(t,e,n),t=t.sibling;t!==null;)kw(t,e,n),t=t.sibling}function Ow(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ow(t,e,n),t=t.sibling;t!==null;)Ow(t,e,n),t=t.sibling}var Lt=null,mr=!1;function Hs(t,e,n){for(n=n.child;n!==null;)LN(t,e,n),n=n.sibling}function LN(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(cg,n)}catch{}switch(n.tag){case 5:Xt||dl(n,e);case 6:var r=Lt,s=mr;Lt=null,Hs(t,e,n),Lt=r,mr=s,Lt!==null&&(mr?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(mr?(t=Lt,n=n.stateNode,t.nodeType===8?xy(t.parentNode,n):t.nodeType===1&&xy(t,n),vd(t)):xy(Lt,n.stateNode));break;case 4:r=Lt,s=mr,Lt=n.stateNode.containerInfo,mr=!0,Hs(t,e,n),Lt=r,mr=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rw(n,e,o),s=s.next}while(s!==r)}Hs(t,e,n);break;case 1:if(!Xt&&(dl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}Hs(t,e,n);break;case 21:Hs(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,Hs(t,e,n),Xt=r):Hs(t,e,n);break;default:Hs(t,e,n)}}function iS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new T3),e.forEach(function(r){var s=D3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,mr=!1;break e;case 3:Lt=a.stateNode.containerInfo,mr=!0;break e;case 4:Lt=a.stateNode.containerInfo,mr=!0;break e}a=a.return}if(Lt===null)throw Error(q(160));LN(i,o,s),Lt=null,mr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ut(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VN(e,t),e=e.sibling}function VN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),Rr(t),r&4){try{Ku(3,t,t.return),vg(3,t)}catch(x){ut(t,t.return,x)}try{Ku(5,t,t.return)}catch(x){ut(t,t.return,x)}}break;case 1:cr(e,t),Rr(t),r&512&&n!==null&&dl(n,n.return);break;case 5:if(cr(e,t),Rr(t),r&512&&n!==null&&dl(n,n.return),t.flags&32){var s=t.stateNode;try{fd(s,"")}catch(x){ut(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&oR(s,i),rw(a,o);var u=rw(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?dR(s,p):h==="dangerouslySetInnerHTML"?cR(s,p):h==="children"?fd(s,p):t_(s,h,p,u)}switch(a){case"input":X0(s,i);break;case"textarea":aR(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?pl(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?pl(s,!!i.multiple,i.defaultValue,!0):pl(s,!!i.multiple,i.multiple?[]:"",!1))}s[bd]=i}catch(x){ut(t,t.return,x)}}break;case 6:if(cr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ut(t,t.return,x)}}break;case 3:if(cr(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vd(e.containerInfo)}catch(x){ut(t,t.return,x)}break;case 4:cr(e,t),Rr(t);break;case 13:cr(e,t),Rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(D_=ft())),r&4&&iS(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(u=Xt)||h,cr(e,t),Xt=u):cr(e,t),Rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Z=t,h=t.child;h!==null;){for(p=Z=h;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ku(4,f,f.return);break;case 1:dl(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){ut(r,n,x)}}break;case 5:dl(f,f.return);break;case 22:if(f.memoizedState!==null){aS(p);continue}}m!==null?(m.return=f,Z=m):aS(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uR("display",o))}catch(x){ut(t,t.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){ut(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:cr(e,t),Rr(t),r&4&&iS(t);break;case 21:break;default:cr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MN(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fd(s,""),r.flags&=-33);var i=sS(t);Ow(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sS(t);kw(t,a,o);break;default:throw Error(q(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function P3(t,e,n){Z=t,FN(t)}function FN(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||uf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=uf;var u=Xt;if(uf=o,(Xt=l)&&!u)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?lS(s):l!==null?(l.return=o,Z=l):lS(s);for(;i!==null;)Z=i,FN(i),i=i.sibling;Z=s,uf=a,Xt=u}oS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):oS(t)}}function oS(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||vg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&GT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}GT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&vd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Xt||e.flags&512&&Nw(e)}catch(f){ut(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function aS(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function lS(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vg(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ut(e,s,l)}}var i=e.return;try{Nw(e)}catch(l){ut(e,i,l)}break;case 5:var o=e.return;try{Nw(e)}catch(l){ut(e,o,l)}}}catch(l){ut(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var I3=Math.ceil,lm=js.ReactCurrentDispatcher,k_=js.ReactCurrentOwner,Yn=js.ReactCurrentBatchConfig,Ae=0,Dt=null,_t=null,$t=0,kn=0,hl=Zi(0),Pt=0,Cd=null,Qo=0,yg=0,O_=0,Qu=null,gn=null,D_=0,Gl=1/0,cs=null,cm=!1,Dw=null,Ri=null,df=!1,_i=null,um=0,Yu=0,jw=null,gp=-1,vp=0;function cn(){return Ae&6?ft():gp!==-1?gp:gp=ft()}function Ni(t){return t.mode&1?Ae&2&&$t!==0?$t&-$t:u3.transition!==null?(vp===0&&(vp=ER()),vp):(t=je,t!==0||(t=window.event,t=t===void 0?16:RR(t.type)),t):1}function xr(t,e,n,r){if(50<Yu)throw Yu=0,jw=null,Error(q(185));rh(t,n,r),(!(Ae&2)||t!==Dt)&&(t===Dt&&(!(Ae&2)&&(yg|=n),Pt===4&&ui(t,$t)),Tn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Gl=ft()+500,pg&&eo()))}function Tn(t,e){var n=t.callbackNode;uF(t,e);var r=Hp(t,t===Dt?$t:0);if(r===0)n!==null&&vT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vT(n),e===1)t.tag===0?c3(cS.bind(null,t)):QR(cS.bind(null,t)),i3(function(){!(Ae&6)&&eo()}),n=null;else{switch(TR(r)){case 1:n=o_;break;case 4:n=_R;break;case 16:n=Wp;break;case 536870912:n=bR;break;default:n=Wp}n=HN(n,$N.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $N(t,e){if(gp=-1,vp=0,Ae&6)throw Error(q(327));var n=t.callbackNode;if(wl()&&t.callbackNode!==n)return null;var r=Hp(t,t===Dt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dm(t,r);else{e=r;var s=Ae;Ae|=2;var i=BN();(Dt!==t||$t!==e)&&(cs=null,Gl=ft()+500,Uo(t,e));do try{R3();break}catch(a){UN(t,a)}while(!0);w_(),lm.current=i,Ae=s,_t!==null?e=0:(Dt=null,$t=0,e=Pt)}if(e!==0){if(e===2&&(s=lw(t),s!==0&&(r=s,e=Mw(t,s))),e===1)throw n=Cd,Uo(t,0),ui(t,r),Tn(t,ft()),n;if(e===6)ui(t,r);else{if(s=t.current.alternate,!(r&30)&&!C3(s)&&(e=dm(t,r),e===2&&(i=lw(t),i!==0&&(r=i,e=Mw(t,i))),e===1))throw n=Cd,Uo(t,0),ui(t,r),Tn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:To(t,gn,cs);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=D_+500-ft(),10<e)){if(Hp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gw(To.bind(null,t,gn,cs),e);break}To(t,gn,cs);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-wr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I3(r/1960))-r,10<r){t.timeoutHandle=gw(To.bind(null,t,gn,cs),r);break}To(t,gn,cs);break;case 5:To(t,gn,cs);break;default:throw Error(q(329))}}}return Tn(t,ft()),t.callbackNode===n?$N.bind(null,t):null}function Mw(t,e){var n=Qu;return t.current.memoizedState.isDehydrated&&(Uo(t,e).flags|=256),t=dm(t,e),t!==2&&(e=gn,gn=n,e!==null&&Lw(e)),t}function Lw(t){gn===null?gn=t:gn.push.apply(gn,t)}function C3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!br(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~O_,e&=~yg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function cS(t){if(Ae&6)throw Error(q(327));wl();var e=Hp(t,0);if(!(e&1))return Tn(t,ft()),null;var n=dm(t,e);if(t.tag!==0&&n===2){var r=lw(t);r!==0&&(e=r,n=Mw(t,r))}if(n===1)throw n=Cd,Uo(t,0),ui(t,e),Tn(t,ft()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,To(t,gn,cs),Tn(t,ft()),null}function j_(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Gl=ft()+500,pg&&eo())}}function Yo(t){_i!==null&&_i.tag===0&&!(Ae&6)&&wl();var e=Ae;Ae|=1;var n=Yn.transition,r=je;try{if(Yn.transition=null,je=1,t)return t()}finally{je=r,Yn.transition=n,Ae=e,!(Ae&6)&&eo()}}function M_(){kn=hl.current,Ke(hl)}function Uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s3(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(g_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xp();break;case 3:Bl(),Ke(bn),Ke(tn),S_();break;case 5:T_(r);break;case 4:Bl();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:x_(r.type._context);break;case 22:case 23:M_()}n=n.return}if(Dt=t,_t=t=ki(t.current,null),$t=kn=e,Pt=0,Cd=null,O_=yg=Qo=0,gn=Qu=null,Oo!==null){for(e=0;e<Oo.length;e++)if(n=Oo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Oo=null}return t}function UN(t,e){do{var n=_t;try{if(w_(),fp.current=am,om){for(var r=tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}om=!1}if(Ko=0,Nt=Tt=tt=null,Hu=!1,Sd=0,k_.current=null,n===null||n.return===null){Pt=1,Cd=e,_t=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=YT(o);if(m!==null){m.flags&=-257,JT(m,o,a,i,e),m.mode&1&&QT(i,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){QT(i,u,e),L_();break e}l=Error(q(426))}}else if(Ye&&a.mode&1){var E=YT(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),JT(E,o,a,i,e),v_(zl(l,a));break e}}i=l=zl(l,a),Pt!==4&&(Pt=2),Qu===null?Qu=[i]:Qu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=TN(i,l,e);zT(i,w);break e;case 1:a=l;var b=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ri===null||!Ri.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=SN(i,a,e);zT(i,C);break e}}i=i.return}while(i!==null)}GN(n)}catch(O){e=O,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function BN(){var t=lm.current;return lm.current=am,t===null?am:t}function L_(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Dt===null||!(Qo&268435455)&&!(yg&268435455)||ui(Dt,$t)}function dm(t,e){var n=Ae;Ae|=2;var r=BN();(Dt!==t||$t!==e)&&(cs=null,Uo(t,e));do try{A3();break}catch(s){UN(t,s)}while(!0);if(w_(),Ae=n,lm.current=r,_t!==null)throw Error(q(261));return Dt=null,$t=0,Pt}function A3(){for(;_t!==null;)zN(_t)}function R3(){for(;_t!==null&&!tF();)zN(_t)}function zN(t){var e=WN(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?GN(t):_t=e,k_.current=null}function GN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=E3(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,_t=null;return}}else if(n=b3(n,e,kn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Pt===0&&(Pt=5)}function To(t,e,n){var r=je,s=Yn.transition;try{Yn.transition=null,je=1,N3(t,e,n,r)}finally{Yn.transition=s,je=r}return null}function N3(t,e,n,r){do wl();while(_i!==null);if(Ae&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dF(t,i),t===Dt&&(_t=Dt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||df||(df=!0,HN(Wp,function(){return wl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yn.transition,Yn.transition=null;var o=je;je=1;var a=Ae;Ae|=4,k_.current=null,S3(t,n),VN(n,t),JF(pw),Kp=!!fw,pw=fw=null,t.current=n,P3(n),nF(),Ae=a,je=o,Yn.transition=i}else t.current=n;if(df&&(df=!1,_i=t,um=s),i=t.pendingLanes,i===0&&(Ri=null),iF(n.stateNode),Tn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(cm)throw cm=!1,t=Dw,Dw=null,t;return um&1&&t.tag!==0&&wl(),i=t.pendingLanes,i&1?t===jw?Yu++:(Yu=0,jw=t):Yu=0,eo(),null}function wl(){if(_i!==null){var t=TR(um),e=Yn.transition,n=je;try{if(Yn.transition=null,je=16>t?16:t,_i===null)var r=!1;else{if(t=_i,_i=null,um=0,Ae&6)throw Error(q(331));var s=Ae;for(Ae|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:Ku(8,h,i)}var p=h.child;if(p!==null)p.return=h,Z=p;else for(;Z!==null;){h=Z;var f=h.sibling,m=h.return;if(jN(h),h===u){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ku(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Z=w;break e}Z=i.return}}var b=t.current;for(Z=b;Z!==null;){o=Z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Z=_;else e:for(o=b;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vg(9,a)}}catch(O){ut(a,a.return,O)}if(a===o){Z=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Z=C;break e}Z=a.return}}if(Ae=s,eo(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(cg,t)}catch{}r=!0}return r}finally{je=n,Yn.transition=e}}return!1}function uS(t,e,n){e=zl(n,e),e=TN(t,e,1),t=Ai(t,e,1),e=cn(),t!==null&&(rh(t,1,e),Tn(t,e))}function ut(t,e,n){if(t.tag===3)uS(t,t,n);else for(;e!==null;){if(e.tag===3){uS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=zl(n,t),t=SN(e,t,1),e=Ai(e,t,1),t=cn(),e!==null&&(rh(e,1,t),Tn(e,t));break}}e=e.return}}function k3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&($t&n)===n&&(Pt===4||Pt===3&&($t&130023424)===$t&&500>ft()-D_?Uo(t,0):O_|=n),Tn(t,e)}function qN(t,e){e===0&&(t.mode&1?(e=ef,ef<<=1,!(ef&130023424)&&(ef=4194304)):e=1);var n=cn();t=Ps(t,e),t!==null&&(rh(t,e,n),Tn(t,n))}function O3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qN(t,n)}function D3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),qN(t,n)}var WN;WN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,_3(t,e,n);yn=!!(t.flags&131072)}else yn=!1,Ye&&e.flags&1048576&&YR(e,tm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mp(t,e),t=e.pendingProps;var s=Fl(e,tn.current);yl(e,n),s=I_(null,e,r,t,s,n);var i=C_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(i=!0,Zp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,b_(e),s.updater=gg,e.stateNode=s,s._reactInternals=e,Ew(e,r,t,n),e=Pw(null,e,r,!0,i,n)):(e.tag=0,Ye&&i&&m_(e),an(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=M3(r),t=dr(r,t),s){case 0:e=Sw(null,e,r,t,n);break e;case 1:e=eS(null,e,r,t,n);break e;case 11:e=XT(null,e,r,t,n);break e;case 14:e=ZT(null,e,r,dr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),Sw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),eS(t,e,r,s,n);case 3:e:{if(AN(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nN(t,e),sm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zl(Error(q(423)),e),e=tS(t,e,r,n,s);break e}else if(r!==s){s=zl(Error(q(424)),e),e=tS(t,e,r,n,s);break e}else for(Dn=Ci(e.stateNode.containerInfo.firstChild),Mn=e,Ye=!0,gr=null,n=eN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($l(),r===s){e=Is(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return rN(e),t===null&&xw(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,mw(r,s)?o=null:i!==null&&mw(r,i)&&(e.flags|=32),CN(t,e),an(t,e,o,n),e.child;case 6:return t===null&&xw(e),null;case 13:return RN(t,e,n);case 4:return E_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ul(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),XT(t,e,r,s,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ze(nm,r._currentValue),r._currentValue=o,i!==null)if(br(i.value,o)){if(i.children===s.children&&!bn.current){e=Is(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_s(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),_w(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_w(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}an(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,yl(e,n),s=Xn(s),r=r(s),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,s=dr(r,e.pendingProps),s=dr(r.type,s),ZT(t,e,r,s,n);case 15:return PN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),mp(t,e),e.tag=1,En(r)?(t=!0,Zp(e)):t=!1,yl(e,n),EN(e,r,s),Ew(e,r,s,n),Pw(null,e,r,!0,t,n);case 19:return NN(t,e,n);case 22:return IN(t,e,n)}throw Error(q(156,e.tag))};function HN(t,e){return xR(t,e)}function j3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new j3(t,e,n,r)}function V_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M3(t){if(typeof t=="function")return V_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r_)return 11;if(t===s_)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")V_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return Bo(n.children,s,i,e);case n_:o=8,s|=8;break;case H0:return t=Kn(12,n,e,s|2),t.elementType=H0,t.lanes=i,t;case K0:return t=Kn(13,n,e,s),t.elementType=K0,t.lanes=i,t;case Q0:return t=Kn(19,n,e,s),t.elementType=Q0,t.lanes=i,t;case rR:return wg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tR:o=10;break e;case nR:o=9;break e;case r_:o=11;break e;case s_:o=14;break e;case oi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Bo(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function wg(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=rR,t.lanes=n,t.stateNode={isHidden:!1},t}function Cy(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function Ay(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cy(0),this.expirationTimes=cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function F_(t,e,n,r,s,i,o,a,l){return t=new L3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},b_(i),t}function V3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KN(t){if(!t)return zi;t=t._reactInternals;e:{if(ma(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(En(n))return KR(t,n,e)}return e}function QN(t,e,n,r,s,i,o,a,l){return t=F_(n,r,!0,t,s,i,o,a,l),t.context=KN(null),n=t.current,r=cn(),s=Ni(n),i=_s(r,s),i.callback=e??null,Ai(n,i,s),t.current.lanes=s,rh(t,s,r),Tn(t,r),t}function xg(t,e,n,r){var s=e.current,i=cn(),o=Ni(s);return n=KN(n),e.context===null?e.context=n:e.pendingContext=n,e=_s(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ai(s,e,o),t!==null&&(xr(t,s,o,i),hp(t,s,o)),o}function hm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $_(t,e){dS(t,e),(t=t.alternate)&&dS(t,e)}function F3(){return null}var YN=typeof reportError=="function"?reportError:function(t){console.error(t)};function U_(t){this._internalRoot=t}_g.prototype.render=U_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));xg(t,e,null,null)};_g.prototype.unmount=U_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yo(function(){xg(null,t,null,null)}),e[Ss]=null}};function _g(t){this._internalRoot=t}_g.prototype.unstable_scheduleHydration=function(t){if(t){var e=IR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&AR(t)}};function B_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hS(){}function $3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=hm(o);i.call(u)}}var o=QN(e,r,t,0,null,!1,!1,"",hS);return t._reactRootContainer=o,t[Ss]=o.current,xd(t.nodeType===8?t.parentNode:t),Yo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=hm(l);a.call(u)}}var l=F_(t,0,!1,null,null,!1,!1,"",hS);return t._reactRootContainer=l,t[Ss]=l.current,xd(t.nodeType===8?t.parentNode:t),Yo(function(){xg(e,l,n,r)}),l}function Eg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hm(o);a.call(l)}}xg(e,o,t,s)}else o=$3(n,e,t,s,r);return hm(o)}SR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ru(e.pendingLanes);n!==0&&(a_(e,n|1),Tn(e,ft()),!(Ae&6)&&(Gl=ft()+500,eo()))}break;case 13:Yo(function(){var r=Ps(t,1);if(r!==null){var s=cn();xr(r,t,1,s)}}),$_(t,1)}};l_=function(t){if(t.tag===13){var e=Ps(t,134217728);if(e!==null){var n=cn();xr(e,t,134217728,n)}$_(t,134217728)}};PR=function(t){if(t.tag===13){var e=Ni(t),n=Ps(t,e);if(n!==null){var r=cn();xr(n,t,e,r)}$_(t,e)}};IR=function(){return je};CR=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};iw=function(t,e,n){switch(e){case"input":if(X0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fg(r);if(!s)throw Error(q(90));iR(r),X0(r,s)}}}break;case"textarea":aR(t,n);break;case"select":e=n.value,e!=null&&pl(t,!!n.multiple,e,!1)}};pR=j_;mR=Yo;var U3={usingClientEntryPoint:!1,Events:[ih,ol,fg,hR,fR,j_]},Jc={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B3={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yR(t),t===null?null:t.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||F3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{cg=hf.inject(B3),qr=hf}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U3;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B_(e))throw Error(q(200));return V3(t,e,null,n)};Bn.createRoot=function(t,e){if(!B_(t))throw Error(q(299));var n=!1,r="",s=YN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=F_(t,1,!1,null,null,n,!1,r,s),t[Ss]=e.current,xd(t.nodeType===8?t.parentNode:t),new U_(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=yR(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Yo(t)};Bn.hydrate=function(t,e,n){if(!bg(e))throw Error(q(200));return Eg(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!B_(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=YN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QN(e,null,t,1,n??null,s,!1,i,o),t[Ss]=e.current,xd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _g(e)};Bn.render=function(t,e,n){if(!bg(e))throw Error(q(200));return Eg(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!bg(t))throw Error(q(40));return t._reactRootContainer?(Yo(function(){Eg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ss]=null})}),!0):!1};Bn.unstable_batchedUpdates=j_;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bg(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Eg(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function JN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JN)}catch(t){console.error(t)}}JN(),JA.exports=Bn;var Tg=JA.exports;const XN=VA(Tg);var ZN,fS=Tg;ZN=fS.createRoot,fS.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const pS="popstate";function z3(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Vw("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fm(s)}return q3(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ek(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G3(){return Math.random().toString(36).substr(2,8)}function mS(t,e){return{usr:t.state,key:t.key,idx:e}}function Vw(t,e,n,r){return n===void 0&&(n=null),Ad({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pc(e):e,{state:n,key:e&&e.key||r||G3()})}function fm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function q3(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bi.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Ad({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=bi.Pop;let E=h(),w=E==null?null:E-u;u=E,l&&l({action:a,location:x.location,delta:w})}function f(E,w){a=bi.Push;let b=Vw(x.location,E,w);u=h()+1;let _=mS(b,u),C=x.createHref(b);try{o.pushState(_,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(C)}i&&l&&l({action:a,location:x.location,delta:1})}function m(E,w){a=bi.Replace;let b=Vw(x.location,E,w);u=h();let _=mS(b,u),C=x.createHref(b);o.replaceState(_,"",C),i&&l&&l({action:a,location:x.location,delta:0})}function y(E){let w=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof E=="string"?E:fm(E);return b=b.replace(/ $/,"%20"),mt(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let x={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(pS,p),l=E,()=>{s.removeEventListener(pS,p),l=null}},createHref(E){return e(s,E)},createURL:y,encodeLocation(E){let w=y(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(E){return o.go(E)}};return x}var gS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gS||(gS={}));function W3(t,e,n){return n===void 0&&(n="/"),H3(t,e,n,!1)}function H3(t,e,n,r){let s=typeof e=="string"?pc(e):e,i=z_(s.pathname||"/",n);if(i==null)return null;let o=tk(t);K3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=i$(i);a=r$(o[l],u,r)}return a}function tk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(mt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tk(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:t$(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of nk(i.path))s(i,o,l)}),e}function nk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=nk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function K3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q3=/^:[\w-]+$/,Y3=3,J3=2,X3=1,Z3=10,e$=-2,vS=t=>t==="*";function t$(t,e){let n=t.split("/"),r=n.length;return n.some(vS)&&(r+=e$),e&&(r+=J3),n.filter(s=>!vS(s)).reduce((s,i)=>s+(Q3.test(i)?Y3:i===""?X3:Z3),r)}function n$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function r$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=yS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=yS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Oi([i,p.pathname]),pathnameBase:c$(Oi([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=Oi([i,p.pathnameBase]))}return o}function yS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=s$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let x=a[p]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[p];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function s$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ek(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function i$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ek(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function z_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function o$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pc(t):t;return{pathname:n?n.startsWith("/")?n:a$(n,e):e,search:u$(r),hash:d$(s)}}function a$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ry(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function G_(t,e){let n=l$(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function q_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pc(t):(s=Ad({},t),mt(!s.pathname||!s.pathname.includes("?"),Ry("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Ry("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Ry("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=o$(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),c$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function h$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rk=["post","put","patch","delete"];new Set(rk);const f$=["get",...rk];new Set(f$);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rd.apply(this,arguments)}const W_=g.createContext(null),p$=g.createContext(null),to=g.createContext(null),Sg=g.createContext(null),Ms=g.createContext({outlet:null,matches:[],isDataRoute:!1}),sk=g.createContext(null);function m$(t,e){let{relative:n}=e===void 0?{}:e;mc()||mt(!1);let{basename:r,navigator:s}=g.useContext(to),{hash:i,pathname:o,search:a}=ok(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Oi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function mc(){return g.useContext(Sg)!=null}function ga(){return mc()||mt(!1),g.useContext(Sg).location}function ik(t){g.useContext(to).static||g.useLayoutEffect(t)}function ht(){let{isDataRoute:t}=g.useContext(Ms);return t?A$():g$()}function g$(){mc()||mt(!1);let t=g.useContext(W_),{basename:e,future:n,navigator:r}=g.useContext(to),{matches:s}=g.useContext(Ms),{pathname:i}=ga(),o=JSON.stringify(G_(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return ik(()=>{a.current=!0}),g.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=q_(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Oi([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function v$(){let{matches:t}=g.useContext(Ms),e=t[t.length-1];return e?e.params:{}}function ok(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(to),{matches:s}=g.useContext(Ms),{pathname:i}=ga(),o=JSON.stringify(G_(s,r.v7_relativeSplatPath));return g.useMemo(()=>q_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function y$(t,e){return w$(t,e)}function w$(t,e,n,r){mc()||mt(!1);let{navigator:s}=g.useContext(to),{matches:i}=g.useContext(Ms),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ga(),h;if(e){var p;let E=typeof e=="string"?pc(e):e;l==="/"||(p=E.pathname)!=null&&p.startsWith(l)||mt(!1),h=E}else h=u;let f=h.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=W3(t,{pathname:m}),x=T$(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Oi([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Oi([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&x?g.createElement(Sg.Provider,{value:{location:Rd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:bi.Pop}},x):x}function x$(){let t=C$(),e=h$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const _$=g.createElement(x$,null);class b$ extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Ms.Provider,{value:this.props.routeContext},g.createElement(sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E$(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(W_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ms.Provider,{value:e},r)}function T$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||mt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:f,errors:m}=n,y=p.route.loader&&f[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let m,y=!1,x=null,E=null;n&&(m=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||_$,l&&(u<0&&f===0?(y=!0,E=null):u===f&&(y=!0,E=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),b=()=>{let _;return m?_=x:y?_=E:p.route.Component?_=g.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=h,g.createElement(E$,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:_})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?g.createElement(b$,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var ak=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ak||{}),pm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pm||{});function S$(t){let e=g.useContext(W_);return e||mt(!1),e}function P$(t){let e=g.useContext(p$);return e||mt(!1),e}function I$(t){let e=g.useContext(Ms);return e||mt(!1),e}function lk(t){let e=I$(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function C$(){var t;let e=g.useContext(sk),n=P$(pm.UseRouteError),r=lk(pm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function A$(){let{router:t}=S$(ak.UseNavigateStable),e=lk(pm.UseNavigateStable),n=g.useRef(!1);return ik(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Rd({fromRouteId:e},i)))},[t,e])}function H_(t){let{to:e,replace:n,state:r,relative:s}=t;mc()||mt(!1);let{future:i,static:o}=g.useContext(to),{matches:a}=g.useContext(Ms),{pathname:l}=ga(),u=ht(),h=q_(e,G_(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(h);return g.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function pe(t){mt(!1)}function R$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bi.Pop,navigator:i,static:o=!1,future:a}=t;mc()&&mt(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Rd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=pc(r));let{pathname:h="/",search:p="",hash:f="",state:m=null,key:y="default"}=r,x=g.useMemo(()=>{let E=z_(h,l);return E==null?null:{location:{pathname:E,search:p,hash:f,state:m,key:y},navigationType:s}},[l,h,p,f,m,y,s]);return x==null?null:g.createElement(to.Provider,{value:u},g.createElement(Sg.Provider,{children:n,value:x}))}function N$(t){let{children:e,location:n}=t;return y$(Fw(e),n)}new Promise(()=>{});function Fw(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Fw(r.props.children,i));return}r.type!==pe&&mt(!1),!r.props.index||!r.props.children||mt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fw(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}function k$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function O$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D$(t,e){return t.button===0&&(!e||e==="_self")&&!O$(t)}function Uw(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function j$(t,e){let n=Uw(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const M$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L$="6";try{window.__reactRouterVersion=L$}catch{}const V$="startTransition",wS=QA[V$];function F$(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=z3({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=g.useCallback(p=>{u&&wS?wS(()=>l(p)):l(p)},[l,u]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.createElement(R$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const $$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B$=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,f=k$(e,M$),{basename:m}=g.useContext(to),y,x=!1;if(typeof u=="string"&&U$.test(u)&&(y=u,$$))try{let _=new URL(window.location.href),C=u.startsWith("//")?new URL(_.protocol+u):new URL(u),O=z_(C.pathname,m);C.origin===_.origin&&O!=null?u=O+C.search+C.hash:x=!0}catch{}let E=m$(u,{relative:s}),w=z$(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function b(_){r&&r(_),_.defaultPrevented||w(_)}return g.createElement("a",$w({},f,{href:y||E,onClick:x||i?r:b,ref:n,target:l}))});var xS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xS||(xS={}));var _S;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_S||(_S={}));function z$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ht(),u=ga(),h=ok(t,{relative:o});return g.useCallback(p=>{if(D$(p,n)){p.preventDefault();let f=r!==void 0?r:fm(u)===fm(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,h,r,s,n,t,i,o,a])}function G$(t){let e=g.useRef(Uw(t)),n=g.useRef(!1),r=ga(),s=g.useMemo(()=>j$(r.search,n.current?null:e.current),[r.search]),i=ht(),o=g.useCallback((a,l)=>{const u=Uw(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var bS=["light","dark"],q$="(prefers-color-scheme: dark)",W$=g.createContext(void 0),H$={setTheme:t=>{},themes:[]},K$=()=>{var t;return(t=g.useContext(W$))!=null?t:H$};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?bS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,x=!1,E=!0)=>{let w=o?o[y]:y,b=x?y+"|| ''":`'${w}'`,_="";return s&&E&&!x&&bS.includes(y)&&(_+=`d.style.colorScheme = '${y}';`),n==="class"?x||w?_+=`c.add(${b})`:_+="null":w&&(_+=`d[s](n,${b})`),_},m=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${q$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var Q$=t=>{switch(t){case"success":return X$;case"info":return eU;case"warning":return Z$;case"error":return tU;default:return null}},Y$=Array(12).fill(0),J$=({visible:t})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},H.createElement("div",{className:"sonner-spinner"},Y$.map((e,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),X$=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Z$=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eU=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tU=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nU=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Bw=1,rU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Bw++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(iU(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Bw++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Nn=new rU,sU=(t,e)=>{let n=(e==null?void 0:e.id)||Bw++;return Nn.addToast({title:t,...e,id:n}),n},iU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",oU=sU,aU=()=>Nn.toasts;Object.assign(oU,{success:Nn.success,info:Nn.info,warning:Nn.warning,error:Nn.error,custom:Nn.custom,message:Nn.message,promise:Nn.promise,dismiss:Nn.dismiss,loading:Nn.loading},{getHistory:aU});function lU(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}lU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ff(t){return t.label!==void 0}var cU=3,uU="32px",dU=4e3,hU=356,fU=14,pU=20,mU=200;function gU(...t){return t.filter(Boolean).join(" ")}var vU=t=>{var e,n,r,s,i,o,a,l,u,h;let{invert:p,toast:f,unstyled:m,interacting:y,setHeights:x,visibleToasts:E,heights:w,index:b,toasts:_,expanded:C,removeToast:O,defaultRichColors:M,closeButton:P,style:S,cancelButtonStyle:I,actionButtonStyle:A,className:N="",descriptionClassName:j="",duration:k,position:J,gap:ue,loadingIcon:ne,expandByDefault:de,classNames:F,icons:U,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:Q,cn:re}=t,[he,Ue]=H.useState(!1),[st,be]=H.useState(!1),[Je,Cn]=H.useState(!1),[vt,Bt]=H.useState(!1),[ts,Ir]=H.useState(0),[or,ns]=H.useState(0),$s=H.useRef(null),ar=H.useRef(null),Ic=b===0,Cc=b+1<=E,yt=f.type,Cr=f.dismissible!==!1,Nh=f.className||"",Bv=f.descriptionClassName||"",Us=H.useMemo(()=>w.findIndex(me=>me.toastId===f.id)||0,[w,f.id]),Ac=H.useMemo(()=>{var me;return(me=f.closeButton)!=null?me:P},[f.closeButton,P]),Rc=H.useMemo(()=>f.duration||k||dU,[f.duration,k]),wt=H.useRef(0),it=H.useRef(0),ho=H.useRef(0),rs=H.useRef(null),[Nc,zv]=J.split("-"),Bs=H.useMemo(()=>w.reduce((me,Le,Oe)=>Oe>=Us?me:me+Le.height,0),[w,Us]),kc=nU(),kh=f.invert||p,fo=yt==="loading";it.current=H.useMemo(()=>Us*ue+Bs,[Us,Bs]),H.useEffect(()=>{Ue(!0)},[]),H.useLayoutEffect(()=>{if(!he)return;let me=ar.current,Le=me.style.height;me.style.height="auto";let Oe=me.getBoundingClientRect().height;me.style.height=Le,ns(Oe),x(zt=>zt.find(mn=>mn.toastId===f.id)?zt.map(mn=>mn.toastId===f.id?{...mn,height:Oe}:mn):[{toastId:f.id,height:Oe,position:f.position},...zt])},[he,f.title,f.description,x,f.id]);let Ar=H.useCallback(()=>{be(!0),Ir(it.current),x(me=>me.filter(Le=>Le.toastId!==f.id)),setTimeout(()=>{O(f)},mU)},[f,O,x,it]);H.useEffect(()=>{if(f.promise&&yt==="loading"||f.duration===1/0||f.type==="loading")return;let me,Le=Rc;return C||y||Q&&kc?(()=>{if(ho.current<wt.current){let Oe=new Date().getTime()-wt.current;Le=Le-Oe}ho.current=new Date().getTime()})():Le!==1/0&&(wt.current=new Date().getTime(),me=setTimeout(()=>{var Oe;(Oe=f.onAutoClose)==null||Oe.call(f,f),Ar()},Le)),()=>clearTimeout(me)},[C,y,de,f,Rc,Ar,f.promise,yt,Q,kc]),H.useEffect(()=>{let me=ar.current;if(me){let Le=me.getBoundingClientRect().height;return ns(Le),x(Oe=>[{toastId:f.id,height:Le,position:f.position},...Oe]),()=>x(Oe=>Oe.filter(zt=>zt.toastId!==f.id))}},[x,f.id]),H.useEffect(()=>{f.delete&&Ar()},[Ar,f.delete]);function Gv(){return U!=null&&U.loading?H.createElement("div",{className:"sonner-loader","data-visible":yt==="loading"},U.loading):ne?H.createElement("div",{className:"sonner-loader","data-visible":yt==="loading"},ne):H.createElement(J$,{visible:yt==="loading"})}return H.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ar,className:re(N,Nh,F==null?void 0:F.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[yt],(n=f==null?void 0:f.classNames)==null?void 0:n[yt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:M,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":he,"data-promise":!!f.promise,"data-removed":st,"data-visible":Cc,"data-y-position":Nc,"data-x-position":zv,"data-index":b,"data-front":Ic,"data-swiping":Je,"data-dismissible":Cr,"data-type":yt,"data-invert":kh,"data-swipe-out":vt,"data-expanded":!!(C||de&&he),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${st?ts:it.current}px`,"--initial-height":de?"auto":`${or}px`,...S,...f.style},onPointerDown:me=>{fo||!Cr||($s.current=new Date,Ir(it.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(Cn(!0),rs.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Le,Oe,zt;if(vt||!Cr)return;rs.current=null;let mn=Number(((me=ar.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),zs=new Date().getTime()-((Le=$s.current)==null?void 0:Le.getTime()),ss=Math.abs(mn)/zs;if(Math.abs(mn)>=pU||ss>.11){Ir(it.current),(Oe=f.onDismiss)==null||Oe.call(f,f),Ar(),Bt(!0);return}(zt=ar.current)==null||zt.style.setProperty("--swipe-amount","0px"),Cn(!1)},onPointerMove:me=>{var Le;if(!rs.current||!Cr)return;let Oe=me.clientY-rs.current.y,zt=me.clientX-rs.current.x,mn=(Nc==="top"?Math.min:Math.max)(0,Oe),zs=me.pointerType==="touch"?10:2;Math.abs(mn)>zs?(Le=ar.current)==null||Le.style.setProperty("--swipe-amount",`${Oe}px`):Math.abs(zt)>zs&&(rs.current=null)}},Ac&&!f.jsx?H.createElement("button",{"aria-label":K,"data-disabled":fo,"data-close-button":!0,onClick:fo||!Cr?()=>{}:()=>{var me;Ar(),(me=f.onDismiss)==null||me.call(f,f)},className:re(F==null?void 0:F.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||H.isValidElement(f.title)?f.jsx||f.title:H.createElement(H.Fragment,null,yt||f.icon||f.promise?H.createElement("div",{"data-icon":"",className:re(F==null?void 0:F.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Gv():null,f.type!=="loading"?f.icon||(U==null?void 0:U[yt])||Q$(yt):null):null,H.createElement("div",{"data-content":"",className:re(F==null?void 0:F.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},H.createElement("div",{"data-title":"",className:re(F==null?void 0:F.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?H.createElement("div",{"data-description":"",className:re(j,Bv,F==null?void 0:F.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),H.isValidElement(f.cancel)?f.cancel:f.cancel&&ff(f.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:me=>{var Le,Oe;ff(f.cancel)&&Cr&&((Oe=(Le=f.cancel).onClick)==null||Oe.call(Le,me),Ar())},className:re(F==null?void 0:F.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,H.isValidElement(f.action)?f.action:f.action&&ff(f.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:me=>{var Le,Oe;ff(f.action)&&(me.defaultPrevented||((Oe=(Le=f.action).onClick)==null||Oe.call(Le,me),Ar()))},className:re(F==null?void 0:F.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function ES(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var yU=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:h,style:p,visibleToasts:f=cU,toastOptions:m,dir:y=ES(),gap:x=fU,loadingIcon:E,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:_,cn:C=gU}=t,[O,M]=H.useState([]),P=H.useMemo(()=>Array.from(new Set([n].concat(O.filter(Q=>Q.position).map(Q=>Q.position)))),[O,n]),[S,I]=H.useState([]),[A,N]=H.useState(!1),[j,k]=H.useState(!1),[J,ue]=H.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=H.useRef(null),de=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=H.useRef(null),U=H.useRef(!1),K=H.useCallback(Q=>{var re;(re=O.find(he=>he.id===Q.id))!=null&&re.delete||Nn.dismiss(Q.id),M(he=>he.filter(({id:Ue})=>Ue!==Q.id))},[O]);return H.useEffect(()=>Nn.subscribe(Q=>{if(Q.dismiss){M(re=>re.map(he=>he.id===Q.id?{...he,delete:!0}:he));return}setTimeout(()=>{XN.flushSync(()=>{M(re=>{let he=re.findIndex(Ue=>Ue.id===Q.id);return he!==-1?[...re.slice(0,he),{...re[he],...Q},...re.slice(he+1)]:[Q,...re]})})})}),[]),H.useEffect(()=>{if(l!=="system"){ue(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{ue(Q?"dark":"light")})},[l]),H.useEffect(()=>{O.length<=1&&N(!1)},[O]),H.useEffect(()=>{let Q=re=>{var he,Ue;r.every(st=>re[st]||re.code===st)&&(N(!0),(he=ne.current)==null||he.focus()),re.code==="Escape"&&(document.activeElement===ne.current||(Ue=ne.current)!=null&&Ue.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),H.useEffect(()=>{if(ne.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[ne.current]),O.length?H.createElement("section",{"aria-label":`${b} ${de}`,tabIndex:-1},P.map((Q,re)=>{var he;let[Ue,st]=Q.split("-");return H.createElement("ol",{key:Q,dir:y==="auto"?ES():y,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":Ue,"data-x-position":st,style:{"--front-toast-height":`${((he=S[0])==null?void 0:he.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||uU,"--width":`${hU}px`,"--gap":`${x}px`,...p},onBlur:be=>{U.current&&!be.currentTarget.contains(be.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||U.current||(U.current=!0,F.current=be.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{j||N(!1)},onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},O.filter(be=>!be.position&&re===0||be.position===Q).map((be,Je)=>{var Cn,vt;return H.createElement(vU,{key:be.id,icons:w,index:Je,toast:be,defaultRichColors:u,duration:(Cn=m==null?void 0:m.duration)!=null?Cn:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(vt=m==null?void 0:m.closeButton)!=null?vt:i,interacting:j,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:K,toasts:O.filter(Bt=>Bt.position==be.position),heights:S.filter(Bt=>Bt.position==be.position),setHeights:I,expandByDefault:s,gap:x,loadingIcon:E,expanded:A,pauseWhenPageIsHidden:_,cn:C})}))})):null};const wU=({...t})=>{const{theme:e="system"}=K$();return c.jsx(yU,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xU(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Pg(...t){return e=>t.forEach(n=>xU(n,e))}function Ne(...t){return g.useCallback(Pg(...t),t)}function _U(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ls(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=p=>{var w;const{scope:f,children:m,...y}=p,x=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(x.Provider,{value:E,children:m})};u.displayName=i+"Provider";function h(p,f){var x;const m=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,bU(s,...e)]}function bU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Jo=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(EU);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return c.jsx(zw,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return c.jsx(zw,{...r,ref:e,children:n})});Jo.displayName="Slot";var zw=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=SU(n);return g.cloneElement(n,{...TU(r,n.props),ref:e?Pg(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});zw.displayName="SlotClone";var ck=({children:t})=>c.jsx(c.Fragment,{children:t});function EU(t){return g.isValidElement(t)&&t.type===ck}function TU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function SU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var PU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=PU.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Jo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function uk(t,e){t&&Tg.flushSync(()=>t.dispatchEvent(e))}function St(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function IU(t,e=globalThis==null?void 0:globalThis.document){const n=St(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var CU="DismissableLayer",Gw="dismissableLayer.update",AU="dismissableLayer.pointerDownOutside",RU="dismissableLayer.focusOutside",TS,dk=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ig=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(dk),[h,p]=g.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=Ne(e,P=>p(P)),x=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(E),b=h?x.indexOf(h):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=w,O=OU(P=>{const S=P.target,I=[...u.branches].some(A=>A.contains(S));!C||I||(s==null||s(P),o==null||o(P),P.defaultPrevented||a==null||a())},f),M=DU(P=>{const S=P.target;[...u.branches].some(A=>A.contains(S))||(i==null||i(P),o==null||o(P),P.defaultPrevented||a==null||a())},f);return IU(P=>{b===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},f),g.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(TS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),SS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=TS)}},[h,f,n,u]),g.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),SS())},[h,u]),g.useEffect(()=>{const P=()=>m({});return document.addEventListener(Gw,P),()=>document.removeEventListener(Gw,P)},[]),c.jsx(ve.div,{...l,ref:y,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,O.onPointerDownCapture)})});Ig.displayName=CU;var NU="DismissableLayerBranch",kU=g.forwardRef((t,e)=>{const n=g.useContext(dk),r=g.useRef(null),s=Ne(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ve.div,{...t,ref:s})});kU.displayName=NU;function OU(t,e=globalThis==null?void 0:globalThis.document){const n=St(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){hk(AU,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function DU(t,e=globalThis==null?void 0:globalThis.document){const n=St(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&hk(RU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SS(){const t=new CustomEvent(Gw);document.dispatchEvent(t)}function hk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uk(s,i):s.dispatchEvent(i)}var Kr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},jU=QA.useId||(()=>{}),MU=0;function Di(t){const[e,n]=g.useState(jU());return Kr(()=>{t||n(r=>r??String(MU++))},[t]),t||(e?`radix-${e}`:"")}const LU=["top","right","bottom","left"],Gi=Math.min,On=Math.max,mm=Math.round,pf=Math.floor,qi=t=>({x:t,y:t}),VU={left:"right",right:"left",bottom:"top",top:"bottom"},FU={start:"end",end:"start"};function qw(t,e,n){return On(t,Gi(e,n))}function Cs(t,e){return typeof t=="function"?t(e):t}function As(t){return t.split("-")[0]}function gc(t){return t.split("-")[1]}function K_(t){return t==="x"?"y":"x"}function Q_(t){return t==="y"?"height":"width"}function Wi(t){return["top","bottom"].includes(As(t))?"y":"x"}function Y_(t){return K_(Wi(t))}function $U(t,e,n){n===void 0&&(n=!1);const r=gc(t),s=Y_(t),i=Q_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=gm(o)),[o,gm(o)]}function UU(t){const e=gm(t);return[Ww(t),e,Ww(e)]}function Ww(t){return t.replace(/start|end/g,e=>FU[e])}function BU(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function zU(t,e,n,r){const s=gc(t);let i=BU(As(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ww)))),i}function gm(t){return t.replace(/left|right|bottom|top/g,e=>VU[e])}function GU(t){return{top:0,right:0,bottom:0,left:0,...t}}function fk(t){return typeof t!="number"?GU(t):{top:t,right:t,bottom:t,left:t}}function vm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function PS(t,e,n){let{reference:r,floating:s}=t;const i=Wi(e),o=Y_(e),a=Q_(o),l=As(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-s.width,y:p};break;default:m={x:r.x,y:r.y}}switch(gc(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const qU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=PS(u,r,l),f=r,m={},y=0;for(let x=0;x<a.length;x++){const{name:E,fn:w}=a[x],{x:b,y:_,data:C,reset:O}=await w({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});h=b??h,p=_??p,m={...m,[E]:{...m[E],...C}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:p}=PS(u,f,l)),x=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:m}};async function Nd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=Cs(e,t),y=fk(m),E=a[f?p==="floating"?"reference":"floating":p],w=vm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),b=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},O=vm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:_,strategy:l}):b);return{top:(w.top-O.top+y.top)/C.y,bottom:(O.bottom-w.bottom+y.bottom)/C.y,left:(w.left-O.left+y.left)/C.x,right:(O.right-w.right+y.right)/C.x}}const WU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=Cs(t,e)||{};if(u==null)return{};const p=fk(h),f={x:n,y:r},m=Y_(s),y=Q_(m),x=await o.getDimensions(u),E=m==="y",w=E?"top":"left",b=E?"bottom":"right",_=E?"clientHeight":"clientWidth",C=i.reference[y]+i.reference[m]-f[m]-i.floating[y],O=f[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=M?M[_]:0;(!P||!await(o.isElement==null?void 0:o.isElement(M)))&&(P=a.floating[_]||i.floating[y]);const S=C/2-O/2,I=P/2-x[y]/2-1,A=Gi(p[w],I),N=Gi(p[b],I),j=A,k=P-x[y]-N,J=P/2-x[y]/2+S,ue=qw(j,J,k),ne=!l.arrow&&gc(s)!=null&&J!==ue&&i.reference[y]/2-(J<j?A:N)-x[y]/2<0,de=ne?J<j?J-j:J-k:0;return{[m]:f[m]+de,data:{[m]:ue,centerOffset:J-ue-de,...ne&&{alignmentOffset:de}},reset:ne}}}),HU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...E}=Cs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=As(s),b=Wi(a),_=As(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=f||(_||!x?[gm(a)]:UU(a)),M=y!=="none";!f&&M&&O.push(...zU(a,x,y,C));const P=[a,...O],S=await Nd(e,E),I=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(S[w]),p){const J=$U(s,o,C);I.push(S[J[0]],S[J[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(J=>J<=0)){var N,j;const J=(((N=i.flip)==null?void 0:N.index)||0)+1,ue=P[J];if(ue)return{data:{index:J,overflows:A},reset:{placement:ue}};let ne=(j=A.filter(de=>de.overflows[0]<=0).sort((de,F)=>de.overflows[1]-F.overflows[1])[0])==null?void 0:j.placement;if(!ne)switch(m){case"bestFit":{var k;const de=(k=A.filter(F=>{if(M){const U=Wi(F.placement);return U===b||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:k[0];de&&(ne=de);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function IS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CS(t){return LU.some(e=>t[e]>=0)}const KU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Cs(t,e);switch(r){case"referenceHidden":{const i=await Nd(e,{...s,elementContext:"reference"}),o=IS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CS(o)}}}case"escaped":{const i=await Nd(e,{...s,altBoundary:!0}),o=IS(i,n.floating);return{data:{escapedOffsets:o,escaped:CS(o)}}}default:return{}}}}};async function QU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=As(n),a=gc(n),l=Wi(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=Cs(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*h,y:f*u}:{x:f*u,y:m*h}}const YU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await QU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},JU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y:b}=E;return{x:w,y:b}}},...l}=Cs(t,e),u={x:n,y:r},h=await Nd(e,l),p=Wi(As(s)),f=K_(p);let m=u[f],y=u[p];if(i){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=m+h[E],_=m-h[w];m=qw(b,m,_)}if(o){const E=p==="y"?"top":"left",w=p==="y"?"bottom":"right",b=y+h[E],_=y-h[w];y=qw(b,y,_)}const x=a.fn({...e,[f]:m,[p]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[f]:i,[p]:o}}}}}},XU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Cs(t,e),h={x:n,y:r},p=Wi(s),f=K_(p);let m=h[f],y=h[p];const x=Cs(a,e),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const _=f==="y"?"height":"width",C=i.reference[f]-i.floating[_]+E.mainAxis,O=i.reference[f]+i.reference[_]-E.mainAxis;m<C?m=C:m>O&&(m=O)}if(u){var w,b;const _=f==="y"?"width":"height",C=["top","left"].includes(As(s)),O=i.reference[p]-i.floating[_]+(C&&((w=o.offset)==null?void 0:w[p])||0)+(C?0:E.crossAxis),M=i.reference[p]+i.reference[_]+(C?0:((b=o.offset)==null?void 0:b[p])||0)-(C?E.crossAxis:0);y<O?y=O:y>M&&(y=M)}return{[f]:m,[p]:y}}}},ZU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Cs(t,e),h=await Nd(e,u),p=As(s),f=gc(s),m=Wi(s)==="y",{width:y,height:x}=i.floating;let E,w;p==="top"||p==="bottom"?(E=p,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,E=f==="end"?"top":"bottom");const b=x-h.top-h.bottom,_=y-h.left-h.right,C=Gi(x-h[E],b),O=Gi(y-h[w],_),M=!e.middlewareData.shift;let P=C,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=b),M&&!f){const A=On(h.left,0),N=On(h.right,0),j=On(h.top,0),k=On(h.bottom,0);m?S=y-2*(A!==0||N!==0?A+N:On(h.left,h.right)):P=x-2*(j!==0||k!==0?j+k:On(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:P});const I=await o.getDimensions(a.floating);return y!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function Cg(){return typeof window<"u"}function vc(t){return pk(t)?(t.nodeName||"").toLowerCase():"#document"}function Ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xr(t){var e;return(e=(pk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pk(t){return Cg()?t instanceof Node||t instanceof Ln(t).Node:!1}function Er(t){return Cg()?t instanceof Element||t instanceof Ln(t).Element:!1}function Qr(t){return Cg()?t instanceof HTMLElement||t instanceof Ln(t).HTMLElement:!1}function AS(t){return!Cg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ln(t).ShadowRoot}function ah(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function eB(t){return["table","td","th"].includes(vc(t))}function Ag(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function J_(t){const e=X_(),n=Er(t)?Tr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tB(t){let e=Hi(t);for(;Qr(e)&&!ql(e);){if(J_(e))return e;if(Ag(e))return null;e=Hi(e)}return null}function X_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ql(t){return["html","body","#document"].includes(vc(t))}function Tr(t){return Ln(t).getComputedStyle(t)}function Rg(t){return Er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hi(t){if(vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||AS(t)&&t.host||Xr(t);return AS(e)?e.host:e}function mk(t){const e=Hi(t);return ql(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qr(e)&&ah(e)?e:mk(e)}function kd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=mk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ln(s);if(i){const a=Hw(o);return e.concat(o,o.visualViewport||[],ah(s)?s:[],a&&n?kd(a):[])}return e.concat(s,kd(s,[],n))}function Hw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gk(t){const e=Tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=mm(n)!==i||mm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Z_(t){return Er(t)?t:t.contextElement}function xl(t){const e=Z_(t);if(!Qr(e))return qi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=gk(e);let o=(i?mm(n.width):n.width)/r,a=(i?mm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const nB=qi(0);function vk(t){const e=Ln(t);return!X_()||!e.visualViewport?nB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ln(t)?!1:e}function Xo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Z_(t);let o=qi(1);e&&(r?Er(r)&&(o=xl(r)):o=xl(t));const a=rB(i,n,r)?vk(i):qi(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=Ln(i),m=r&&Er(r)?Ln(r):r;let y=f,x=Hw(y);for(;x&&r&&m!==y;){const E=xl(x),w=x.getBoundingClientRect(),b=Tr(x),_=w.left+(x.clientLeft+parseFloat(b.paddingLeft))*E.x,C=w.top+(x.clientTop+parseFloat(b.paddingTop))*E.y;l*=E.x,u*=E.y,h*=E.x,p*=E.y,l+=_,u+=C,y=Ln(x),x=Hw(y)}}return vm({width:h,height:p,x:l,y:u})}function sB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Xr(r),a=e?Ag(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=qi(1);const h=qi(0),p=Qr(r);if((p||!p&&!i)&&((vc(r)!=="body"||ah(o))&&(l=Rg(r)),Qr(r))){const f=Xo(r);u=xl(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x,y:n.y*u.y-l.scrollTop*u.y+h.y}}function iB(t){return Array.from(t.getClientRects())}function Kw(t,e){const n=Rg(t).scrollLeft;return e?e.left+n:Xo(Xr(t)).left+n}function oB(t){const e=Xr(t),n=Rg(t),r=t.ownerDocument.body,s=On(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=On(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Kw(t);const a=-n.scrollTop;return Tr(r).direction==="rtl"&&(o+=On(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function aB(t,e){const n=Ln(t),r=Xr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=X_();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function lB(t,e){const n=Xo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qr(t)?xl(t):qi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function RS(t,e,n){let r;if(e==="viewport")r=aB(t,n);else if(e==="document")r=oB(Xr(t));else if(Er(e))r=lB(e,n);else{const s=vk(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return vm(r)}function yk(t,e){const n=Hi(t);return n===e||!Er(n)||ql(n)?!1:Tr(n).position==="fixed"||yk(n,e)}function cB(t,e){const n=e.get(t);if(n)return n;let r=kd(t,[],!1).filter(a=>Er(a)&&vc(a)!=="body"),s=null;const i=Tr(t).position==="fixed";let o=i?Hi(t):t;for(;Er(o)&&!ql(o);){const a=Tr(o),l=J_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ah(o)&&!l&&yk(t,o))?r=r.filter(h=>h!==o):s=a,o=Hi(o)}return e.set(t,r),r}function uB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ag(e)?[]:cB(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const p=RS(e,h,s);return u.top=On(p.top,u.top),u.right=Gi(p.right,u.right),u.bottom=Gi(p.bottom,u.bottom),u.left=On(p.left,u.left),u},RS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dB(t){const{width:e,height:n}=gk(t);return{width:e,height:n}}function hB(t,e,n){const r=Qr(e),s=Xr(e),i=n==="fixed",o=Xo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=qi(0);if(r||!r&&!i)if((vc(e)!=="body"||ah(s))&&(a=Rg(e)),r){const m=Xo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=Kw(s));let u=0,h=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();h=m.top+a.scrollTop,u=m.left+a.scrollLeft-Kw(s,m)}const p=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-h;return{x:p,y:f,width:o.width,height:o.height}}function Ny(t){return Tr(t).position==="static"}function NS(t,e){if(!Qr(t)||Tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Xr(t)===n&&(n=n.ownerDocument.body),n}function wk(t,e){const n=Ln(t);if(Ag(t))return n;if(!Qr(t)){let s=Hi(t);for(;s&&!ql(s);){if(Er(s)&&!Ny(s))return s;s=Hi(s)}return n}let r=NS(t,e);for(;r&&eB(r)&&Ny(r);)r=NS(r,e);return r&&ql(r)&&Ny(r)&&!J_(r)?n:r||tB(t)||n}const fB=async function(t){const e=this.getOffsetParent||wk,n=this.getDimensions,r=await n(t.floating);return{reference:hB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pB(t){return Tr(t).direction==="rtl"}const mB={convertOffsetParentRelativeRectToViewportRelativeRect:sB,getDocumentElement:Xr,getClippingRect:uB,getOffsetParent:wk,getElementRects:fB,getClientRects:iB,getDimensions:dB,getScale:xl,isElement:Er,isRTL:pB};function gB(t,e){let n=null,r;const s=Xr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const m=pf(h),y=pf(s.clientWidth-(u+p)),x=pf(s.clientHeight-(h+f)),E=pf(u),b={rootMargin:-m+"px "+-y+"px "+-x+"px "+-E+"px",threshold:On(0,Gi(1,l))||1};let _=!0;function C(O){const M=O[0].intersectionRatio;if(M!==l){if(!_)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(t)}return o(!0),i}function vB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Z_(t),h=s||i?[...u?kd(u):[],...kd(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=u&&a?gB(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,x=l?Xo(t):null;l&&E();function E(){const w=Xo(t);x&&(w.x!==x.x||w.y!==x.y||w.width!==x.width||w.height!==x.height)&&n(),x=w,y=requestAnimationFrame(E)}return n(),()=>{var w;h.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),p==null||p(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const yB=YU,wB=JU,xB=HU,_B=ZU,bB=KU,kS=WU,EB=XU,TB=(t,e,n)=>{const r=new Map,s={platform:mB,...n},i={...s.platform,_c:r};return qU(t,e,{...s,platform:i})};var wp=typeof document<"u"?g.useLayoutEffect:g.useEffect;function ym(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ym(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ym(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function xk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function OS(t,e){const n=xk(t);return Math.round(e*n)/n}function ky(t){const e=g.useRef(t);return wp(()=>{e.current=t}),e}function SB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=g.useState(r);ym(f,r)||m(r);const[y,x]=g.useState(null),[E,w]=g.useState(null),b=g.useCallback(F=>{F!==M.current&&(M.current=F,x(F))},[]),_=g.useCallback(F=>{F!==P.current&&(P.current=F,w(F))},[]),C=i||y,O=o||E,M=g.useRef(null),P=g.useRef(null),S=g.useRef(h),I=l!=null,A=ky(l),N=ky(s),j=ky(u),k=g.useCallback(()=>{if(!M.current||!P.current)return;const F={placement:e,strategy:n,middleware:f};N.current&&(F.platform=N.current),TB(M.current,P.current,F).then(U=>{const K={...U,isPositioned:j.current!==!1};J.current&&!ym(S.current,K)&&(S.current=K,Tg.flushSync(()=>{p(K)}))})},[f,e,n,N,j]);wp(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[u]);const J=g.useRef(!1);wp(()=>(J.current=!0,()=>{J.current=!1}),[]),wp(()=>{if(C&&(M.current=C),O&&(P.current=O),C&&O){if(A.current)return A.current(C,O,k);k()}},[C,O,k,A,I]);const ue=g.useMemo(()=>({reference:M,floating:P,setReference:b,setFloating:_}),[b,_]),ne=g.useMemo(()=>({reference:C,floating:O}),[C,O]),de=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!ne.floating)return F;const U=OS(ne.floating,h.x),K=OS(ne.floating,h.y);return a?{...F,transform:"translate("+U+"px, "+K+"px)",...xk(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:K}},[n,a,ne.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:k,refs:ue,elements:ne,floatingStyles:de}),[h,k,ue,ne,de])}const PB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kS({element:r.current,padding:s}).fn(n):{}:r?kS({element:r,padding:s}).fn(n):{}}}},IB=(t,e)=>({...yB(t),options:[t,e]}),CB=(t,e)=>({...wB(t),options:[t,e]}),AB=(t,e)=>({...EB(t),options:[t,e]}),RB=(t,e)=>({...xB(t),options:[t,e]}),NB=(t,e)=>({..._B(t),options:[t,e]}),kB=(t,e)=>({...bB(t),options:[t,e]}),OB=(t,e)=>({...PB(t),options:[t,e]});var DB="Arrow",_k=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});_k.displayName=DB;var jB=_k;function MB(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:m,...y}=p,x=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(x.Provider,{value:E,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,LB(s,...e)]}function LB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function eb(t){const[e,n]=g.useState(void 0);return Kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tb="Popper",[bk,Ng]=MB(tb),[VB,Ek]=bk(tb),Tk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return c.jsx(VB,{scope:e,anchor:r,onAnchorChange:s,children:n})};Tk.displayName=tb;var Sk="PopperAnchor",Pk=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Ek(Sk,n),o=g.useRef(null),a=Ne(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(ve.div,{...s,ref:a})});Pk.displayName=Sk;var nb="PopperContent",[FB,$B]=bk(nb),Ik=g.forwardRef((t,e)=>{var Je,Cn,vt,Bt,ts,Ir;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=t,E=Ek(nb,n),[w,b]=g.useState(null),_=Ne(e,or=>b(or)),[C,O]=g.useState(null),M=eb(C),P=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(u)?u:[u],j=N.length>0,k={padding:A,boundary:N.filter(BB),altBoundary:j},{refs:J,floatingStyles:ue,placement:ne,isPositioned:de,middlewareData:F}=SB({strategy:"fixed",placement:I,whileElementsMounted:(...or)=>vB(...or,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[IB({mainAxis:s+S,alignmentAxis:o}),l&&CB({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?AB():void 0,...k}),l&&RB({...k}),NB({...k,apply:({elements:or,rects:ns,availableWidth:$s,availableHeight:ar})=>{const{width:Ic,height:Cc}=ns.reference,yt=or.floating.style;yt.setProperty("--radix-popper-available-width",`${$s}px`),yt.setProperty("--radix-popper-available-height",`${ar}px`),yt.setProperty("--radix-popper-anchor-width",`${Ic}px`),yt.setProperty("--radix-popper-anchor-height",`${Cc}px`)}}),C&&OB({element:C,padding:a}),zB({arrowWidth:P,arrowHeight:S}),f&&kB({strategy:"referenceHidden",...k})]}),[U,K]=Rk(ne),Q=St(y);Kr(()=>{de&&(Q==null||Q())},[de,Q]);const re=(Je=F.arrow)==null?void 0:Je.x,he=(Cn=F.arrow)==null?void 0:Cn.y,Ue=((vt=F.arrow)==null?void 0:vt.centerOffset)!==0,[st,be]=g.useState();return Kr(()=>{w&&be(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:de?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[(Bt=F.transformOrigin)==null?void 0:Bt.x,(ts=F.transformOrigin)==null?void 0:ts.y].join(" "),...((Ir=F.hide)==null?void 0:Ir.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(FB,{scope:n,placedSide:U,onArrowChange:O,arrowX:re,arrowY:he,shouldHideArrow:Ue,children:c.jsx(ve.div,{"data-side":U,"data-align":K,...x,ref:_,style:{...x.style,animation:de?void 0:"none"}})})})});Ik.displayName=nb;var Ck="PopperArrow",UB={top:"bottom",right:"left",bottom:"top",left:"right"},Ak=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=$B(Ck,r),o=UB[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(jB,{...s,ref:n,style:{...s.style,display:"block"}})})});Ak.displayName=Ck;function BB(t){return t!==null}var zB=t=>({name:"transformOrigin",options:t,fn(e){var E,w,b;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,h]=Rk(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let y="",x="";return u==="bottom"?(y=o?p:`${f}px`,x=`${-l}px`):u==="top"?(y=o?p:`${f}px`,x=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,x=o?p:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,x=o?p:`${m}px`),{data:{x:y,y:x}}}});function Rk(t){const[e,n="center"]=t.split("-");return[e,n]}var Nk=Tk,kk=Pk,Ok=Ik,Dk=Ak,GB="Portal",rb=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Kr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?XN.createPortal(c.jsx(ve.div,{...r,ref:e}),o):null});rb.displayName=GB;function qB(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var fn=t=>{const{present:e,children:n}=t,r=WB(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ne(r.ref,HB(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};fn.displayName="Presence";function WB(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=qB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=mf(r.current);i.current=a==="mounted"?u:"none"},[a]),Kr(()=>{const u=r.current,h=s.current;if(h!==t){const f=i.current,m=mf(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Kr(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=m=>{const x=mf(r.current).includes(m.animationName);if(m.target===e&&x&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=m=>{m.target===e&&(i.current=mf(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function mf(t){return(t==null?void 0:t.animationName)||"none"}function HB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function va({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=KB({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=St(n),l=g.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,l]}function KB({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=St(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var QB="VisuallyHidden",jk=g.forwardRef((t,e)=>c.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jk.displayName=QB;var YB=jk,[kg,ice]=Ls("Tooltip",[Ng]),Og=Ng(),Mk="TooltipProvider",JB=700,Qw="tooltip.open",[XB,sb]=kg(Mk),Lk=t=>{const{__scopeTooltip:e,delayDuration:n=JB,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),c.jsx(XB,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};Lk.displayName=Mk;var Dg="Tooltip",[ZB,jg]=kg(Dg),Vk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=sb(Dg,t.__scopeTooltip),u=Og(e),[h,p]=g.useState(null),f=Di(),m=g.useRef(0),y=o??l.disableHoverableContent,x=a??l.delayDuration,E=g.useRef(!1),[w=!1,b]=va({prop:r,defaultProp:s,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(Qw))):l.onClose(),i==null||i(P)}}),_=g.useMemo(()=>w?E.current?"delayed-open":"instant-open":"closed",[w]),C=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,E.current=!1,b(!0)},[b]),O=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),M=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{E.current=!0,b(!0),m.current=0},x)},[x,b]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(Nk,{...u,children:c.jsx(ZB,{scope:e,contentId:f,open:w,stateAttribute:_,trigger:h,onTriggerChange:p,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayed?M():C()},[l.isOpenDelayed,M,C]),onTriggerLeave:g.useCallback(()=>{y?O():(window.clearTimeout(m.current),m.current=0)},[O,y]),onOpen:C,onClose:O,disableHoverableContent:y,children:n})})};Vk.displayName=Dg;var Yw="TooltipTrigger",Fk=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=jg(Yw,n),i=sb(Yw,n),o=Og(n),a=g.useRef(null),l=Ne(e,a,s.onTriggerChange),u=g.useRef(!1),h=g.useRef(!1),p=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(kk,{asChild:!0,...o,children:c.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ie(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});Fk.displayName=Yw;var e6="TooltipPortal",[oce,t6]=kg(e6,{forceMount:void 0}),Wl="TooltipContent",$k=g.forwardRef((t,e)=>{const n=t6(Wl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=jg(Wl,t.__scopeTooltip);return c.jsx(fn,{present:r||o.open,children:o.disableHoverableContent?c.jsx(Uk,{side:s,...i,ref:e}):c.jsx(n6,{side:s,...i,ref:e})})}),n6=g.forwardRef((t,e)=>{const n=jg(Wl,t.__scopeTooltip),r=sb(Wl,t.__scopeTooltip),s=g.useRef(null),i=Ne(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,f=g.useCallback(()=>{a(null),p(!1)},[p]),m=g.useCallback((y,x)=>{const E=y.currentTarget,w={x:y.clientX,y:y.clientY},b=o6(w,E.getBoundingClientRect()),_=a6(w,b),C=l6(x.getBoundingClientRect()),O=u6([..._,...C]);a(O),p(!0)},[p]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(l&&h){const y=E=>m(E,h),x=E=>m(E,l);return l.addEventListener("pointerleave",y),h.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",y),h.removeEventListener("pointerleave",x)}}},[l,h,m,f]),g.useEffect(()=>{if(o){const y=x=>{const E=x.target,w={x:x.clientX,y:x.clientY},b=(l==null?void 0:l.contains(E))||(h==null?void 0:h.contains(E)),_=!c6(w,o);b?f():_&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,h,o,u,f]),c.jsx(Uk,{...t,ref:i})}),[r6,s6]=kg(Dg,{isInside:!1}),Uk=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=jg(Wl,n),u=Og(n),{onClose:h}=l;return g.useEffect(()=>(document.addEventListener(Qw,h),()=>document.removeEventListener(Qw,h)),[h]),g.useEffect(()=>{if(l.trigger){const p=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),c.jsx(Ig,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:c.jsxs(Ok,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(ck,{children:r}),c.jsx(r6,{scope:n,isInside:!0,children:c.jsx(YB,{id:l.contentId,role:"tooltip",children:s||r})})]})})});$k.displayName=Wl;var Bk="TooltipArrow",i6=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Og(n);return s6(Bk,n).isInside?null:c.jsx(Dk,{...s,...r,ref:e})});i6.displayName=Bk;function o6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function a6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function l6(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function c6(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,h=e[o].y;l>r!=h>r&&n<(u-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function u6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),d6(e)}function d6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var h6=Lk,f6=Vk,p6=Fk,zk=$k;function Gk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Gk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Gk(t))&&(r&&(r+=" "),r+=e);return r}const ib="-",m6=t=>{const e=v6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ib);return a[0]===""&&a.length!==1&&a.shift(),Wk(a,e)||g6(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Wk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Wk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ib);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},DS=/^\[(.+)\]$/,g6=t=>{if(DS.test(t)){const e=DS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},v6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return w6(Object.entries(t.classGroups),n).forEach(([i,o])=>{Jw(o,r,i,e)}),r},Jw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:jS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(y6(s)){Jw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Jw(o,jS(e,i),n,r)})})},jS=(t,e)=>{let n=t;return e.split(ib).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},y6=t=>t.isThemeGetter,w6=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,x6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Hk="!",_6=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,p;for(let E=0;E<a.length;E++){let w=a[E];if(u===0){if(w===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(h,E)),h=E+i;continue}if(w==="/"){p=E;continue}}w==="["?u++:w==="]"&&u--}const f=l.length===0?a:a.substring(h),m=f.startsWith(Hk),y=m?f.substring(1):f,x=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},b6=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},E6=t=>({cache:x6(t.cacheSize),parseClassName:_6(t),...m6(t)}),T6=/\s+/,S6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(T6);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let y=!!m,x=r(y?f.substring(0,m):f);if(!x){if(!y){a=u+(a.length>0?" "+a:a);continue}if(x=r(f),!x){a=u+(a.length>0?" "+a:a);continue}y=!1}const E=b6(h).join(":"),w=p?E+Hk:E,b=w+x;if(i.includes(b))continue;i.push(b);const _=s(x,y);for(let C=0;C<_.length;++C){const O=_[C];i.push(w+O)}a=u+(a.length>0?" "+a:a)}return a};function P6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Kk(e))&&(r&&(r+=" "),r+=n);return r}const Kk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Kk(t[r]))&&(n&&(n+=" "),n+=e);return n};function I6(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((h,p)=>p(h),t());return n=E6(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=S6(l,n);return s(l,h),h}return function(){return i(P6.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Qk=/^\[(?:([a-z-]+):)?(.+)\]$/i,C6=/^\d+\/\d+$/,A6=new Set(["px","full","screen"]),R6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,O6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=t=>_l(t)||A6.has(t)||C6.test(t),Ks=t=>yc(t,"length",B6),_l=t=>!!t&&!Number.isNaN(Number(t)),Oy=t=>yc(t,"number",_l),Xc=t=>!!t&&Number.isInteger(Number(t)),j6=t=>t.endsWith("%")&&_l(t.slice(0,-1)),ye=t=>Qk.test(t),Qs=t=>R6.test(t),M6=new Set(["length","size","percentage"]),L6=t=>yc(t,M6,Yk),V6=t=>yc(t,"position",Yk),F6=new Set(["image","url"]),$6=t=>yc(t,F6,G6),U6=t=>yc(t,"",z6),Zc=()=>!0,yc=(t,e,n)=>{const r=Qk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},B6=t=>N6.test(t)&&!k6.test(t),Yk=()=>!1,z6=t=>O6.test(t),G6=t=>D6.test(t),q6=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),h=We("hueRotate"),p=We("invert"),f=We("gap"),m=We("gradientColorStops"),y=We("gradientColorStopPositions"),x=We("inset"),E=We("margin"),w=We("opacity"),b=We("padding"),_=We("saturate"),C=We("scale"),O=We("sepia"),M=We("skew"),P=We("space"),S=We("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ye,e],j=()=>[ye,e],k=()=>["",as,Ks],J=()=>["auto",_l,ye],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ye],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[_l,ye];return{cacheSize:500,separator:":",theme:{colors:[Zc],spacing:[as,Ks],blur:["none","",Qs,ye],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Qs,ye],borderSpacing:j(),borderWidth:k(),contrast:Q(),grayscale:U(),hueRotate:Q(),invert:U(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[j6,Ks],inset:N(),margin:N(),opacity:Q(),padding:j(),saturate:Q(),scale:Q(),sepia:U(),skew:Q(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Qs]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),ye]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xc,ye]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Xc,ye]}],"grid-cols":[{"grid-cols":[Zc]}],"col-start-end":[{col:["auto",{span:["full",Xc,ye]},ye]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Zc]}],"row-start-end":[{row:["auto",{span:[Xc,ye]},ye]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[Qs]},Qs]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qs,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oy]}],"font-family":[{font:[Zc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",_l,Oy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,Ks]}],"underline-offset":[{"underline-offset":["auto",as,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),V6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",L6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[as,ye]}],"outline-w":[{outline:[as,Ks]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[as,Ks]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qs,U6]}],"shadow-color":[{shadow:[Zc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Qs,ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Xc,ye]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[as,Ks,Oy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},W6=I6(q6);function se(...t){return W6(qk(t))}const ku=h6,gf=f6,vf=p6,Ou=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(zk,{ref:r,sideOffset:e,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Ou.displayName=zk.displayName;var Mg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lg=typeof window>"u"||"Deno"in globalThis;function hr(){}function H6(t,e){return typeof t=="function"?t(e):t}function K6(t){return typeof t=="number"&&t>=0&&t!==1/0}function Q6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function MS(t,e){return typeof t=="function"?t(e):t}function Y6(t,e){return typeof t=="function"?t(e):t}function LS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ob(o,e.options))return!1}else if(!Dd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function VS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Od(e.options.mutationKey)!==Od(i))return!1}else if(!Dd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ob(t,e){return((e==null?void 0:e.queryKeyHashFn)||Od)(t)}function Od(t){return JSON.stringify(t,(e,n)=>Xw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Dd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Dd(t[n],e[n])):!1}function Jk(t,e){if(t===e)return t;const n=FS(t)&&FS(e);if(n||Xw(t)&&Xw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=Jk(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function FS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xw(t){if(!$S(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$S(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $S(t){return Object.prototype.toString.call(t)==="[object Object]"}function J6(t){return new Promise(e=>{setTimeout(e,t)})}function X6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Jk(t,e):e}function Z6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ez(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ab=Symbol();function Xk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ab?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Lo,mi,Al,RA,tz=(RA=class extends Mg{constructor(){super();ke(this,Lo);ke(this,mi);ke(this,Al);we(this,Al,e=>{if(!Lg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,mi)||this.setEventListener(B(this,Al))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,mi))==null||e.call(this),we(this,mi,void 0))}setEventListener(e){var n;we(this,Al,e),(n=B(this,mi))==null||n.call(this),we(this,mi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Lo)!==e&&(we(this,Lo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Lo)=="boolean"?B(this,Lo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Lo=new WeakMap,mi=new WeakMap,Al=new WeakMap,RA),Zk=new tz,Rl,gi,Nl,NA,nz=(NA=class extends Mg{constructor(){super();ke(this,Rl,!0);ke(this,gi);ke(this,Nl);we(this,Nl,e=>{if(!Lg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,gi)||this.setEventListener(B(this,Nl))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,gi))==null||e.call(this),we(this,gi,void 0))}setEventListener(e){var n;we(this,Nl,e),(n=B(this,gi))==null||n.call(this),we(this,gi,e(this.setOnline.bind(this)))}setOnline(e){B(this,Rl)!==e&&(we(this,Rl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Rl)}},Rl=new WeakMap,gi=new WeakMap,Nl=new WeakMap,NA),wm=new nz;function rz(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function sz(t){return Math.min(1e3*2**t,3e4)}function e2(t){return(t??"online")==="online"?wm.isOnline():!0}var t2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Dy(t){return t instanceof t2}function n2(t){let e=!1,n=0,r=!1,s;const i=rz(),o=x=>{var E;r||(f(new t2(x)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>Zk.isFocused()&&(t.networkMode==="always"||wm.isOnline())&&t.canRun(),h=()=>e2(t.networkMode)&&t.canRun(),p=x=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,x),s==null||s(),i.resolve(x))},f=x=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,x),s==null||s(),i.reject(x))},m=()=>new Promise(x=>{var E;s=w=>{(r||u())&&x(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(r)return;let x;const E=n===0?t.initialPromise:void 0;try{x=E??t.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(p).catch(w=>{var M;if(r)return;const b=t.retry??(Lg?0:3),_=t.retryDelay??sz,C=typeof _=="function"?_(n,w):_,O=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(e||!O){f(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),J6(C).then(()=>u()?void 0:m()).then(()=>{e?f(w):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?y():m().then(y),i)}}function iz(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ln=iz(),Vo,kA,r2=(kA=class{constructor(){ke(this,Vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K6(this.gcTime)&&we(this,Vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lg?1/0:5*60*1e3))}clearGcTimeout(){B(this,Vo)&&(clearTimeout(B(this,Vo)),we(this,Vo,void 0))}},Vo=new WeakMap,kA),kl,Ol,qn,Yt,eh,Fo,pr,ls,OA,oz=(OA=class extends r2{constructor(n){super();ke(this,pr);ke(this,kl);ke(this,Ol);ke(this,qn);ke(this,Yt);ke(this,eh);ke(this,Fo);we(this,Fo,!1),we(this,eh,n.defaultOptions),this.setOptions(n.options),this.observers=[],we(this,qn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,we(this,kl,lz(this.options)),this.state=n.state??B(this,kl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,Yt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,eh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,qn).remove(this)}setData(n,r){const s=X6(this.state.data,n,this.options);return Wt(this,pr,ls).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Wt(this,pr,ls).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,Yt))==null?void 0:s.promise;return(i=B(this,Yt))==null||i.cancel(n),r?r.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,kl))}isActive(){return this.observers.some(n=>Y6(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ab||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!Q6(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Yt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Yt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,qn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,Yt)&&(B(this,Fo)?B(this,Yt).cancel({revert:!0}):B(this,Yt).cancelRetry()),this.scheduleGc()),B(this,qn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wt(this,pr,ls).call(this,{type:"invalidate"})}fetch(n,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Yt))return B(this,Yt).continueRetry(),B(this,Yt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(we(this,Fo,!0),s.signal)})},o=()=>{const f=Xk(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),we(this,Fo,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),we(this,Ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Wt(this,pr,ls).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var m,y,x,E;Dy(f)&&f.silent||Wt(this,pr,ls).call(this,{type:"error",error:f}),Dy(f)||((y=(m=B(this,qn).config).onError)==null||y.call(m,f,this),(E=(x=B(this,qn).config).onSettled)==null||E.call(x,this.state.data,f,this)),this.scheduleGc()};return we(this,Yt,n2({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,y,x,E;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(y=(m=B(this,qn).config).onSuccess)==null||y.call(m,f,this),(E=(x=B(this,qn).config).onSettled)==null||E.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Wt(this,pr,ls).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Wt(this,pr,ls).call(this,{type:"pause"})},onContinue:()=>{Wt(this,pr,ls).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,Yt).start()}},kl=new WeakMap,Ol=new WeakMap,qn=new WeakMap,Yt=new WeakMap,eh=new WeakMap,Fo=new WeakMap,pr=new WeakSet,ls=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...az(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Dy(i)&&i.revert&&B(this,Ol)?{...B(this,Ol),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,qn).notify({query:this,type:"updated",action:n})})},OA);function az(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Lr,DA,cz=(DA=class extends Mg{constructor(e={}){super();ke(this,Lr);this.config=e,we(this,Lr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ob(s,n);let o=this.get(i);return o||(o=new oz({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,Lr).has(e.queryHash)||(B(this,Lr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Lr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Lr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Lr).get(e)}getAll(){return[...B(this,Lr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>LS(e,r)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Lr=new WeakMap,DA),Vr,on,$o,Fr,ri,jA,uz=(jA=class extends r2{constructor(n){super();ke(this,Fr);ke(this,Vr);ke(this,on);ke(this,$o);this.mutationId=n.mutationId,we(this,on,n.mutationCache),we(this,Vr,[]),this.state=n.state||dz(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,Vr).includes(n)||(B(this,Vr).push(n),this.clearGcTimeout(),B(this,on).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){we(this,Vr,B(this,Vr).filter(r=>r!==n)),this.scheduleGc(),B(this,on).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,Vr).length||(this.state.status==="pending"?this.scheduleGc():B(this,on).remove(this))}continue(){var n;return((n=B(this,$o))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,h,p,f,m,y,x,E,w,b,_,C,O,M,P,S;we(this,$o,n2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,A)=>{Wt(this,Fr,ri).call(this,{type:"failed",failureCount:I,error:A})},onPause:()=>{Wt(this,Fr,ri).call(this,{type:"pause"})},onContinue:()=>{Wt(this,Fr,ri).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,on).canRun(this)}));const r=this.state.status==="pending",s=!B(this,$o).canStart();try{if(!r){Wt(this,Fr,ri).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=B(this,on).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&Wt(this,Fr,ri).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const I=await B(this,$o).start();return await((h=(u=B(this,on).config).onSuccess)==null?void 0:h.call(u,I,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,I,n,this.state.context)),await((y=(m=B(this,on).config).onSettled)==null?void 0:y.call(m,I,null,this.state.variables,this.state.context,this)),await((E=(x=this.options).onSettled)==null?void 0:E.call(x,I,null,n,this.state.context)),Wt(this,Fr,ri).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(w=B(this,on).config).onError)==null?void 0:b.call(w,I,n,this.state.context,this)),await((C=(_=this.options).onError)==null?void 0:C.call(_,I,n,this.state.context)),await((M=(O=B(this,on).config).onSettled)==null?void 0:M.call(O,void 0,I,this.state.variables,this.state.context,this)),await((S=(P=this.options).onSettled)==null?void 0:S.call(P,void 0,I,n,this.state.context)),I}finally{Wt(this,Fr,ri).call(this,{type:"error",error:I})}}finally{B(this,on).runNext(this)}}},Vr=new WeakMap,on=new WeakMap,$o=new WeakMap,Fr=new WeakSet,ri=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ln.batch(()=>{B(this,Vr).forEach(s=>{s.onMutationUpdate(n)}),B(this,on).notify({mutation:this,type:"updated",action:n})})},jA);function dz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rn,th,MA,hz=(MA=class extends Mg{constructor(e={}){super();ke(this,Rn);ke(this,th);this.config=e,we(this,Rn,new Map),we(this,th,Date.now())}build(e,n,r){const s=new uz({mutationCache:this,mutationId:++Kh(this,th)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=yf(e),r=B(this,Rn).get(n)??[];r.push(e),B(this,Rn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=yf(e);if(B(this,Rn).has(n)){const s=(r=B(this,Rn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?B(this,Rn).delete(n):B(this,Rn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=B(this,Rn).get(yf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=B(this,Rn).get(yf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,Rn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VS(n,r))}findAll(e={}){return this.getAll().filter(n=>VS(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(hr))))}},Rn=new WeakMap,th=new WeakMap,MA);function yf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function US(t){return{onFetch:(e,n)=>{var h,p,f,m,y;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let x=!1;const E=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=Xk(e.options,e.fetchOptions),b=async(_,C,O)=>{if(x)return Promise.reject();if(C==null&&_.pages.length)return Promise.resolve(_);const M={queryKey:e.queryKey,pageParam:C,direction:O?"backward":"forward",meta:e.options.meta};E(M);const P=await w(M),{maxPages:S}=e.options,I=O?ez:Z6;return{pages:I(_.pages,P,S),pageParams:I(_.pageParams,C,S)}};if(s&&i.length){const _=s==="backward",C=_?fz:BS,O={pages:i,pageParams:o},M=C(r,O);a=await b(O,M,_)}else{const _=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:BS(r,a);if(l>0&&C==null)break;a=await b(a,C),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var x,E;return(E=(x=e.options).persister)==null?void 0:E.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function BS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function fz(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ct,vi,yi,Dl,jl,wi,Ml,Ll,LA,pz=(LA=class{constructor(t={}){ke(this,ct);ke(this,vi);ke(this,yi);ke(this,Dl);ke(this,jl);ke(this,wi);ke(this,Ml);ke(this,Ll);we(this,ct,t.queryCache||new cz),we(this,vi,t.mutationCache||new hz),we(this,yi,t.defaultOptions||{}),we(this,Dl,new Map),we(this,jl,new Map),we(this,wi,0)}mount(){Kh(this,wi)._++,B(this,wi)===1&&(we(this,Ml,Zk.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,ct).onFocus())})),we(this,Ll,wm.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,ct).onOnline())})))}unmount(){var t,e;Kh(this,wi)._--,B(this,wi)===0&&((t=B(this,Ml))==null||t.call(this),we(this,Ml,void 0),(e=B(this,Ll))==null||e.call(this),we(this,Ll,void 0))}isFetching(t){return B(this,ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,vi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=B(this,ct).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(MS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return B(this,ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,ct).get(r.queryHash),i=s==null?void 0:s.state.data,o=H6(e,i);if(o!==void 0)return B(this,ct).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>B(this,ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,ct);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,ct),r={type:"active",...t};return ln.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ln.batch(()=>B(this,ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hr).catch(hr)}invalidateQueries(t={},e={}){return ln.batch(()=>{if(B(this,ct).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ln.batch(()=>B(this,ct).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,ct).build(this,e);return n.isStaleByTime(MS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hr).catch(hr)}fetchInfiniteQuery(t){return t.behavior=US(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hr).catch(hr)}ensureInfiniteQueryData(t){return t.behavior=US(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wm.isOnline()?B(this,vi).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,ct)}getMutationCache(){return B(this,vi)}getDefaultOptions(){return B(this,yi)}setDefaultOptions(t){we(this,yi,t)}setQueryDefaults(t,e){B(this,Dl).set(Od(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Dl).values()];let n={};return e.forEach(r=>{Dd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){B(this,jl).set(Od(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,jl).values()];let n={};return e.forEach(r=>{Dd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,yi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ob(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ab&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,yi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,ct).clear(),B(this,vi).clear()}},ct=new WeakMap,vi=new WeakMap,yi=new WeakMap,Dl=new WeakMap,jl=new WeakMap,wi=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,LA),mz=g.createContext(void 0),gz=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(mz.Provider,{value:t,children:e}));const zS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,GS=qk,lh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return GS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=i==null?void 0:i[u];if(h===null)return null;const f=zS(h)||zS(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,h)=>{let[p,f]=h;return f===void 0||(u[p]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:f,...m}=h;return Object.entries(m).every(y=>{let[x,E]=y;return Array.isArray(E)?E.includes({...i,...a}[x]):{...i,...a}[x]===E})?[...u,p,f]:u},[]);return GS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},vz=lh("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-[#1DB954] text-black hover:bg-[#1ed760] hover:scale-105",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-white bg-transparent text-white hover:border-[#1DB954] hover:text-[#1DB954]",secondary:"bg-[#3E3E3E] text-white hover:bg-[#4f4f4f]",ghost:"hover:bg-[#282828] hover:text-white",link:"text-white underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3",lg:"h-11 rounded-full px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Jo:"button";return c.jsx(o,{className:se(vz({variant:e,size:n,className:t})),ref:i,...s})});ee.displayName="Button";function yz(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:m,...y}=p,x=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(x.Provider,{value:E,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wz(s,...e)]}function wz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function lb(t){const e=t+"CollectionProvider",[n,r]=yz(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:x}=m,E=H.useRef(null),w=H.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:w,collectionRef:E,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((m,y)=>{const{scope:x,children:E}=m,w=i(a,x),b=Ne(y,w.collectionRef);return c.jsx(Jo,{ref:b,children:E})});l.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",p=H.forwardRef((m,y)=>{const{scope:x,children:E,...w}=m,b=H.useRef(null),_=Ne(y,b),C=i(u,x);return H.useEffect(()=>(C.itemMap.set(b,{ref:b,...w}),()=>void C.itemMap.delete(b))),c.jsx(Jo,{[h]:"",ref:_,children:E})});p.displayName=u;function f(m){const y=i(t+"CollectionConsumer",m);return H.useCallback(()=>{const E=y.collectionRef.current;if(!E)return[];const w=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((C,O)=>w.indexOf(C.ref.current)-w.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}var xz=g.createContext(void 0);function ch(t){const e=g.useContext(xz);return t||e||"ltr"}var jy=0;function s2(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??qS()),document.body.insertAdjacentElement("beforeend",t[1]??qS()),jy++,()=>{jy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jy--}},[])}function qS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var My="focusScope.autoFocusOnMount",Ly="focusScope.autoFocusOnUnmount",WS={bubbles:!1,cancelable:!0},_z="FocusScope",cb=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=St(s),h=St(i),p=g.useRef(null),f=Ne(e,x=>l(x)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(_){if(m.paused||!a)return;const C=_.target;a.contains(C)?p.current=C:si(p.current,{select:!0})},E=function(_){if(m.paused||!a)return;const C=_.relatedTarget;C!==null&&(a.contains(C)||si(p.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const O of _)O.removedNodes.length>0&&si(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",E);const b=new MutationObserver(w);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E),b.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){KS.add(m);const x=document.activeElement;if(!a.contains(x)){const w=new CustomEvent(My,WS);a.addEventListener(My,u),a.dispatchEvent(w),w.defaultPrevented||(bz(Iz(i2(a)),{select:!0}),document.activeElement===x&&si(a))}return()=>{a.removeEventListener(My,u),setTimeout(()=>{const w=new CustomEvent(Ly,WS);a.addEventListener(Ly,h),a.dispatchEvent(w),w.defaultPrevented||si(x??document.body,{select:!0}),a.removeEventListener(Ly,h),KS.remove(m)},0)}}},[a,u,h,m]);const y=g.useCallback(x=>{if(!n&&!r||m.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(E&&w){const b=x.currentTarget,[_,C]=Ez(b);_&&C?!x.shiftKey&&w===C?(x.preventDefault(),n&&si(_,{select:!0})):x.shiftKey&&w===_&&(x.preventDefault(),n&&si(C,{select:!0})):w===b&&x.preventDefault()}},[n,r,m.paused]);return c.jsx(ve.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});cb.displayName=_z;function bz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(si(r,{select:e}),document.activeElement!==n)return}function Ez(t){const e=i2(t),n=HS(e,t),r=HS(e.reverse(),t);return[n,r]}function i2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function HS(t,e){for(const n of t)if(!Tz(n,{upTo:e}))return n}function Tz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Sz(t){return t instanceof HTMLInputElement&&"select"in t}function si(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Sz(t)&&e&&t.select()}}var KS=Pz();function Pz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=QS(t,e),t.unshift(e)},remove(e){var n;t=QS(t,e),(n=t[0])==null||n.resume()}}}function QS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Iz(t){return t.filter(e=>e.tagName!=="A")}function Cz(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:m,...y}=p,x=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(x.Provider,{value:E,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Az(s,...e)]}function Az(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Vy="rovingFocusGroup.onEntryFocus",Rz={bubbles:!1,cancelable:!0},Vg="RovingFocusGroup",[Zw,o2,Nz]=lb(Vg),[kz,Fg]=Cz(Vg,[Nz]),[Oz,Dz]=kz(Vg),a2=g.forwardRef((t,e)=>c.jsx(Zw.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Zw.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(jz,{...t,ref:e})})}));a2.displayName=Vg;var jz=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,f=g.useRef(null),m=Ne(e,f),y=ch(i),[x=null,E]=va({prop:o,defaultProp:a,onChange:l}),[w,b]=g.useState(!1),_=St(u),C=o2(n),O=g.useRef(!1),[M,P]=g.useState(0);return g.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(Vy,_),()=>S.removeEventListener(Vy,_)},[_]),c.jsx(Oz,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(S=>E(S),[E]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>P(S=>S-1),[]),children:c.jsx(ve.div,{tabIndex:w||M===0?-1:0,"data-orientation":r,...p,ref:m,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{O.current=!0}),onFocus:ie(t.onFocus,S=>{const I=!O.current;if(S.target===S.currentTarget&&I&&!w){const A=new CustomEvent(Vy,Rz);if(S.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=C().filter(ne=>ne.focusable),j=N.find(ne=>ne.active),k=N.find(ne=>ne.id===x),ue=[j,k,...N].filter(Boolean).map(ne=>ne.ref.current);u2(ue,h)}}O.current=!1}),onBlur:ie(t.onBlur,()=>b(!1))})})}),l2="RovingFocusGroupItem",c2=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Di(),l=i||a,u=Dz(l2,n),h=u.currentTabStopId===l,p=o2(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),c.jsx(Zw.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(ve.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ie(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=Vz(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=p().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const b=w.indexOf(y.currentTarget);w=u.loop?Fz(w,b+1):w.slice(b+1)}setTimeout(()=>u2(w))}})})})});c2.displayName=l2;var Mz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Vz(t,e,n){const r=Lz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Mz[r]}function u2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Fz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var d2=a2,h2=c2,$z=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Aa=new WeakMap,wf=new WeakMap,xf={},Fy=0,f2=function(t){return t&&(t.host||f2(t.parentNode))},Uz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=f2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Bz=function(t,e,n,r){var s=Uz(e,Array.isArray(t)?t:[t]);xf[n]||(xf[n]=new WeakMap);var i=xf[n],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var m=f.getAttribute(r),y=m!==null&&m!=="false",x=(Aa.get(f)||0)+1,E=(i.get(f)||0)+1;Aa.set(f,x),i.set(f,E),o.push(f),x===1&&y&&wf.set(f,!0),E===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return h(e),a.clear(),Fy++,function(){o.forEach(function(p){var f=Aa.get(p)-1,m=i.get(p)-1;Aa.set(p,f),i.set(p,m),f||(wf.has(p)||p.removeAttribute(r),wf.delete(p)),m||p.removeAttribute(n)}),Fy--,Fy||(Aa=new WeakMap,Aa=new WeakMap,wf=new WeakMap,xf={})}},p2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=$z(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Bz(r,s,n,"aria-hidden")):function(){return null}},Br=function(){return Br=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Br.apply(this,arguments)};function uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var xp="right-scroll-bar-position",_p="width-before-scroll-bar",Gz="with-scroll-bars-hidden",qz="--removed-body-scroll-bar-size";function $y(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Wz(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Hz=typeof window<"u"?g.useLayoutEffect:g.useEffect,YS=new WeakMap;function Kz(t,e){var n=Wz(null,function(r){return t.forEach(function(s){return $y(s,r)})});return Hz(function(){var r=YS.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||$y(a,null)}),i.forEach(function(a){s.has(a)||$y(a,o)})}YS.set(n,t)},[t]),n}function Qz(t){return t}function Yz(t,e){e===void 0&&(e=Qz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function Jz(t){t===void 0&&(t={});var e=Yz(null);return e.options=Br({async:!0,ssr:!1},t),e}var m2=function(t){var e=t.sideCar,n=uh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Br({},n))};m2.isSideCarExport=!0;function Xz(t,e){return t.useMedium(e),m2}var g2=Jz(),Uy=function(){},$g=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Uy,onWheelCapture:Uy,onTouchMoveCapture:Uy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,m=t.noIsolation,y=t.inert,x=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,b=t.gapMode,_=uh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,O=Kz([n,e]),M=Br(Br({},_),s);return g.createElement(g.Fragment,null,h&&g.createElement(C,{sideCar:g2,removeScrollBar:u,shards:p,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(a),Br(Br({},M),{ref:O})):g.createElement(w,Br({},M,{className:l,ref:O}),a))});$g.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$g.classNames={fullWidth:_p,zeroRight:xp};var Zz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function e9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Zz();return e&&t.setAttribute("nonce",e),t}function t9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function n9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var r9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=e9())&&(t9(e,n),n9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},s9=function(){var t=r9();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},v2=function(){var t=s9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},i9={left:0,top:0,right:0,gap:0},By=function(t){return parseInt(t||"",10)||0},o9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[By(n),By(r),By(s)]},a9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return i9;var e=o9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},l9=v2(),bl="data-scroll-locked",c9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Gz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_p,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xp," .").concat(xp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_p," .").concat(_p,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(qz,": ").concat(a,`px;
  }
`)},JS=function(){var t=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(t)?t:0},u9=function(){g.useEffect(function(){return document.body.setAttribute(bl,(JS()+1).toString()),function(){var t=JS()-1;t<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,t.toString())}},[])},d9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;u9();var i=g.useMemo(function(){return a9(s)},[s]);return g.createElement(l9,{styles:c9(i,!e,s,n?"":"!important")})},ex=!1;if(typeof window<"u")try{var _f=Object.defineProperty({},"passive",{get:function(){return ex=!0,!0}});window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch{ex=!1}var Ra=ex?{passive:!1}:!1,h9=function(t){return t.tagName==="TEXTAREA"},y2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!h9(t)&&n[e]==="visible")},f9=function(t){return y2(t,"overflowY")},p9=function(t){return y2(t,"overflowX")},XS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=w2(t,r);if(s){var i=x2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},m9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},g9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},w2=function(t,e){return t==="v"?f9(e):p9(e)},x2=function(t,e){return t==="v"?m9(e):g9(e)},v9=function(t,e){return t==="h"&&e==="rtl"?-1:1},y9=function(t,e,n,r,s){var i=v9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,h=o>0,p=0,f=0;do{var m=x2(t,a),y=m[0],x=m[1],E=m[2],w=x-E-i*y;(y||w)&&w2(t,a)&&(p+=w,f+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(u=!0),u},bf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ZS=function(t){return[t.deltaX,t.deltaY]},eP=function(t){return t&&"current"in t?t.current:t},w9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},x9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_9=0,Na=[];function b9(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(_9++)[0],i=g.useState(v2)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=zz([t.lockRef.current],(t.shards||[]).map(eP),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(x,E){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var w=bf(x),b=n.current,_="deltaX"in x?x.deltaX:b[0]-w[0],C="deltaY"in x?x.deltaY:b[1]-w[1],O,M=x.target,P=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in x&&P==="h"&&M.type==="range")return!1;var S=XS(P,M);if(!S)return!0;if(S?O=P:(O=P==="v"?"h":"v",S=XS(P,M)),!S)return!1;if(!r.current&&"changedTouches"in x&&(_||C)&&(r.current=O),!O)return!0;var I=r.current||O;return y9(I,E,x,I==="h"?_:C,!0)},[]),l=g.useCallback(function(x){var E=x;if(!(!Na.length||Na[Na.length-1]!==i)){var w="deltaY"in E?ZS(E):bf(E),b=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&w9(O.delta,w)})[0];if(b&&b.should){E.cancelable&&E.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(eP).filter(Boolean).filter(function(O){return O.contains(E.target)}),C=_.length>0?a(E,_[0]):!o.current.noIsolation;C&&E.cancelable&&E.preventDefault()}}},[]),u=g.useCallback(function(x,E,w,b){var _={name:x,delta:E,target:w,should:b,shadowParent:E9(w)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),h=g.useCallback(function(x){n.current=bf(x),r.current=void 0},[]),p=g.useCallback(function(x){u(x.type,ZS(x),x.target,a(x,t.lockRef.current))},[]),f=g.useCallback(function(x){u(x.type,bf(x),x.target,a(x,t.lockRef.current))},[]);g.useEffect(function(){return Na.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ra),document.addEventListener("touchmove",l,Ra),document.addEventListener("touchstart",h,Ra),function(){Na=Na.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,Ra),document.removeEventListener("touchmove",l,Ra),document.removeEventListener("touchstart",h,Ra)}},[]);var m=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(i,{styles:x9(s)}):null,m?g.createElement(d9,{gapMode:t.gapMode}):null)}function E9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const T9=Xz(g2,b9);var ub=g.forwardRef(function(t,e){return g.createElement($g,Br({},t,{ref:e,sideCar:T9}))});ub.classNames=$g.classNames;var tx=["Enter"," "],S9=["ArrowDown","PageUp","Home"],_2=["ArrowUp","PageDown","End"],P9=[...S9,..._2],I9={ltr:[...tx,"ArrowRight"],rtl:[...tx,"ArrowLeft"]},C9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dh="Menu",[jd,A9,R9]=lb(dh),[ya,b2]=Ls(dh,[R9,Ng,Fg]),Ug=Ng(),E2=Fg(),[N9,wa]=ya(dh),[k9,hh]=ya(dh),T2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Ug(e),[l,u]=g.useState(null),h=g.useRef(!1),p=St(i),f=ch(s);return g.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),c.jsx(Nk,{...a,children:c.jsx(N9,{scope:e,open:n,onOpenChange:p,content:l,onContentChange:u,children:c.jsx(k9,{scope:e,onClose:g.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};T2.displayName=dh;var O9="MenuAnchor",db=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ug(n);return c.jsx(kk,{...s,...r,ref:e})});db.displayName=O9;var hb="MenuPortal",[D9,S2]=ya(hb,{forceMount:void 0}),P2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=wa(hb,e);return c.jsx(D9,{scope:e,forceMount:n,children:c.jsx(fn,{present:n||i.open,children:c.jsx(rb,{asChild:!0,container:s,children:r})})})};P2.displayName=hb;var Jn="MenuContent",[j9,fb]=ya(Jn),I2=g.forwardRef((t,e)=>{const n=S2(Jn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=wa(Jn,t.__scopeMenu),o=hh(Jn,t.__scopeMenu);return c.jsx(jd.Provider,{scope:t.__scopeMenu,children:c.jsx(fn,{present:r||i.open,children:c.jsx(jd.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(M9,{...s,ref:e}):c.jsx(L9,{...s,ref:e})})})})}),M9=g.forwardRef((t,e)=>{const n=wa(Jn,t.__scopeMenu),r=g.useRef(null),s=Ne(e,r);return g.useEffect(()=>{const i=r.current;if(i)return p2(i)},[]),c.jsx(pb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),L9=g.forwardRef((t,e)=>{const n=wa(Jn,t.__scopeMenu);return c.jsx(pb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),pb=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:m,disableOutsideScroll:y,...x}=t,E=wa(Jn,n),w=hh(Jn,n),b=Ug(n),_=E2(n),C=A9(n),[O,M]=g.useState(null),P=g.useRef(null),S=Ne(e,P,E.onContentChange),I=g.useRef(0),A=g.useRef(""),N=g.useRef(0),j=g.useRef(null),k=g.useRef("right"),J=g.useRef(0),ue=y?ub:g.Fragment,ne=y?{as:Jo,allowPinchZoom:!0}:void 0,de=U=>{var Je,Cn;const K=A.current+U,Q=C().filter(vt=>!vt.disabled),re=document.activeElement,he=(Je=Q.find(vt=>vt.ref.current===re))==null?void 0:Je.textValue,Ue=Q.map(vt=>vt.textValue),st=Q9(Ue,K,he),be=(Cn=Q.find(vt=>vt.textValue===st))==null?void 0:Cn.ref.current;(function vt(Bt){A.current=Bt,window.clearTimeout(I.current),Bt!==""&&(I.current=window.setTimeout(()=>vt(""),1e3))})(K),be&&setTimeout(()=>be.focus())};g.useEffect(()=>()=>window.clearTimeout(I.current),[]),s2();const F=g.useCallback(U=>{var Q,re;return k.current===((Q=j.current)==null?void 0:Q.side)&&J9(U,(re=j.current)==null?void 0:re.area)},[]);return c.jsx(j9,{scope:n,searchRef:A,onItemEnter:g.useCallback(U=>{F(U)&&U.preventDefault()},[F]),onItemLeave:g.useCallback(U=>{var K;F(U)||((K=P.current)==null||K.focus(),M(null))},[F]),onTriggerLeave:g.useCallback(U=>{F(U)&&U.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:g.useCallback(U=>{j.current=U},[]),children:c.jsx(ue,{...ne,children:c.jsx(cb,{asChild:!0,trapped:s,onMountAutoFocus:ie(i,U=>{var K;U.preventDefault(),(K=P.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(Ig,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:m,children:c.jsx(d2,{asChild:!0,..._,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:M,onEntryFocus:ie(l,U=>{w.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Ok,{role:"menu","aria-orientation":"vertical","data-state":z2(E.open),"data-radix-menu-content":"",dir:w.dir,...b,...x,ref:S,style:{outline:"none",...x.style},onKeyDown:ie(x.onKeyDown,U=>{const Q=U.target.closest("[data-radix-menu-content]")===U.currentTarget,re=U.ctrlKey||U.altKey||U.metaKey,he=U.key.length===1;Q&&(U.key==="Tab"&&U.preventDefault(),!re&&he&&de(U.key));const Ue=P.current;if(U.target!==Ue||!P9.includes(U.key))return;U.preventDefault();const be=C().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);_2.includes(U.key)&&be.reverse(),H9(be)}),onBlur:ie(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(I.current),A.current="")}),onPointerMove:ie(t.onPointerMove,Md(U=>{const K=U.target,Q=J.current!==U.clientX;if(U.currentTarget.contains(K)&&Q){const re=U.clientX>J.current?"right":"left";k.current=re,J.current=U.clientX}}))})})})})})})});I2.displayName=Jn;var V9="MenuGroup",mb=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{role:"group",...r,ref:e})});mb.displayName=V9;var F9="MenuLabel",C2=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});C2.displayName=F9;var xm="MenuItem",tP="menu.itemSelect",Bg=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=hh(xm,t.__scopeMenu),a=fb(xm,t.__scopeMenu),l=Ne(e,i),u=g.useRef(!1),h=()=>{const p=i.current;if(!n&&p){const f=new CustomEvent(tP,{bubbles:!0,cancelable:!0});p.addEventListener(tP,m=>r==null?void 0:r(m),{once:!0}),uk(p,f),f.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(A2,{...s,ref:l,disabled:n,onClick:ie(t.onClick,h),onPointerDown:p=>{var f;(f=t.onPointerDown)==null||f.call(t,p),u.current=!0},onPointerUp:ie(t.onPointerUp,p=>{var f;u.current||(f=p.currentTarget)==null||f.click()}),onKeyDown:ie(t.onKeyDown,p=>{const f=a.searchRef.current!=="";n||f&&p.key===" "||tx.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Bg.displayName=xm;var A2=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=fb(xm,n),a=E2(n),l=g.useRef(null),u=Ne(e,l),[h,p]=g.useState(!1),[f,m]=g.useState("");return g.useEffect(()=>{const y=l.current;y&&m((y.textContent??"").trim())},[i.children]),c.jsx(jd.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:c.jsx(h2,{asChild:!0,...a,focusable:!r,children:c.jsx(ve.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ie(t.onPointerMove,Md(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,Md(y=>o.onItemLeave(y))),onFocus:ie(t.onFocus,()=>p(!0)),onBlur:ie(t.onBlur,()=>p(!1))})})})}),$9="MenuCheckboxItem",R2=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx(j2,{scope:t.__scopeMenu,checked:n,children:c.jsx(Bg,{role:"menuitemcheckbox","aria-checked":_m(n)?"mixed":n,...s,ref:e,"data-state":vb(n),onSelect:ie(s.onSelect,()=>r==null?void 0:r(_m(n)?!0:!n),{checkForDefaultPrevented:!1})})})});R2.displayName=$9;var N2="MenuRadioGroup",[U9,B9]=ya(N2,{value:void 0,onValueChange:()=>{}}),k2=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=St(r);return c.jsx(U9,{scope:t.__scopeMenu,value:n,onValueChange:i,children:c.jsx(mb,{...s,ref:e})})});k2.displayName=N2;var O2="MenuRadioItem",D2=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=B9(O2,t.__scopeMenu),i=n===s.value;return c.jsx(j2,{scope:t.__scopeMenu,checked:i,children:c.jsx(Bg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":vb(i),onSelect:ie(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});D2.displayName=O2;var gb="MenuItemIndicator",[j2,z9]=ya(gb,{checked:!1}),M2=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=z9(gb,n);return c.jsx(fn,{present:r||_m(i.checked)||i.checked===!0,children:c.jsx(ve.span,{...s,ref:e,"data-state":vb(i.checked)})})});M2.displayName=gb;var G9="MenuSeparator",L2=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});L2.displayName=G9;var q9="MenuArrow",V2=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ug(n);return c.jsx(Dk,{...s,...r,ref:e})});V2.displayName=q9;var W9="MenuSub",[cce,F2]=ya(W9),Du="MenuSubTrigger",$2=g.forwardRef((t,e)=>{const n=wa(Du,t.__scopeMenu),r=hh(Du,t.__scopeMenu),s=F2(Du,t.__scopeMenu),i=fb(Du,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},h=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),l(null)}},[a,l]),c.jsx(db,{asChild:!0,...u,children:c.jsx(A2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":z2(n.open),...t,ref:Pg(e,s.onTriggerChange),onClick:p=>{var f;(f=t.onClick)==null||f.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,Md(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ie(t.onPointerLeave,Md(p=>{var m,y;h();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const x=(y=n.content)==null?void 0:y.dataset.side,E=x==="right",w=E?-5:5,b=f[E?"left":"right"],_=f[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+w,y:p.clientY},{x:b,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x:b,y:f.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,p=>{var m;const f=i.searchRef.current!=="";t.disabled||f&&p.key===" "||I9[r.dir].includes(p.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),p.preventDefault())})})})});$2.displayName=Du;var U2="MenuSubContent",B2=g.forwardRef((t,e)=>{const n=S2(Jn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=wa(Jn,t.__scopeMenu),o=hh(Jn,t.__scopeMenu),a=F2(U2,t.__scopeMenu),l=g.useRef(null),u=Ne(e,l);return c.jsx(jd.Provider,{scope:t.__scopeMenu,children:c.jsx(fn,{present:r||i.open,children:c.jsx(jd.Slot,{scope:t.__scopeMenu,children:c.jsx(pb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ie(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ie(t.onKeyDown,h=>{var m;const p=h.currentTarget.contains(h.target),f=C9[o.dir].includes(h.key);p&&f&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),h.preventDefault())})})})})})});B2.displayName=U2;function z2(t){return t?"open":"closed"}function _m(t){return t==="indeterminate"}function vb(t){return _m(t)?"indeterminate":t?"checked":"unchecked"}function H9(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function K9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Q9(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=K9(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Y9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,h=e[o].y;l>r!=h>r&&n<(u-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function J9(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Y9(n,e)}function Md(t){return e=>e.pointerType==="mouse"?t(e):void 0}var X9=T2,Z9=db,e8=P2,t8=I2,n8=mb,r8=C2,s8=Bg,i8=R2,o8=k2,a8=D2,l8=M2,c8=L2,u8=V2,d8=$2,h8=B2,yb="DropdownMenu",[f8,uce]=Ls(yb,[b2]),pn=b2(),[p8,G2]=f8(yb),q2=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=pn(e),u=g.useRef(null),[h=!1,p]=va({prop:s,defaultProp:i,onChange:o});return c.jsx(p8,{scope:e,triggerId:Di(),triggerRef:u,contentId:Di(),open:h,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(f=>!f),[p]),modal:a,children:c.jsx(X9,{...l,open:h,onOpenChange:p,dir:r,modal:a,children:n})})};q2.displayName=yb;var W2="DropdownMenuTrigger",H2=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=G2(W2,n),o=pn(n);return c.jsx(Z9,{asChild:!0,...o,children:c.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Pg(e,i.triggerRef),onPointerDown:ie(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ie(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});H2.displayName=W2;var m8="DropdownMenuPortal",K2=t=>{const{__scopeDropdownMenu:e,...n}=t,r=pn(e);return c.jsx(e8,{...r,...n})};K2.displayName=m8;var Q2="DropdownMenuContent",Y2=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=G2(Q2,n),i=pn(n),o=g.useRef(!1);return c.jsx(t8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ie(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,h=l.button===2||u;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y2.displayName=Q2;var g8="DropdownMenuGroup",v8=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(n8,{...s,...r,ref:e})});v8.displayName=g8;var y8="DropdownMenuLabel",J2=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(r8,{...s,...r,ref:e})});J2.displayName=y8;var w8="DropdownMenuItem",X2=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(s8,{...s,...r,ref:e})});X2.displayName=w8;var x8="DropdownMenuCheckboxItem",Z2=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(i8,{...s,...r,ref:e})});Z2.displayName=x8;var _8="DropdownMenuRadioGroup",b8=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(o8,{...s,...r,ref:e})});b8.displayName=_8;var E8="DropdownMenuRadioItem",eO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(a8,{...s,...r,ref:e})});eO.displayName=E8;var T8="DropdownMenuItemIndicator",tO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(l8,{...s,...r,ref:e})});tO.displayName=T8;var S8="DropdownMenuSeparator",nO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(c8,{...s,...r,ref:e})});nO.displayName=S8;var P8="DropdownMenuArrow",I8=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(u8,{...s,...r,ref:e})});I8.displayName=P8;var C8="DropdownMenuSubTrigger",rO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(d8,{...s,...r,ref:e})});rO.displayName=C8;var A8="DropdownMenuSubContent",sO=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pn(n);return c.jsx(h8,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sO.displayName=A8;var R8=q2,N8=H2,k8=K2,iO=Y2,oO=J2,aO=X2,lO=Z2,cO=eO,uO=tO,dO=nO,hO=rO,fO=sO;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...D8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pO("lucide",s),...a},[...o.map(([u,h])=>g.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(j8,{ref:i,iconNode:e,className:pO(`lucide-${O8(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=te("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=te("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=te("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=te("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=te("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=te("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=te("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=te("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=te("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=te("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=te("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=te("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=te("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=te("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=te("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=te("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=te("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=te("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yG=R8,wG=N8,xG=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>c.jsxs(hO,{ref:s,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,c.jsx(mO,{className:"ml-auto h-4 w-4"})]}));xG.displayName=hO.displayName;const _G=g.forwardRef(({className:t,...e},n)=>c.jsx(fO,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));_G.displayName=fO.displayName;const CO=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(k8,{children:c.jsx(iO,{ref:r,sideOffset:e,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));CO.displayName=iO.displayName;const ju=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(aO,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ju.displayName=aO.displayName;const bG=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>c.jsxs(lO,{ref:s,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(uO,{children:c.jsx(wc,{className:"h-4 w-4"})})}),e]}));bG.displayName=lO.displayName;const EG=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(cO,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(uO,{children:c.jsx(G8,{className:"h-2 w-2 fill-current"})})}),e]}));EG.displayName=cO.displayName;const AO=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(oO,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));AO.displayName=oO.displayName;const nx=g.forwardRef(({className:t,...e},n)=>c.jsx(dO,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e}));nx.displayName=dO.displayName;var Tb="Avatar",[TG,dce]=Ls(Tb),[SG,RO]=TG(Tb),NO=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return c.jsx(SG,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(ve.span,{...r,ref:e})})});NO.displayName=Tb;var kO="AvatarImage",OO=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=RO(kO,n),a=PG(r,i.referrerPolicy),l=St(u=>{s(u),o.onImageLoadingStatusChange(u)});return Kr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ve.img,{...i,ref:e,src:r}):null});OO.displayName=kO;var DO="AvatarFallback",jO=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=RO(DO,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(ve.span,{...s,ref:e}):null});jO.displayName=DO;function PG(t,e){const[n,r]=g.useState("idle");return Kr(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var MO=NO,LO=OO,VO=jO;const Wg=g.forwardRef(({className:t,...e},n)=>c.jsx(MO,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Wg.displayName=MO.displayName;const Hg=g.forwardRef(({className:t,...e},n)=>c.jsx(LO,{ref:n,className:se("aspect-square h-full w-full",t),...e}));Hg.displayName=LO.displayName;const Kg=g.forwardRef(({className:t,...e},n)=>c.jsx(VO,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Kg.displayName=VO.displayName;var nP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},IG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[h],n[p],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new CG;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),p!==64){const y=u<<6&192|p;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AG=function(t){const e=FO(t);return $O.encodeByteArray(e,!0)},bm=function(t){return AG(t).replace(/\./g,"")},UO=function(t){try{return $O.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=()=>RG().__FIREBASE_DEFAULTS__,kG=()=>{if(typeof process>"u"||typeof nP>"u")return;const t=nP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UO(t[1]);return e&&JSON.parse(e)},Qg=()=>{try{return NG()||kG()||OG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BO=t=>{var e,n;return(n=(e=Qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zO=t=>{const e=BO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GO=()=>{var t;return(t=Qg())===null||t===void 0?void 0:t.config},qO=t=>{var e;return(e=Qg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bm(JSON.stringify(n)),bm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function MG(){var t;const e=(t=Qg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FG(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KO(){return!MG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sb(){try{return typeof indexedDB=="object"}catch{return!1}}function QO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function $G(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UG,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xa.prototype.create)}}class xa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?BG(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new rr(s,a,r)}}function BG(t,e){return t.replace(zG,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zG=/\{\$([^}]+)}/g;function GG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(rP(i)&&rP(o)){if(!Vd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function rP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Lu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qG(t,e){const n=new WG(t,e);return n.subscribe.bind(n)}class WG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HG(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zy),s.error===void 0&&(s.error=zy),s.complete===void 0&&(s.complete=zy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG=1e3,QG=2,YG=4*60*60*1e3,JG=.5;function sP(t,e=KG,n=QG){const r=e*Math.pow(n,t),s=Math.round(JG*r*(Math.random()-.5)*2);return Math.min(YG,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eq(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZG(t){return t===So?void 0:t}function eq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const nq={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},rq=Se.INFO,sq={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},iq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=sq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=rq,this._logHandler=iq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const oq=(t,e)=>e.some(n=>t instanceof n);let iP,oP;function aq(){return iP||(iP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lq(){return oP||(oP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YO=new WeakMap,rx=new WeakMap,JO=new WeakMap,Gy=new WeakMap,Pb=new WeakMap;function cq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ji(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YO.set(n,t)}).catch(()=>{}),Pb.set(e,t),e}function uq(t){if(rx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rx.set(t,e)}let sx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dq(t){sx=t(sx)}function hq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qy(this),e,...n);return JO.set(r,e.sort?e.sort():[e]),ji(r)}:lq().includes(t)?function(...e){return t.apply(qy(this),e),ji(YO.get(this))}:function(...e){return ji(t.apply(qy(this),e))}}function fq(t){return typeof t=="function"?hq(t):(t instanceof IDBTransaction&&uq(t),oq(t,aq())?new Proxy(t,sx):t)}function ji(t){if(t instanceof IDBRequest)return cq(t);if(Gy.has(t))return Gy.get(t);const e=fq(t);return e!==t&&(Gy.set(t,e),Pb.set(e,t)),e}const qy=t=>Pb.get(t);function XO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pq=["get","getKey","getAll","getAllKeys","count"],mq=["put","add","delete","clear"],Wy=new Map;function aP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wy.get(e))return Wy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pq.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Wy.set(e,i),i}dq(t=>({...t,get:(e,n,r)=>aP(e,n)||t.get(e,n,r),has:(e,n)=>!!aP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ix="@firebase/app",lP="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Yg("@firebase/app"),yq="@firebase/app-compat",wq="@firebase/analytics-compat",xq="@firebase/analytics",_q="@firebase/app-check-compat",bq="@firebase/app-check",Eq="@firebase/auth",Tq="@firebase/auth-compat",Sq="@firebase/database",Pq="@firebase/data-connect",Iq="@firebase/database-compat",Cq="@firebase/functions",Aq="@firebase/functions-compat",Rq="@firebase/installations",Nq="@firebase/installations-compat",kq="@firebase/messaging",Oq="@firebase/messaging-compat",Dq="@firebase/performance",jq="@firebase/performance-compat",Mq="@firebase/remote-config",Lq="@firebase/remote-config-compat",Vq="@firebase/storage",Fq="@firebase/storage-compat",$q="@firebase/firestore",Uq="@firebase/vertexai",Bq="@firebase/firestore-compat",zq="firebase",Gq="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="[DEFAULT]",qq={[ix]:"fire-core",[yq]:"fire-core-compat",[xq]:"fire-analytics",[wq]:"fire-analytics-compat",[bq]:"fire-app-check",[_q]:"fire-app-check-compat",[Eq]:"fire-auth",[Tq]:"fire-auth-compat",[Sq]:"fire-rtdb",[Pq]:"fire-data-connect",[Iq]:"fire-rtdb-compat",[Cq]:"fire-fn",[Aq]:"fire-fn-compat",[Rq]:"fire-iid",[Nq]:"fire-iid-compat",[kq]:"fire-fcm",[Oq]:"fire-fcm-compat",[Dq]:"fire-perf",[jq]:"fire-perf-compat",[Mq]:"fire-rc",[Lq]:"fire-rc-compat",[Vq]:"fire-gcs",[Fq]:"fire-gcs-compat",[$q]:"fire-fst",[Bq]:"fire-fst-compat",[Uq]:"fire-vertex","fire-js":"fire-js",[zq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new Map,Wq=new Map,ax=new Map;function cP(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(ax.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;ax.set(e,t);for(const n of Em.values())cP(n,t);for(const n of Wq.values())cP(n,t);return!0}function no(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new xa("app","Firebase",Hq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=Gq;function ZO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ox,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(n||(n=GO()),!n)throw Mi.create("no-options");const i=Em.get(s);if(i){if(Vd(n,i.options)&&Vd(r,i.config))return i;throw Mi.create("duplicate-app",{appName:s})}const o=new tq(s);for(const l of ax.values())o.addComponent(l);const a=new Kq(n,r,o);return Em.set(s,a),a}function Jg(t=ox){const e=Em.get(t);if(!e&&t===ox&&GO())return ZO();if(!e)throw Mi.create("no-app",{appName:t});return e}function Sn(t,e,n){var r;let s=(r=qq[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(a.join(" "));return}Sr(new er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="firebase-heartbeat-database",Yq=1,Fd="firebase-heartbeat-store";let Hy=null;function eD(){return Hy||(Hy=XO(Qq,Yq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Hy}async function Jq(t){try{const n=(await eD()).transaction(Fd),r=await n.objectStore(Fd).get(tD(t));return await n.done,r}catch(e){if(e instanceof rr)Ns.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(n.message)}}}async function uP(t,e){try{const r=(await eD()).transaction(Fd,"readwrite");await r.objectStore(Fd).put(e,tD(t)),await r.done}catch(n){if(n instanceof rr)Ns.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(r.message)}}}function tD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=1024,Zq=30*24*60*60*1e3;class eW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Zq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dP(),{heartbeatsToSend:r,unsentEntries:s}=tW(this._heartbeatsCache.heartbeats),i=bm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ns.warn(n),""}}}function dP(){return new Date().toISOString().substring(0,10)}function tW(t,e=Xq){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),hP(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sb()?QO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hP(t){return bm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){Sr(new er("platform-logger",e=>new gq(e),"PRIVATE")),Sr(new er("heartbeat",e=>new eW(e),"PRIVATE")),Sn(ix,lP,t),Sn(ix,lP,"esm2017"),Sn("fire-js","")}rW("");var sW="firebase",iW="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(sW,iW,"app");function nD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oW=nD,rD=new xa("auth","Firebase",nD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new Yg("@firebase/auth");function aW(t,...e){Tm.logLevel<=Se.WARN&&Tm.warn(`Auth (${_a}): ${t}`,...e)}function bp(t,...e){Tm.logLevel<=Se.ERROR&&Tm.error(`Auth (${_a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw Cb(t,...e)}function _r(t,...e){return Cb(t,...e)}function Ib(t,e,n){const r=Object.assign(Object.assign({},oW()),{[e]:n});return new xa("auth","Firebase",r).create(e,{appName:t.name})}function bs(t){return Ib(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&tr(t,"argument-error"),Ib(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rD.create(t,...e)}function fe(t,e,...n){if(!t)throw Cb(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bp(e),new Error(e)}function ks(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cW(){return fP()==="http:"||fP()==="https:"}function fP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cW()||HO()||"connection"in navigator)?navigator.onLine:!0}function dW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=jG()||VG()}get(){return uW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fW=new ph(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function so(t,e,n,r,s={}){return iD(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return LG()||(u.referrerPolicy="no-referrer"),sD.fetch()(oD(t,t.config.apiHost,n,a),u)})}async function iD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hW),e);try{const s=new mW(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ef(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ef(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ib(t,h,u);tr(t,h)}}catch(s){if(s instanceof rr)throw s;tr(t,"network-request-failed",{message:String(s)})}}async function mh(t,e,n,r,s={}){const i=await so(t,e,n,r,s);return"mfaPendingCredential"in i&&tr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function oD(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ab(t.config,s):`${t.config.apiScheme}://${s}`}function pW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),fW.get())})}}function Ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=_r(t,e,r);return s.customData._tokenResponse=n,s}function pP(t){return t!==void 0&&t.enterprise!==void 0}class gW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vW(t,e){return so(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e){return so(t,"POST","/v1/accounts:delete",e)}async function aD(t,e){return so(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wW(t,e=!1){const n=jt(t),r=await n.getIdToken(e),s=Rb(r);fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ju(Ky(s.auth_time)),issuedAtTime:Ju(Ky(s.iat)),expirationTime:Ju(Ky(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ky(t){return Number(t)*1e3}function Rb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bp("JWT malformed, contained fewer than 3 sections"),null;try{const s=UO(n);return s?JSON.parse(s):(bp("Failed to decode base64 JWT payload"),null)}catch(s){return bp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mP(t){const e=Rb(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&xW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await $d(t,aD(n,{idToken:r}));fe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?lD(i.providerUserInfo):[],a=EW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new cx(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function bW(t){const e=jt(t);await Sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EW(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lD(t){return t.map(e=>{var{providerId:n}=e,r=uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TW(t,e){const n=await iD(t,{},async()=>{const r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=oD(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SW(t,e){return so(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=mP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await TW(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Tl;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(fe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(fe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _W(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $d(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wW(this,e)}reload(){return bW(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await $d(this,yW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:C,isAnonymous:O,providerData:M,stsTokenManager:P}=n;fe(_&&P,e,"internal-error");const S=Tl.fromJSON(this.name,P);fe(typeof _=="string",e,"internal-error"),Ys(p,e.name),Ys(f,e.name),fe(typeof C=="boolean",e,"internal-error"),fe(typeof O=="boolean",e,"internal-error"),Ys(m,e.name),Ys(y,e.name),Ys(x,e.name),Ys(E,e.name),Ys(w,e.name),Ys(b,e.name);const I=new ys({uid:_,auth:e,email:f,emailVerified:C,displayName:p,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:x,stsTokenManager:S,createdAt:w,lastLoginAt:b});return M&&Array.isArray(M)&&(I.providerData=M.map(A=>Object.assign({},A))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Tl;s.updateFromServerResponse(n);const i=new ys({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];fe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?lD(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Tl;a.updateFromIdToken(r);const l=new ys({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Map;function ws(t){ks(t instanceof Function,"Expected a class definition");let e=gP.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cD.type="NONE";const vP=cD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e,n){return`firebase:${t}:${e}:${n}`}class Sl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ep(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ep("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sl(ws(vP),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ws(vP);const o=Ep(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const p=ys._fromJSON(e,h);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Sl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Sl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mD(e))return"Blackberry";if(gD(e))return"Webos";if(dD(e))return"Safari";if((e.includes("chrome/")||hD(e))&&!e.includes("edge/"))return"Chrome";if(pD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uD(t=It()){return/firefox\//i.test(t)}function dD(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hD(t=It()){return/crios\//i.test(t)}function fD(t=It()){return/iemobile/i.test(t)}function pD(t=It()){return/android/i.test(t)}function mD(t=It()){return/blackberry/i.test(t)}function gD(t=It()){return/webos/i.test(t)}function Nb(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PW(t=It()){var e;return Nb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IW(){return FG()&&document.documentMode===10}function vD(t=It()){return Nb(t)||pD(t)||gD(t)||mD(t)||/windows phone/i.test(t)||fD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e=[]){let n;switch(t){case"Browser":n=yP(It());break;case"Worker":n=`${yP(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AW(t,e={}){return so(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW=6;class NW{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:RW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wP(this),this.idTokenSubscription=new wP(this),this.beforeStateQueue=new CW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aD(this,{idToken:e}),r=await ys._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(bs(this));const n=e?jt(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AW(this),n=new NW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function io(t){return jt(t)}let wP=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qG(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OW(t){Xg=t}function wD(t){return Xg.loadJS(t)}function DW(){return Xg.recaptchaEnterpriseScript}function jW(){return Xg.gapiScript}function MW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LW{constructor(){this.enterprise=new VW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FW="recaptcha-enterprise",xD="NO_RECAPTCHA";class $W{constructor(e){this.type=FW,this.auth=io(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{vW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new gW(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;pP(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(xD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LW().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&pP(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=DW();l.length!==0&&(l+=a),wD(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function xP(t,e,n,r=!1,s=!1){const i=new $W(t);let o;if(s)o=xD;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ux(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xP(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await xP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t,e){const n=no(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vd(i,e??{}))return s;tr(s,"already-initialized")}return n.initialize({options:e})}function BW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zW(t,e,n){const r=io(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=_D(e),{host:o,port:a}=GW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),qW()}function _D(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GW(t){const e=_D(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:_P(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:_P(o)}}}function _P(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function WW(t,e){return so(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e){return mh(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function QW(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends kb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ud(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ud(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ux(e,n,"signInWithPassword",HW);case"emailLink":return KW(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ux(e,r,"signUpPassword",WW);case"emailLink":return QW(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e){return mh(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="http://localhost";class ea extends kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=uh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ea(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:YW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XW(t){const e=Mu(Lu(t)).link,n=e?Mu(Lu(e)).deep_link_id:null,r=Mu(Lu(t)).deep_link_id;return(r?Mu(Lu(r)).link:null)||r||n||e||t}class Ob{constructor(e){var n,r,s,i,o,a;const l=Mu(Lu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=JW((s=l.mode)!==null&&s!==void 0?s:null);fe(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=XW(e);try{return new Ob(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.providerId=xc.PROVIDER_ID}static credential(e,n){return Ud._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ob.parseLink(n);return fe(r,"argument-error"),Ud._fromEmailAndCode(e,r.code,r.tenantId)}}xc.PROVIDER_ID="password";xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends gh{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends gh{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends gh{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW(t,e){return mh(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ys._fromIdTokenResponse(e,r,s),o=bP(r);return new ta({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=bP(r);return new ta({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function bP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends rr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pm(e,n,r,s)}}function bD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Pm._fromErrorAndOperation(t,i,e,r):i})}async function e7(t,e,n=!1){const r=await $d(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e,n=!1){const{auth:r}=t;if(vr(r.app))return Promise.reject(bs(r));const s="reauthenticate";try{const i=await $d(t,bD(r,s,e,t),n);fe(i.idToken,r,"internal-error");const o=Rb(i.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),ta._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e,n=!1){if(vr(t.app))return Promise.reject(bs(t));const r="signIn",s=await bD(t,r,e),i=await ta._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function n7(t,e){return ED(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r7(t,e,n){if(vr(t.app))return Promise.reject(bs(t));const r=io(t),o=await ux(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&TD(t),l}),a=await ta._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function s7(t,e,n){return vr(t.app)?Promise.reject(bs(t)):n7(jt(t),xc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TD(t),r})}function i7(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function o7(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}const Im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Im,"1"),this.storage.removeItem(Im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=1e3,l7=10;class PD extends SD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);IW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,l7):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},a7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PD.type="LOCAL";const c7=PD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends SD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ID.type="SESSION";const CD=ID;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Zg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await u7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=jb("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function h7(t){Hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function f7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m7(){return AD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebaseLocalStorageDb",g7=1,Cm="firebaseLocalStorage",ND="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ev(t,e){return t.transaction([Cm],e?"readwrite":"readonly").objectStore(Cm)}function v7(){const t=indexedDB.deleteDatabase(RD);return new vh(t).toPromise()}function dx(){const t=indexedDB.open(RD,g7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cm,{keyPath:ND})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cm)?e(r):(r.close(),await v7(),e(await dx()))})})}async function EP(t,e,n){const r=ev(t,!0).put({[ND]:e,value:n});return new vh(r).toPromise()}async function y7(t,e){const n=ev(t,!1).get(e),r=await new vh(n).toPromise();return r===void 0?null:r.value}function TP(t,e){const n=ev(t,!0).delete(e);return new vh(n).toPromise()}const w7=800,x7=3;class kD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zg._getInstance(m7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f7(),!this.activeServiceWorker)return;this.sender=new d7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dx();return await EP(e,Im,"1"),await TP(e,Im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>y7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ev(s,!1).getAll();return new vh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kD.type="LOCAL";const _7=kD;new ph(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){return e?ws(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends kb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b7(t){return ED(t.auth,new Mb(t),t.bypassAuthState)}function E7(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),t7(n,new Mb(t),t.bypassAuthState)}async function T7(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),e7(n,new Mb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b7;case"linkViaPopup":case"linkViaRedirect":return T7;case"reauthViaPopup":case"reauthViaRedirect":return E7;default:tr(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=new ph(2e3,1e4);async function P7(t,e,n){if(vr(t.app))return Promise.reject(_r(t,"operation-not-supported-in-this-environment"));const r=io(t);lW(t,e,Db);const s=OD(r,n);return new jo(r,"signInViaPopup",e,s).executeNotNull()}class jo extends DD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=jb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S7.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7="pendingRedirect",Tp=new Map;class C7 extends DD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tp.get(this.auth._key());if(!e){try{const r=await A7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tp.set(this.auth._key(),e)}return this.bypassAuthState||Tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A7(t,e){const n=k7(e),r=N7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function R7(t,e){Tp.set(t._key(),e)}function N7(t){return ws(t._redirectPersistence)}function k7(t){return Ep(I7,t.config.apiKey,t.name)}async function O7(t,e,n=!1){if(vr(t.app))return Promise.reject(bs(t));const r=io(t),s=OD(r,e),o=await new C7(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=10*60*1e3;class j7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_r(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D7&&this.cachedEventUids.clear(),this.cachedEventUids.has(SP(e))}saveEventToCache(e){this.cachedEventUids.add(SP(e)),this.lastProcessedEventTime=Date.now()}}function SP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(t,e={}){return so(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F7=/^https?/;async function $7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await L7(t);for(const n of e)try{if(U7(n))return}catch{}tr(t,"unauthorized-domain")}function U7(t){const e=lx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!F7.test(n))return!1;if(V7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=new ph(3e4,6e4);function PP(){const t=Hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function z7(t){return new Promise((e,n)=>{var r,s,i;function o(){PP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PP(),n(_r(t,"network-request-failed"))},timeout:B7.get()})}if(!((s=(r=Hr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Hr().gapi)===null||i===void 0)&&i.load)o();else{const a=MW("iframefcb");return Hr()[a]=()=>{gapi.load?o():n(_r(t,"network-request-failed"))},wD(`${jW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sp=null,e})}let Sp=null;function G7(t){return Sp=Sp||z7(t),Sp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=new ph(5e3,15e3),W7="__/auth/iframe",H7="emulator/auth/iframe",K7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y7(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ab(e,H7):`https://${t.config.authDomain}/${W7}`,r={apiKey:e.apiKey,appName:t.name,v:_a},s=Q7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fh(r).slice(1)}`}async function J7(t){const e=await G7(t),n=Hr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:Y7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=_r(t,"network-request-failed"),a=Hr().setTimeout(()=>{i(o)},q7.get());function l(){Hr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z7=500,eH=600,tH="_blank",nH="http://localhost";class IP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rH(t,e,n,r=Z7,s=eH){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},X7),{width:r.toString(),height:s.toString(),top:i,left:o}),u=It().toLowerCase();n&&(a=hD(u)?tH:n),uD(u)&&(e=e||nH,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(PW(u)&&a!=="_self")return sH(e||"",a),new IP(null);const p=window.open(e||"",a,h);fe(p,t,"popup-blocked");try{p.focus()}catch{}return new IP(p)}function sH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="__/auth/handler",oH="emulator/auth/handler",aH=encodeURIComponent("fac");async function CP(t,e,n,r,s,i){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_a,eventId:s};if(e instanceof Db){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GG(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof gh){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${aH}=${encodeURIComponent(l)}`:"";return`${lH(t)}?${fh(a).slice(1)}${u}`}function lH({config:t}){return t.emulator?Ab(t,oH):`https://${t.authDomain}/${iH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="webStorageSupport";class cH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CD,this._completeRedirectFn=O7,this._overrideRedirectResult=R7}async _openPopup(e,n,r,s){var i;ks((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await CP(e,n,r,lx(),s);return rH(e,o,jb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await CP(e,n,r,lx(),s);return h7(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ks(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J7(e),r=new j7(e);return n.register("authEvent",s=>(fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qy,{type:Qy},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Qy];o!==void 0&&n(!!o),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vD()||dD()||Nb()}}const uH=cH;var AP="@firebase/auth",RP="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fH(t){Sr(new er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yD(t)},u=new kW(r,s,i,l);return BW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new er("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(r=>new dH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(AP,RP,hH(t)),Sn(AP,RP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=5*60,mH=qO("authIdTokenMaxAge")||pH;let NP=null;const gH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mH)return;const s=n==null?void 0:n.token;NP!==s&&(NP=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vH(t=Jg()){const e=no(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UW(t,{popupRedirectResolver:uH,persistence:[_7,c7,CD]}),r=qO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=gH(i.toString());o7(n,o,()=>o(n.currentUser)),i7(n,a=>o(a))}}const s=BO("auth");return s&&zW(n,`http://${s}`),n}function yH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=_r("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",yH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fH("Browser");var kP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,MD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function I(){}I.prototype=S.prototype,P.D=S.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(A,N,j){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return S.prototype[N].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,S,I){I||(I=0);var A=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)A[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;16>N;++N)A[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=P.g[0],I=P.g[1],N=P.g[2];var j=P.g[3],k=S+(j^I&(N^j))+A[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=j+(N^S&(I^N))+A[1]+3905402710&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(I^j&(S^I))+A[2]+606105819&4294967295,N=j+(k<<17&4294967295|k>>>15),k=I+(S^N&(j^S))+A[3]+3250441966&4294967295,I=N+(k<<22&4294967295|k>>>10),k=S+(j^I&(N^j))+A[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(N^S&(I^N))+A[5]+1200080426&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(I^j&(S^I))+A[6]+2821735955&4294967295,N=j+(k<<17&4294967295|k>>>15),k=I+(S^N&(j^S))+A[7]+4249261313&4294967295,I=N+(k<<22&4294967295|k>>>10),k=S+(j^I&(N^j))+A[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(N^S&(I^N))+A[9]+2336552879&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(I^j&(S^I))+A[10]+4294925233&4294967295,N=j+(k<<17&4294967295|k>>>15),k=I+(S^N&(j^S))+A[11]+2304563134&4294967295,I=N+(k<<22&4294967295|k>>>10),k=S+(j^I&(N^j))+A[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(N^S&(I^N))+A[13]+4254626195&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(I^j&(S^I))+A[14]+2792965006&4294967295,N=j+(k<<17&4294967295|k>>>15),k=I+(S^N&(j^S))+A[15]+1236535329&4294967295,I=N+(k<<22&4294967295|k>>>10),k=S+(N^j&(I^N))+A[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^N&(S^I))+A[6]+3225465664&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^I&(j^S))+A[11]+643717713&4294967295,N=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(N^j))+A[0]+3921069994&4294967295,I=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(I^N))+A[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^N&(S^I))+A[10]+38016083&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^I&(j^S))+A[15]+3634488961&4294967295,N=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(N^j))+A[4]+3889429448&4294967295,I=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(I^N))+A[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^N&(S^I))+A[14]+3275163606&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^I&(j^S))+A[3]+4107603335&4294967295,N=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(N^j))+A[8]+1163531501&4294967295,I=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(I^N))+A[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^N&(S^I))+A[2]+4243563512&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^I&(j^S))+A[7]+1735328473&4294967295,N=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(N^j))+A[12]+2368359562&4294967295,I=N+(k<<20&4294967295|k>>>12),k=S+(I^N^j)+A[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^N)+A[8]+2272392833&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^I)+A[11]+1839030562&4294967295,N=j+(k<<16&4294967295|k>>>16),k=I+(N^j^S)+A[14]+4259657740&4294967295,I=N+(k<<23&4294967295|k>>>9),k=S+(I^N^j)+A[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^N)+A[4]+1272893353&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^I)+A[7]+4139469664&4294967295,N=j+(k<<16&4294967295|k>>>16),k=I+(N^j^S)+A[10]+3200236656&4294967295,I=N+(k<<23&4294967295|k>>>9),k=S+(I^N^j)+A[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^N)+A[0]+3936430074&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^I)+A[3]+3572445317&4294967295,N=j+(k<<16&4294967295|k>>>16),k=I+(N^j^S)+A[6]+76029189&4294967295,I=N+(k<<23&4294967295|k>>>9),k=S+(I^N^j)+A[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^N)+A[12]+3873151461&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^I)+A[15]+530742520&4294967295,N=j+(k<<16&4294967295|k>>>16),k=I+(N^j^S)+A[2]+3299628645&4294967295,I=N+(k<<23&4294967295|k>>>9),k=S+(N^(I|~j))+A[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~N))+A[7]+1126891415&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~I))+A[14]+2878612391&4294967295,N=j+(k<<15&4294967295|k>>>17),k=I+(j^(N|~S))+A[5]+4237533241&4294967295,I=N+(k<<21&4294967295|k>>>11),k=S+(N^(I|~j))+A[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~N))+A[3]+2399980690&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~I))+A[10]+4293915773&4294967295,N=j+(k<<15&4294967295|k>>>17),k=I+(j^(N|~S))+A[1]+2240044497&4294967295,I=N+(k<<21&4294967295|k>>>11),k=S+(N^(I|~j))+A[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~N))+A[15]+4264355552&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~I))+A[6]+2734768916&4294967295,N=j+(k<<15&4294967295|k>>>17),k=I+(j^(N|~S))+A[13]+1309151649&4294967295,I=N+(k<<21&4294967295|k>>>11),k=S+(N^(I|~j))+A[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~N))+A[11]+3174756917&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~I))+A[2]+718787259&4294967295,N=j+(k<<15&4294967295|k>>>17),k=I+(j^(N|~S))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+j&4294967295}r.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var I=S-this.blockSize,A=this.B,N=this.h,j=0;j<S;){if(N==0)for(;j<=I;)s(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<S;)if(A[N++]=P.charCodeAt(j++),N==this.blockSize){s(this,A),N=0;break}}else for(;j<S;)if(A[N++]=P[j++],N==this.blockSize){s(this,A),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var I=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=I&255,I/=256;for(this.u(P),P=Array(16),S=I=0;4>S;++S)for(var A=0;32>A;A+=8)P[I++]=this.g[S]>>>A&255;return P};function i(P,S){var I=a;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=S(P)}function o(P,S){this.h=S;for(var I=[],A=!0,N=P.length-1;0<=N;N--){var j=P[N]|0;A&&j==S||(I[N]=j,A=!1)}this.g=I}var a={};function l(P){return-128<=P&&128>P?i(P,function(S){return new o([S|0],0>S?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return E(u(-P));for(var S=[],I=1,A=0;P>=I;A++)S[A]=P/I|0,I*=4294967296;return new o(S,0)}function h(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return E(h(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),A=p,N=0;N<P.length;N+=8){var j=Math.min(8,P.length-N),k=parseInt(P.substring(N,N+j),S);8>j?(j=u(Math.pow(S,j)),A=A.j(j).add(u(k))):(A=A.j(I),A=A.add(u(k)))}return A}var p=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-E(this).m();for(var P=0,S=1,I=0;I<this.g.length;I++){var A=this.i(I);P+=(0<=A?A:4294967296+A)*S,S*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(x(this))return"-"+E(this).toString(P);for(var S=u(Math.pow(P,6)),I=this,A="";;){var N=C(I,S).g;I=w(I,N.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=N,y(I))return j+A;for(;6>j.length;)j="0"+j;A=j+A}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=w(this,P),x(P)?-1:y(P)?0:1};function E(P){for(var S=P.g.length,I=[],A=0;A<S;A++)I[A]=~P.g[A];return new o(I,~P.h).add(f)}t.abs=function(){return x(this)?E(this):this},t.add=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],A=0,N=0;N<=S;N++){var j=A+(this.i(N)&65535)+(P.i(N)&65535),k=(j>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);A=k>>>16,j&=65535,k&=65535,I[N]=k<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(P,S){return P.add(E(S))}t.j=function(P){if(y(this)||y(P))return p;if(x(this))return x(P)?E(this).j(E(P)):E(E(this).j(P));if(x(P))return E(this.j(E(P)));if(0>this.l(m)&&0>P.l(m))return u(this.m()*P.m());for(var S=this.g.length+P.g.length,I=[],A=0;A<2*S;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<P.g.length;N++){var j=this.i(A)>>>16,k=this.i(A)&65535,J=P.i(N)>>>16,ue=P.i(N)&65535;I[2*A+2*N]+=k*ue,b(I,2*A+2*N),I[2*A+2*N+1]+=j*ue,b(I,2*A+2*N+1),I[2*A+2*N+1]+=k*J,b(I,2*A+2*N+1),I[2*A+2*N+2]+=j*J,b(I,2*A+2*N+2)}for(A=0;A<S;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=S;A<2*S;A++)I[A]=0;return new o(I,0)};function b(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function _(P,S){this.g=P,this.h=S}function C(P,S){if(y(S))throw Error("division by zero");if(y(P))return new _(p,p);if(x(P))return S=C(E(P),S),new _(E(S.g),E(S.h));if(x(S))return S=C(P,E(S)),new _(E(S.g),S.h);if(30<P.g.length){if(x(P)||x(S))throw Error("slowDivide_ only works with positive integers.");for(var I=f,A=S;0>=A.l(P);)I=O(I),A=O(A);var N=M(I,1),j=M(A,1);for(A=M(A,2),I=M(I,2);!y(A);){var k=j.add(A);0>=k.l(P)&&(N=N.add(I),j=k),A=M(A,1),I=M(I,1)}return S=w(P,N.j(S)),new _(N,S)}for(N=p;0<=P.l(S);){for(I=Math.max(1,Math.floor(P.m()/S.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),j=u(I),k=j.j(S);x(k)||0<k.l(P);)I-=A,j=u(I),k=j.j(S);y(j)&&(j=f),N=N.add(j),P=w(P,k)}return new _(N,P)}t.A=function(P){return C(this,P).h},t.and=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)&P.i(A);return new o(I,this.h&P.h)},t.or=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)|P.i(A);return new o(I,this.h|P.h)},t.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)^P.i(A);return new o(I,this.h^P.h)};function O(P){for(var S=P.g.length+1,I=[],A=0;A<S;A++)I[A]=P.i(A)<<1|P.i(A-1)>>>31;return new o(I,P.h)}function M(P,S){var I=S>>5;S%=32;for(var A=P.g.length-I,N=[],j=0;j<A;j++)N[j]=0<S?P.i(j+I)>>>S|P.i(j+I+1)<<32-S:P.i(j+I);return new o(N,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,zo=o}).apply(typeof kP<"u"?kP:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LD,Vu,VD,Pp,hx,FD,$D,UD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,v){if(v)e:{var T=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var V=d[R];if(!(V in T))break e;T=T[V]}d=d[d.length-1],R=T[d],v=v(R),v!=R&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function i(d,v){d instanceof String&&(d+="");var T=0,R=!1,V={next:function(){if(!R&&T<d.length){var $=T++;return{value:v($,d[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(d){return d||function(){return i(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function u(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function h(d,v,T){return d.call.apply(d.bind,arguments)}function p(d,v,T){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),d.apply(v,V)}}return function(){return d.apply(v,arguments)}}function f(d,v,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function m(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function y(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(R,V,$){for(var W=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)W[$e-2]=arguments[$e];return v.prototype[V].apply(R,W)}}function x(d){const v=d.length;if(0<v){const T=Array(v);for(let R=0;R<v;R++)T[R]=d[R];return T}return[]}function E(d,v){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const V=d.length||0,$=R.length||0;d.length=V+$;for(let W=0;W<$;W++)d[V+W]=R[W]}else d.push(R)}}class w{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(d){return/^[\s\xa0]*$/.test(d)}function _(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function M(d,v,T){for(const R in d)v.call(T,d[R],R,d)}function P(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function S(d){const v={};for(const T in d)v[T]=d[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,v){let T,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(T in R)d[T]=R[T];for(let $=0;$<I.length;$++)T=I[$],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function N(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function j(d){a.setTimeout(()=>{throw d},0)}function k(){var d=U;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,T){const R=ue.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var ue=new w(()=>new ne,d=>d.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let de,F=!1,U=new J,K=()=>{const d=a.Promise.resolve(void 0);de=()=>{d.then(Q)}};var Q=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(T){j(T)}var v=ue;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}F=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,v),a.removeEventListener("test",T,v)}catch{}return d}();function st(d,v){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(O){e:{try{C(v.nodeName);var V=!0;break e}catch{}V=!1}V||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:be[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&st.aa.h.call(this)}}y(st,he);var be={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function vt(d,v,T,R,V){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=V,this.key=++Cn,this.da=this.fa=!1}function Bt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ts(d){this.src=d,this.g={},this.h=0}ts.prototype.add=function(d,v,T,R,V){var $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);var W=or(d,v,R,V);return-1<W?(v=d[W],T||(v.fa=!1)):(v=new vt(v,this.src,$,!!R,V),v.fa=T,d.push(v)),v};function Ir(d,v){var T=v.type;if(T in d.g){var R=d.g[T],V=Array.prototype.indexOf.call(R,v,void 0),$;($=0<=V)&&Array.prototype.splice.call(R,V,1),$&&(Bt(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function or(d,v,T,R){for(var V=0;V<d.length;++V){var $=d[V];if(!$.da&&$.listener==v&&$.capture==!!T&&$.ha==R)return V}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),$s={};function ar(d,v,T,R,V){if(Array.isArray(v)){for(var $=0;$<v.length;$++)ar(d,v[$],T,R,V);return null}return T=Rc(T),d&&d[Je]?d.K(v,T,u(R)?!!R.capture:!!R,V):Ic(d,v,T,!1,R,V)}function Ic(d,v,T,R,V,$){if(!v)throw Error("Invalid event type");var W=u(V)?!!V.capture:!!V,$e=Us(d);if($e||(d[ns]=$e=new ts(d)),T=$e.add(v,T,R,W,$),T.proxy)return T;if(R=Cc(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)Ue||(V=W),V===void 0&&(V=!1),d.addEventListener(v.toString(),R,V);else if(d.attachEvent)d.attachEvent(Nh(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Cc(){function d(T){return v.call(d.src,d.listener,T)}const v=Bv;return d}function yt(d,v,T,R,V){if(Array.isArray(v))for(var $=0;$<v.length;$++)yt(d,v[$],T,R,V);else R=u(R)?!!R.capture:!!R,T=Rc(T),d&&d[Je]?(d=d.i,v=String(v).toString(),v in d.g&&($=d.g[v],T=or($,T,R,V),-1<T&&(Bt($[T]),Array.prototype.splice.call($,T,1),$.length==0&&(delete d.g[v],d.h--)))):d&&(d=Us(d))&&(v=d.g[v.toString()],d=-1,v&&(d=or(v,T,R,V)),(T=-1<d?v[d]:null)&&Cr(T))}function Cr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Je])Ir(v.i,d);else{var T=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(T,R,d.capture):v.detachEvent?v.detachEvent(Nh(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Us(v))?(Ir(T,d),T.h==0&&(T.src=null,v[ns]=null)):Bt(d)}}}function Nh(d){return d in $s?$s[d]:$s[d]="on"+d}function Bv(d,v){if(d.da)d=!0;else{v=new st(v,this);var T=d.listener,R=d.ha||d.src;d.fa&&Cr(d),d=T.call(R,v)}return d}function Us(d){return d=d[ns],d instanceof ts?d:null}var Ac="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(d){return typeof d=="function"?d:(d[Ac]||(d[Ac]=function(v){return d.handleEvent(v)}),d[Ac])}function wt(){re.call(this),this.i=new ts(this),this.M=this,this.F=null}y(wt,re),wt.prototype[Je]=!0,wt.prototype.removeEventListener=function(d,v,T,R){yt(this,d,v,T,R)};function it(d,v){var T,R=d.F;if(R)for(T=[];R;R=R.F)T.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new he(v,d);else if(v instanceof he)v.target=v.target||d;else{var V=v;v=new he(R,d),A(v,V)}if(V=!0,T)for(var $=T.length-1;0<=$;$--){var W=v.g=T[$];V=ho(W,R,!0,v)&&V}if(W=v.g=d,V=ho(W,R,!0,v)&&V,V=ho(W,R,!1,v)&&V,T)for($=0;$<T.length;$++)W=v.g=T[$],V=ho(W,R,!1,v)&&V}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],R=0;R<T.length;R++)Bt(T[R]);delete d.g[v],d.h--}}this.F=null},wt.prototype.K=function(d,v,T,R){return this.i.add(String(d),v,!1,T,R)},wt.prototype.L=function(d,v,T,R){return this.i.add(String(d),v,!0,T,R)};function ho(d,v,T,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var V=!0,$=0;$<v.length;++$){var W=v[$];if(W&&!W.da&&W.capture==T){var $e=W.listener,Mt=W.ha||W.src;W.fa&&Ir(d.i,W),V=$e.call(Mt,R)!==!1&&V}}return V&&!R.defaultPrevented}function rs(d,v,T){if(typeof d=="function")T&&(d=f(d,T));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(d,v||0)}function Nc(d){d.g=rs(()=>{d.g=null,d.i&&(d.i=!1,Nc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class zv extends re{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Nc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(d){re.call(this),this.h=d,this.g={}}y(Bs,re);var kc=[];function kh(d){M(d.g,function(v,T){this.g.hasOwnProperty(T)&&Cr(v)},d),d.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),kh(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fo=a.JSON.stringify,Ar=a.JSON.parse,Gv=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function me(){}me.prototype.h=null;function Le(d){return d.h||(d.h=d.i())}function Oe(){}var zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mn(){he.call(this,"d")}y(mn,he);function zs(){he.call(this,"c")}y(zs,he);var ss={},pE=null;function Oh(){return pE=pE||new wt}ss.La="serverreachability";function mE(d){he.call(this,ss.La,d)}y(mE,he);function Oc(d){const v=Oh();it(v,new mE(v))}ss.STAT_EVENT="statevent";function gE(d,v){he.call(this,ss.STAT_EVENT,d),this.stat=v}y(gE,he);function sn(d){const v=Oh();it(v,new gE(v,d))}ss.Ma="timingevent";function vE(d,v){he.call(this,ss.Ma,d),this.size=v}y(vE,he);function Dc(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function jc(){this.g=!0}jc.prototype.xa=function(){this.g=!1};function H5(d,v,T,R,V,$){d.info(function(){if(d.g)if($)for(var W="",$e=$.split("&"),Mt=0;Mt<$e.length;Mt++){var Re=$e[Mt].split("=");if(1<Re.length){var Gt=Re[0];Re=Re[1];var qt=Gt.split("_");W=2<=qt.length&&qt[1]=="type"?W+(Gt+"="+Re+"&"):W+(Gt+"=redacted&")}}else W=null;else W=$;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+v+`
`+T+`
`+W})}function K5(d,v,T,R,V,$,W){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+v+`
`+T+`
`+$+" "+W})}function Ta(d,v,T,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Y5(d,T)+(R?" "+R:"")})}function Q5(d,v){d.info(function(){return"TIMEOUT: "+v})}jc.prototype.info=function(){};function Y5(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var R=T[d];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return fo(T)}catch{return v}}var Dh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qv;function jh(){}y(jh,me),jh.prototype.g=function(){return new XMLHttpRequest},jh.prototype.i=function(){return{}},qv=new jh;function Gs(d,v,T,R){this.j=d,this.i=v,this.l=T,this.R=R||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wE}function wE(){this.i=null,this.g="",this.h=!1}var xE={},Wv={};function Hv(d,v,T){d.L=1,d.v=Fh(is(v)),d.m=T,d.P=!0,_E(d,null)}function _E(d,v){d.F=Date.now(),Mh(d),d.A=is(d.v);var T=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),jE(T.i,"t",R),d.C=0,T=d.j.J,d.h=new wE,d.g=ZE(d.j,T?v:null,!d.m),0<d.O&&(d.M=new zv(f(d.Y,d,d.g),d.O)),v=d.U,T=d.g,R=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(kc[0]=V.toString()),V=kc);for(var $=0;$<V.length;$++){var W=ar(T,V[$],R||v.handleEvent,!1,v.h||v);if(!W)break;v.g[W.key]=W}v=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Oc(),H5(d.i,d.u,d.A,d.l,d.R,d.m)}Gs.prototype.ca=function(d){d=d.target;const v=this.M;v&&os(d)==3?v.j():this.Y(d)},Gs.prototype.Y=function(d){try{if(d==this.g)e:{const qt=os(this.g);var v=this.g.Ba();const Ia=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||BE(this.g)))){this.J||qt!=4||v==7||(v==8||0>=Ia?Oc(3):Oc(2)),Kv(this);var T=this.g.Z();this.X=T;t:if(bE(this)){var R=BE(this.g);d="";var V=R.length,$=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),Mc(this);var W="";break t}this.h.i=new a.TextDecoder}for(v=0;v<V;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!($&&v==V-1)});R.length=0,this.h.g+=d,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=T==200,K5(this.i,this.u,this.A,this.l,this.R,qt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Mt=this.g;if(($e=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b($e)){var Re=$e;break t}}Re=null}if(T=Re)Ta(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qv(this,T);else{this.o=!1,this.s=3,sn(12),po(this),Mc(this);break e}}if(this.P){T=!0;let lr;for(;!this.J&&this.C<W.length;)if(lr=J5(this,W),lr==Wv){qt==4&&(this.s=4,sn(14),T=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==xE){this.s=4,sn(15),Ta(this.i,this.l,W,"[Invalid Chunk]"),T=!1;break}else Ta(this.i,this.l,lr,null),Qv(this,lr);if(bE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||W.length!=0||this.h.h||(this.s=1,sn(16),T=!1),this.o=this.o&&T,!T)Ta(this.i,this.l,W,"[Invalid Chunked Response]"),po(this),Mc(this);else if(0<W.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ty(Gt),Gt.M=!0,sn(11))}}else Ta(this.i,this.l,W,null),Qv(this,W);qt==4&&po(this),this.o&&!this.J&&(qt==4?QE(this.j,this):(this.o=!1,Mh(this)))}else pV(this.g),T==400&&0<W.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),po(this),Mc(this)}}}catch{}finally{}};function bE(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function J5(d,v){var T=d.C,R=v.indexOf(`
`,T);return R==-1?Wv:(T=Number(v.substring(T,R)),isNaN(T)?xE:(R+=1,R+T>v.length?Wv:(v=v.slice(R,R+T),d.C=R+T,v)))}Gs.prototype.cancel=function(){this.J=!0,po(this)};function Mh(d){d.S=Date.now()+d.I,EE(d,d.I)}function EE(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Dc(f(d.ba,d),v)}function Kv(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Gs.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Q5(this.i,this.A),this.L!=2&&(Oc(),sn(17)),po(this),this.s=2,Mc(this)):EE(this,this.S-d)};function Mc(d){d.j.G==0||d.J||QE(d.j,d)}function po(d){Kv(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,kh(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Qv(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Yv(T.h,d))){if(!d.K&&Yv(T.h,d)&&T.G==3){try{var R=T.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)qh(T),zh(T);else break e;ey(T),sn(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=Dc(f(T.Za,T),6e3));if(1>=PE(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else go(T,11)}else if((d.K||T.g==d)&&qh(T),!b(v))for(V=T.Da.g.parse(v),v=0;v<V.length;v++){let Re=V[v];if(T.T=Re[0],Re=Re[1],T.G==2)if(Re[0]=="c"){T.K=Re[1],T.ia=Re[2];const Gt=Re[3];Gt!=null&&(T.la=Gt,T.j.info("VER="+T.la));const qt=Re[4];qt!=null&&(T.Aa=qt,T.j.info("SVER="+T.Aa));const Ia=Re[5];Ia!=null&&typeof Ia=="number"&&0<Ia&&(R=1.5*Ia,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const lr=d.g;if(lr){const Hh=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hh){var $=R.h;$.g||Hh.indexOf("spdy")==-1&&Hh.indexOf("quic")==-1&&Hh.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Jv($,$.h),$.h=null))}if(R.D){const ny=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;ny&&(R.ya=ny,qe(R.I,R.D,ny))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var W=d;if(R.qa=XE(R,R.J?R.ia:null,R.W),W.K){IE(R.h,W);var $e=W,Mt=R.L;Mt&&($e.I=Mt),$e.B&&(Kv($e),Mh($e)),R.g=W}else HE(R);0<T.i.length&&Gh(T)}else Re[0]!="stop"&&Re[0]!="close"||go(T,7);else T.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?go(T,7):Zv(T):Re[0]!="noop"&&T.l&&T.l.ta(Re),T.v=0)}}Oc(4)}catch{}}var X5=class{constructor(d,v){this.g=d,this.map=v}};function TE(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SE(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function PE(d){return d.h?1:d.g?d.g.size:0}function Yv(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Jv(d,v){d.g?d.g.add(v):d.h=v}function IE(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}TE.prototype.cancel=function(){if(this.i=CE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function CE(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return x(d.i)}function Z5(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var v=[],T=d.length,R=0;R<T;R++)v.push(d[R]);return v}v=[],T=0;for(R in d)v[T++]=d[R];return v}function eV(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const R in d)v[T++]=R;return v}}}function AE(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=eV(d),R=Z5(d),V=R.length,$=0;$<V;$++)v.call(void 0,R[$],T&&T[$],d)}var RE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tV(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var R=d[T].indexOf("="),V=null;if(0<=R){var $=d[T].substring(0,R);V=d[T].substring(R+1)}else $=d[T];v($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function mo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof mo){this.h=d.h,Lh(this,d.j),this.o=d.o,this.g=d.g,Vh(this,d.s),this.l=d.l;var v=d.i,T=new Fc;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),NE(this,T),this.m=d.m}else d&&(v=String(d).match(RE))?(this.h=!1,Lh(this,v[1]||"",!0),this.o=Lc(v[2]||""),this.g=Lc(v[3]||"",!0),Vh(this,v[4]),this.l=Lc(v[5]||"",!0),NE(this,v[6]||"",!0),this.m=Lc(v[7]||"")):(this.h=!1,this.i=new Fc(null,this.h))}mo.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Vc(v,kE,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Vc(v,kE,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Vc(T,T.charAt(0)=="/"?sV:rV,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Vc(T,oV)),d.join("")};function is(d){return new mo(d)}function Lh(d,v,T){d.j=T?Lc(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Vh(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function NE(d,v,T){v instanceof Fc?(d.i=v,aV(d.i,d.h)):(T||(v=Vc(v,iV)),d.i=new Fc(v,d.h))}function qe(d,v,T){d.i.set(v,T)}function Fh(d){return qe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Lc(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Vc(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,nV),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function nV(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var kE=/[#\/\?@]/g,rV=/[#\?:]/g,sV=/[#\?]/g,iV=/[#\?@]/g,oV=/#/g;function Fc(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function qs(d){d.g||(d.g=new Map,d.h=0,d.i&&tV(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Fc.prototype,t.add=function(d,v){qs(this),this.i=null,d=Sa(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function OE(d,v){qs(d),v=Sa(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function DE(d,v){return qs(d),v=Sa(d,v),d.g.has(v)}t.forEach=function(d,v){qs(this),this.g.forEach(function(T,R){T.forEach(function(V){d.call(v,V,R,this)},this)},this)},t.na=function(){qs(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let R=0;R<v.length;R++){const V=d[R];for(let $=0;$<V.length;$++)T.push(v[R])}return T},t.V=function(d){qs(this);let v=[];if(typeof d=="string")DE(this,d)&&(v=v.concat(this.g.get(Sa(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},t.set=function(d,v){return qs(this),this.i=null,d=Sa(this,d),DE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function jE(d,v,T){OE(d,v),0<T.length&&(d.i=null,d.g.set(Sa(d,v),x(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var R=v[T];const $=encodeURIComponent(String(R)),W=this.V(R);for(R=0;R<W.length;R++){var V=$;W[R]!==""&&(V+="="+encodeURIComponent(String(W[R]))),d.push(V)}}return this.i=d.join("&")};function Sa(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function aV(d,v){v&&!d.j&&(qs(d),d.i=null,d.g.forEach(function(T,R){var V=R.toLowerCase();R!=V&&(OE(this,R),jE(this,V,T))},d)),d.j=v}function lV(d,v){const T=new jc;if(a.Image){const R=new Image;R.onload=m(Ws,T,"TestLoadImage: loaded",!0,v,R),R.onerror=m(Ws,T,"TestLoadImage: error",!1,v,R),R.onabort=m(Ws,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=m(Ws,T,"TestLoadImage: timeout",!1,v,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function cV(d,v){const T=new jc,R=new AbortController,V=setTimeout(()=>{R.abort(),Ws(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then($=>{clearTimeout(V),$.ok?Ws(T,"TestPingServer: ok",!0,v):Ws(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(V),Ws(T,"TestPingServer: error",!1,v)})}function Ws(d,v,T,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(T)}catch{}}function uV(){this.g=new Gv}function dV(d,v,T){const R=T||"";try{AE(d,function(V,$){let W=V;u(V)&&(W=fo(V)),v.push(R+$+"="+encodeURIComponent(W))})}catch(V){throw v.push(R+"type="+encodeURIComponent("_badmap")),V}}function $h(d){this.l=d.Ub||null,this.j=d.eb||!1}y($h,me),$h.prototype.g=function(){return new Uh(this.l,this.j)},$h.prototype.i=function(d){return function(){return d}}({});function Uh(d,v){wt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Uh,wt),t=Uh.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Uc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$c(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ME(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ME(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?$c(this):Uc(this),this.readyState==3&&ME(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,$c(this))},t.Qa=function(d){this.g&&(this.response=d,$c(this))},t.ga=function(){this.g&&$c(this)};function $c(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Uc(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Uc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function LE(d){let v="";return M(d,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function Xv(d,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=LE(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):qe(d,v,T))}function ot(d){wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ot,wt);var hV=/^https?$/i,fV=["POST","PUT"];t=ot.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qv.g(),this.v=this.o?Le(this.o):Le(qv),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch($){VE(this,$);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)T.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())T.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fV,v,void 0))||R||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,W]of T)this.g.setRequestHeader($,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{UE(this),this.u=!0,this.g.send(d),this.u=!1}catch($){VE(this,$)}};function VE(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,FE(d),Bh(d)}function FE(d){d.A||(d.A=!0,it(d,"complete"),it(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,it(this,"complete"),it(this,"abort"),Bh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bh(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$E(this):this.bb())},t.bb=function(){$E(this)};function $E(d){if(d.h&&typeof o<"u"&&(!d.v[1]||os(d)!=4||d.Z()!=2)){if(d.u&&os(d)==4)rs(d.Ea,0,d);else if(it(d,"readystatechange"),os(d)==4){d.h=!1;try{const W=d.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=W===0){var V=String(d.D).match(RE)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),R=!hV.test(V?V.toLowerCase():"")}T=R}if(T)it(d,"complete"),it(d,"success");else{d.m=6;try{var $=2<os(d)?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.Z()+"]",FE(d)}}finally{Bh(d)}}}}function Bh(d,v){if(d.g){UE(d);const T=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||it(d,"ready");try{T.onreadystatechange=R}catch{}}}function UE(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function os(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ar(v)}};function BE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function pV(d){const v={};d=(d.g&&2<=os(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(b(d[R]))continue;var T=N(d[R]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=v[V]||[];v[V]=$,$.push(T)}P(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bc(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function zE(d){this.Aa=0,this.i=[],this.j=new jc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bc("baseRetryDelayMs",5e3,d),this.cb=Bc("retryDelaySeedMs",1e4,d),this.Wa=Bc("forwardChannelMaxRetries",2,d),this.wa=Bc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new TE(d&&d.concurrentRequestLimit),this.Da=new uV,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zE.prototype,t.la=8,t.G=1,t.connect=function(d,v,T,R){sn(0),this.W=d,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=XE(this,null,this.W),Gh(this)};function Zv(d){if(GE(d),d.G==3){var v=d.U++,T=is(d.I);if(qe(T,"SID",d.K),qe(T,"RID",v),qe(T,"TYPE","terminate"),zc(d,T),v=new Gs(d,d.j,v),v.L=2,v.v=Fh(is(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=v.v,T=!0),T||(v.g=ZE(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Mh(v)}JE(d)}function zh(d){d.g&&(ty(d),d.g.cancel(),d.g=null)}function GE(d){zh(d),d.u&&(a.clearTimeout(d.u),d.u=null),qh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Gh(d){if(!SE(d.h)&&!d.s){d.s=!0;var v=d.Ga;de||K(),F||(de(),F=!0),U.add(v,d),d.B=0}}function mV(d,v){return PE(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Dc(f(d.Ga,d,v),YE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Gs(this,this.j,d);let $=this.o;if(this.S&&($?($=S($),A($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=WE(this,V,v),T=is(this.I),qe(T,"RID",d),qe(T,"CVER",22),this.D&&qe(T,"X-HTTP-Session-Id",this.D),zc(this,T),$&&(this.O?v="headers="+encodeURIComponent(String(LE($)))+"&"+v:this.m&&Xv(T,this.m,$)),Jv(this.h,V),this.Ua&&qe(T,"TYPE","init"),this.P?(qe(T,"$req",v),qe(T,"SID","null"),V.T=!0,Hv(V,T,null)):Hv(V,T,v),this.G=2}}else this.G==3&&(d?qE(this,d):this.i.length==0||SE(this.h)||qE(this))};function qE(d,v){var T;v?T=v.l:T=d.U++;const R=is(d.I);qe(R,"SID",d.K),qe(R,"RID",T),qe(R,"AID",d.T),zc(d,R),d.m&&d.o&&Xv(R,d.m,d.o),T=new Gs(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=WE(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Jv(d.h,T),Hv(T,R,v)}function zc(d,v){d.H&&M(d.H,function(T,R){qe(v,R,T)}),d.l&&AE({},function(T,R){qe(v,R,T)})}function WE(d,v,T){T=Math.min(d.i.length,T);var R=d.l?f(d.l.Na,d.l,d):null;e:{var V=d.i;let $=-1;for(;;){const W=["count="+T];$==-1?0<T?($=V[0].g,W.push("ofs="+$)):$=0:W.push("ofs="+$);let $e=!0;for(let Mt=0;Mt<T;Mt++){let Re=V[Mt].g;const Gt=V[Mt].map;if(Re-=$,0>Re)$=Math.max(0,V[Mt].g-100),$e=!1;else try{dV(Gt,W,"req"+Re+"_")}catch{R&&R(Gt)}}if($e){R=W.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,R}function HE(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;de||K(),F||(de(),F=!0),U.add(v,d),d.v=0}}function ey(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Dc(f(d.Fa,d),YE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,KE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Dc(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),zh(this),KE(this))};function ty(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function KE(d){d.g=new Gs(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=is(d.qa);qe(v,"RID","rpc"),qe(v,"SID",d.K),qe(v,"AID",d.T),qe(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&qe(v,"TO",d.ja),qe(v,"TYPE","xmlhttp"),zc(d,v),d.m&&d.o&&Xv(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Fh(is(v)),T.m=null,T.P=!0,_E(T,d)}t.Za=function(){this.C!=null&&(this.C=null,zh(this),ey(this),sn(19))};function qh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function QE(d,v){var T=null;if(d.g==v){qh(d),ty(d),d.g=null;var R=2}else if(Yv(d.h,v))T=v.D,IE(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var V=d.B;R=Oh(),it(R,new vE(R,T)),Gh(d)}else HE(d);else if(V=v.s,V==3||V==0&&0<v.X||!(R==1&&mV(d,v)||R==2&&ey(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),V){case 1:go(d,5);break;case 4:go(d,10);break;case 3:go(d,6);break;default:go(d,2)}}}function YE(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function go(d,v){if(d.j.info("Error code "+v),v==2){var T=f(d.fb,d),R=d.Xa;const V=!R;R=new mo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lh(R,"https"),Fh(R),V?lV(R.toString(),T):cV(R.toString(),T)}else sn(2);d.G=0,d.l&&d.l.sa(v),JE(d),GE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function JE(d){if(d.G=0,d.ka=[],d.l){const v=CE(d.h);(v.length!=0||d.i.length!=0)&&(E(d.ka,v),E(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function XE(d,v,T){var R=T instanceof mo?is(T):new mo(T);if(R.g!="")v&&(R.g=v+"."+R.g),Vh(R,R.s);else{var V=a.location;R=V.protocol,v=v?v+"."+V.hostname:V.hostname,V=+V.port;var $=new mo(null);R&&Lh($,R),v&&($.g=v),V&&Vh($,V),T&&($.l=T),R=$}return T=d.D,v=d.ya,T&&v&&qe(R,T,v),qe(R,"VER",d.la),zc(d,R),R}function ZE(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ot(new $h({eb:T})):new ot(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eT(){}t=eT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wh(){}Wh.prototype.g=function(d,v){return new An(d,v)};function An(d,v){wt.call(this),this.g=new zE(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!b(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!b(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Pa(this)}y(An,wt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Zv(this.g)},An.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=fo(d),d=T);v.i.push(new X5(v.Ya++,d)),v.G==3&&Gh(v)},An.prototype.N=function(){this.g.l=null,delete this.j,Zv(this.g),delete this.g,An.aa.N.call(this)};function tT(d){mn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}y(tT,mn);function nT(){zs.call(this),this.status=1}y(nT,zs);function Pa(d){this.g=d}y(Pa,eT),Pa.prototype.ua=function(){it(this.g,"a")},Pa.prototype.ta=function(d){it(this.g,new tT(d))},Pa.prototype.sa=function(d){it(this.g,new nT)},Pa.prototype.ra=function(){it(this.g,"b")},Wh.prototype.createWebChannel=Wh.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,UD=function(){return new Wh},$D=function(){return Oh()},FD=ss,hx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dh.NO_ERROR=0,Dh.TIMEOUT=8,Dh.HTTP_ERROR=6,Pp=Dh,yE.COMPLETE="complete",VD=yE,Oe.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Vu=Oe,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,LD=ot}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const OP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Yg("@firebase/firestore");function Qa(){return na.logLevel}function G(t,...e){if(na.logLevel<=Se.DEBUG){const n=e.map(Lb);na.debug(`Firestore (${_c}): ${t}`,...n)}}function pt(t,...e){if(na.logLevel<=Se.ERROR){const n=e.map(Lb);na.error(`Firestore (${_c}): ${t}`,...n)}}function ra(t,...e){if(na.logLevel<=Se.WARN){const n=e.map(Lb);na.warn(`Firestore (${_c}): ${t}`,...n)}}function Lb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: `+t;throw pt(e),new Error(e)}function le(t,e){t||oe()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class xH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _H{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){le(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Es,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Es)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string"),new BD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new kt(e)}}class bH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){le(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.R=n.token,new TH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=PH(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Kl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function GD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new nt(0,0))}static max(){return new ce(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Bd{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const IH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Bd{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return IH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(De.fromString(e))}static fromName(e){return new Y(De.fromString(e).popFirst(5))}static empty(){return new Y(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new De(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function fx(t){return t.fields.find(e=>e.kind===2)}function Po(t){return t.fields.filter(e=>e.kind!==2)}Am.UNKNOWN_ID=-1;class Ip{constructor(e,n){this.fieldPath=e,this.kind=n}}class zd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new zd(0,Un.min())}}function qD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Un(s,Y.empty(),e)}function WD(t){return new Un(t.readTime,t.key,-1)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(ce.min(),Y.empty(),-1)}static max(){return new Un(ce.max(),Y.empty(),-1)}}function Vb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==HD)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{static open(e,n,r,s){try{return new tv(n,e.transaction(s,r))}catch(i){throw new Xu(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Es,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Fb(r.target.error);this.V.reject(new Xu(e,s))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new AH(n)}}class Li{static delete(e){return G("SimpleDb","Removing database:",e),Io(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!Sb())return!1;if(Li.S())return!0;const e=It(),n=Li.D(e),r=0<n&&n<10,s=QD(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static S(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static C(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.F=r,Li.D(It())===12.2&&pt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Xu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new X(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xu(e,o))},s.onupgradeneeded=i=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.F.O(o,s.transaction,i.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=tv.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(G("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function QD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class CH{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Io(this.B.delete())}}class Xu extends X{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ao(t){return t.name==="IndexedDbTransactionError"}class AH{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Io(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),Io(this.store.add(e))}get(e){return Io(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),Io(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),Io(this.store.count())}U(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new L((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.W(i,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}j(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const s=this.cursor(r);return this.W(s,(i,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.W(s,n)}Y(e){const n=this.cursor({});return new L((r,s)=>{n.onerror=i=>{const o=Fb(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new CH(a),u=n(a.primaryKey,a.value,l);if(u instanceof L){const h=u.catch(p=>(l.done(),L.reject(p)));r.push(h)}l.isDone?s():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Io(t){return new L((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Fb(r.target.error);n(s)}})}let DP=!1;function Fb(t){const e=Li.D(It());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DP||(DP=!0,setTimeout(()=>{throw r},0)),r}}return t}class RH{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){G("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{G("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){ao(n)?G("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await oo(n)}await this.X(6e4)})}}class NH{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let s=n,i=!0;return L.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return G("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(s,i)).next(a=>(G("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=WD(i);Vb(o,r)>0&&(r=o)}),new Un(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wn.oe=-1;function nv(t){return t==null}function Gd(t){return t===0&&1/t==-1/0}function YD(t){return typeof t=="number"&&Number.isInteger(t)&&!Gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jP(e)),e=kH(t.get(n),e);return jP(e)}function kH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function jP(t){return t+""}function zr(t){const e=t.length;if(le(e>=2),e===2)return le(t.charAt(0)===""&&t.charAt(1)===""),De.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&oe(),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:oe()}i=o+2}return new De(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e){return[t,en(e)]}function JD(t,e,n){return[t,en(e),n]}const OH={},DH=["prefixPath","collectionGroup","readTime","documentId"],jH=["prefixPath","collectionGroup","documentId"],MH=["collectionGroup","readTime","prefixPath","documentId"],LH=["canonicalId","targetId"],VH=["targetId","path"],FH=["path","targetId"],$H=["collectionId","parent"],UH=["indexId","uid"],BH=["uid","sequenceNumber"],zH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],GH=["indexId","uid","orderedDocumentKey"],qH=["userId","collectionPath","documentId"],WH=["userId","collectionPath","largestBatchId"],HH=["userId","collectionGroup","largestBatchId"],XD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KH=[...XD,"documentOverlays"],ZD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ej=ZD,$b=[...ej,"indexConfiguration","indexState","indexEntries"],QH=$b,YH=[...$b,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px extends KD{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Ct(t,e){const n=ae(t);return Li.C(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=s??Vt.EMPTY,this.right=i??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VP(this.data.getIterator())}getIteratorFrom(e){return new VP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class VP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ka(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Me(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nj("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const JH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(t){if(le(!!t),typeof t=="string"){let e=0;const n=JH.exec(t);if(le(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rv(t){const e=t.mapValue.fields.__previous_value__;return Ub(e)?rv(e):e}function qd(t){const e=Os(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class sa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ap={nullValue:"NULL_VALUE"};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ub(t)?4:rj(t)?9007199254740991:sv(t)?10:11:oe()}function Yr(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Os(s.timestampValue),a=Os(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ds(s.bytesValue).isEqual(Ds(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qe(s.doubleValue),a=Qe(i.doubleValue);return o===a?Gd(o)===Gd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Kl(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(LP(o)!==LP(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Yr(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function Wd(t,e){return(t.values||[]).find(n=>Yr(n,e))!==void 0}function Qi(t,e){if(t===e)return 0;const n=Ki(t),r=Ki(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qe(i.integerValue||i.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return FP(t.timestampValue,e.timestampValue);case 4:return FP(qd(t),qd(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ds(i),l=Ds(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=ge(a[u],l[u]);if(h!==0)return h}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ge(Qe(i.latitude),Qe(o.latitude));return a!==0?a:ge(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $P(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const p=i.fields||{},f=o.fields||{},m=(a=p.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,x=ge(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:$P(m,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ei.mapValue&&o===Ei.mapValue)return 0;if(i===Ei.mapValue)return 1;if(o===Ei.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const f=ge(l[p],h[p]);if(f!==0)return f;const m=Qi(a[l[p]],u[h[p]]);if(m!==0)return m}return ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function FP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Os(t),r=Os(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function $P(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qi(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function Ql(t){return mx(t)}function mx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=mx(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${mx(n.fields[o])}`;return s+"}"}(t.mapValue):oe()}function Rp(t){switch(Ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rv(t);return e?16+Rp(e):16;case 5:return 2*t.stringValue.length;case 6:return Ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return lo(r.fields,(i,o)=>{s+=i.length+Rp(o)}),s}(t.mapValue);default:throw oe()}}function Bb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gx(t){return!!t&&"integerValue"in t}function Hd(t){return!!t&&"arrayValue"in t}function UP(t){return!!t&&"nullValue"in t}function BP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Np(t){return!!t&&"mapValue"in t}function sv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const sj={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ZH(t){return"nullValue"in t?Ap:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Bb(sa.empty(),Y.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sv(t)?sj:{mapValue:{}}:oe()}function eK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Bb(sa.empty(),Y.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?sj:"mapValue"in t?sv(t)?{mapValue:{}}:Ei:oe()}function zP(t,e){const n=Qi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function GP(t,e){const n=Qi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Zu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Np(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Zt(Zu(this.value))}}function ij(t){const e=[];return lo(t.fields,(n,r)=>{const s=new Ze([n]);if(Np(r)){const i=ij(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,ce.min(),ce.min(),ce.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,s){return new dt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new dt(e,2,n,ce.min(),ce.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,ce.min(),ce.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.position=e,this.inclusive=n}}function qP(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Qi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function WP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n="asc"){this.field=e,this.dir=n}}function tK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{}class Ie extends oj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nK(e,n,r):n==="array-contains"?new iK(e,r):n==="in"?new hj(e,r):n==="not-in"?new oK(e,r):n==="array-contains-any"?new aK(e,r):new Ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rK(e,r):new sK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qi(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fe extends oj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fe(e,n)}matches(e){return Jl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jl(t){return t.op==="and"}function vx(t){return t.op==="or"}function zb(t){return aj(t)&&Jl(t)}function aj(t){for(const e of t.filters)if(e instanceof Fe)return!1;return!0}function yx(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+Ql(t.value);if(zb(t))return t.filters.map(e=>yx(e)).join(",");{const e=t.filters.map(n=>yx(n)).join(",");return`${t.op}(${e})`}}function lj(t,e){return t instanceof Ie?function(r,s){return s instanceof Ie&&r.op===s.op&&r.field.isEqual(s.field)&&Yr(r.value,s.value)}(t,e):t instanceof Fe?function(r,s){return s instanceof Fe&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&lj(o,s.filters[a]),!0):!1}(t,e):void oe()}function cj(t,e){const n=t.filters.concat(e);return Fe.create(n,t.op)}function uj(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`}(t):t instanceof Fe?function(n){return n.op.toString()+" {"+n.getFilters().map(uj).join(" ,")+"}"}(t):"Filter"}class nK extends Ie{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class rK extends Ie{constructor(e,n){super(e,"in",n),this.keys=dj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sK extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=dj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class iK extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hd(n)&&Wd(n.arrayValue,this.value)}}class hj extends Ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wd(this.value.arrayValue,n)}}class oK extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wd(this.value.arrayValue,n)}}class aK extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function wx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new lK(t,e,n,r,s,i,o)}function ia(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ql(r)).join(",")),e.ue=n}return e.ue}function yh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WP(t.startAt,e.startAt)&&WP(t.endAt,e.endAt)}function Nm(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function km(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function HP(t,e,n){let r=Ap,s=!0;for(const i of km(t,e)){let o=Ap,a=!0;switch(i.op){case"<":case"<=":o=ZH(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=Ap}zP({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];zP({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function KP(t,e,n){let r=Ei,s=!0;for(const i of km(t,e)){let o=Ei,a=!0;switch(i.op){case">=":case">":o=eK(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=Ei}GP({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];GP({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fj(t,e,n,r,s,i,o,a){return new iv(t,e,n,r,s,i,o,a)}function ov(t){return new iv(t)}function QP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cK(t){return t.collectionGroup!==null}function ed(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Me(Ze.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Rm(i,r))}),n.has(Ze.keyField().canonicalString())||e.ce.push(new Rm(Ze.keyField(),r))}return e.ce}function Vn(t){const e=ae(t);return e.le||(e.le=uK(e,ed(t))),e.le}function uK(t,e){if(t.limitType==="F")return wx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Rm(s.field,i)});const n=t.endAt?new Yl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yl(t.startAt.position,t.startAt.inclusive):null;return wx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xx(t,e,n){return new iv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function av(t,e){return yh(Vn(t),Vn(e))&&t.limitType===e.limitType}function pj(t){return`${ia(Vn(t))}|lt:${t.limitType}`}function Ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>uj(s)).join(", ")}]`),nv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ql(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ql(s)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ed(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=qP(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ed(r),s)||r.endAt&&!function(o,a,l){const u=qP(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ed(r),s))}(t,e)}function mj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gj(t){return(e,n)=>{let r=!1;for(const s of ed(t)){const i=dK(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function dK(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Qi(l,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=new Ge(Y.comparator);function jn(){return hK}const vj=new Ge(Y.comparator);function Fu(...t){let e=vj;for(const n of t)e=e.insert(n.key,n);return e}function yj(t){let e=vj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return td()}function wj(){return td()}function td(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const fK=new Ge(Y.comparator),pK=new Me(Y.comparator);function _e(...t){let e=pK;for(const n of t)e=e.add(n);return e}const mK=new Me(ge);function Gb(){return mK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function xj(t){return{integerValue:""+t}}function gK(t,e){return YD(e)?xj(e):qb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this._=void 0}}function vK(t,e,n){return t instanceof Xl?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ub(i)&&(i=rv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Zl?bj(t,e):t instanceof ec?Ej(t,e):function(s,i){const o=_j(s,i),a=YP(o)+YP(s.Pe);return gx(o)&&gx(s.Pe)?xj(a):qb(s.serializer,a)}(t,e)}function yK(t,e,n){return t instanceof Zl?bj(t,e):t instanceof ec?Ej(t,e):n}function _j(t,e){return t instanceof Kd?function(r){return gx(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Xl extends lv{}class Zl extends lv{constructor(e){super(),this.elements=e}}function bj(t,e){const n=Tj(e);for(const r of t.elements)n.some(s=>Yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends lv{constructor(e){super(),this.elements=e}}function Ej(t,e){let n=Tj(e);for(const r of t.elements)n=n.filter(s=>!Yr(s,r));return{arrayValue:{values:n}}}class Kd extends lv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function YP(t){return Qe(t.integerValue||t.doubleValue)}function Tj(t){return Hd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n){this.field=e,this.transform=n}}function wK(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Zl&&s instanceof Zl||r instanceof ec&&s instanceof ec?Kl(r.elements,s.elements,Yr):r instanceof Kd&&s instanceof Kd?Yr(r.Pe,s.Pe):r instanceof Xl&&s instanceof Xl}(t.transform,e.transform)}class xK{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cv{}function Pj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wb(t.key,_n.none()):new bc(t.key,t.data,_n.none());{const n=t.data,r=Zt.empty();let s=new Me(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Fs(t.key,r,new xn(s.toArray()),_n.none())}}function _K(t,e,n){t instanceof bc?function(s,i,o){const a=s.value.clone(),l=XP(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(s,i,o){if(!kp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=XP(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Ij(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nd(t,e,n,r){return t instanceof bc?function(i,o,a,l){if(!kp(i.precondition,o))return a;const u=i.value.clone(),h=ZP(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(i,o,a,l){if(!kp(i.precondition,o))return a;const u=ZP(i.fieldTransforms,l,o),h=o.data;return h.setAll(Ij(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return kp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function bK(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=_j(r.transform,s||null);i!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function JP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Kl(r,s,(i,o)=>wK(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends cv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fs extends cv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ij(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XP(t,e,n){const r=new Map;le(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,yK(o,a,n[s]))}return r}function ZP(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,vK(i,o,e))}return r}class Wb extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cj extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_K(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Pj(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,(n,r)=>JP(n,r))&&Kl(this.baseMutations,e.baseMutations,(n,r)=>JP(n,r))}}class Kb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){le(e.mutations.length===r.length);let s=function(){return fK}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Kb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ce;function TK(t){switch(t){default:return oe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function Aj(t){if(t===void 0)return pt("GRPC error has no .code"),z.UNKNOWN;switch(t){case xt.OK:return z.OK;case xt.CANCELLED:return z.CANCELLED;case xt.UNKNOWN:return z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return z.INTERNAL;case xt.UNAVAILABLE:return z.UNAVAILABLE;case xt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case xt.NOT_FOUND:return z.NOT_FOUND;case xt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case xt.ABORTED:return z.ABORTED;case xt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case xt.DATA_LOSS:return z.DATA_LOSS;default:return oe()}}(Ce=xt||(xt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=new zo([4294967295,4294967295],0);function eI(t){const e=SK().encode(t),n=new MD;return n.update(e),new Uint8Array(n.digest())}function tI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zo([n,r],0),new zo([s,i],0)]}class Yb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=zo.fromNumber(this.Te)}Ee(e,n,r){let s=e.add(n.multiply(zo.fromNumber(r)));return s.compare(PK)===1&&(s=new zo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=eI(e),[r,s]=tI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yb(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=eI(e),[r,s]=tI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xh(ce.min(),s,new Ge(ge),jn(),_e())}}class _h{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Rj{constructor(e,n){this.targetId=e,this.me=n}}class Nj{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class nI{constructor(){this.fe=0,this.ge=rI(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe()}}),new _h(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=rI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IK{constructor(e){this.Le=e,this.Be=new Map,this.ke=jn(),this.qe=Pf(),this.Qe=Pf(),this.Ke=new Ge(ge)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.me.count,s=this.Ye(n);if(s){const i=s.target;if(Nm(i))if(r===0){const o=new Y(i.path);this.We(n,o,dt.newNoDocument(o,ce.min()))}else le(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ds(r).toUint8Array()}catch(l){if(l instanceof nj)return ra("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yb(o,s,i)}catch(l){return ra(l instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Nm(a.target)){const l=new Y(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,dt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=_e();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new xh(e,n,this.Ke,this.ke,r);return this.ke=jn(),this.qe=Pf(),this.Qe=Pf(),this.Ke=new Ge(ge),s}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new nI,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Me(ge),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Me(ge),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new nI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Pf(){return new Ge(Y.comparator)}function rI(){return new Ge(Y.comparator)}const CK={asc:"ASCENDING",desc:"DESCENDING"},AK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RK={and:"AND",or:"OR"};class NK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _x(t,e){return t.useProto3Json||nv(e)?e:{value:e}}function tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kK(t,e){return tc(t,e.toTimestamp())}function un(t){return le(!!t),ce.fromTimestamp(function(n){const r=Os(n);return new nt(r.seconds,r.nanos)}(t))}function Jb(t,e){return bx(t,e).canonicalString()}function bx(t,e){const n=function(s){return new De(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Oj(t){const e=De.fromString(t);return le(Bj(e)),e}function Om(t,e){return Jb(t.databaseId,e.path)}function Go(t,e){const n=Oj(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(Mj(n))}function Dj(t,e){return Jb(t.databaseId,e)}function jj(t){const e=Oj(t);return e.length===4?De.emptyPath():Mj(e)}function Ex(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mj(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sI(t,e,n){return{name:Om(t,e),fields:n.value.mapValue.fields}}function OK(t,e,n){const r=Go(t,e.name),s=un(e.updateTime),i=e.createTime?un(e.createTime):ce.min(),o=new Zt({mapValue:{fields:e.fields}}),a=dt.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function DK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(le(h===void 0||typeof h=="string"),gt.fromBase64String(h||"")):(le(h===void 0||h instanceof Buffer||h instanceof Uint8Array),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?z.UNKNOWN:Aj(u.code);return new X(h,u.message||"")}(o);n=new Nj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Go(t,r.document.name),i=un(r.document.updateTime),o=r.document.createTime?un(r.document.createTime):ce.min(),a=new Zt({mapValue:{fields:r.document.fields}}),l=dt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Op(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Go(t,r.document),i=r.readTime?un(r.readTime):ce.min(),o=dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Op([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Go(t,r.document),i=r.removedTargetIds||[];n=new Op([],i,s,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new EK(s,i),a=r.targetId;n=new Rj(a,o)}}return n}function Dm(t,e){let n;if(e instanceof bc)n={update:sI(t,e.key,e.value)};else if(e instanceof Wb)n={delete:Om(t,e.key)};else if(e instanceof Fs)n={update:sI(t,e.key,e.data),updateMask:$K(e.fieldMask)};else{if(!(e instanceof Cj))return oe();n={verify:Om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Xl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:kK(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function Tx(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?_n.updateTime(un(i.updateTime)):i.exists!==void 0?_n.exists(i.exists):_n.none()}(e.currentDocument):_n.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)le(a.setToServerValue==="REQUEST_TIME"),l=new Xl;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];l=new Zl(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];l=new ec(h)}else"increment"in a?l=new Kd(o,a.increment):oe();const u=Ze.fromServerFormat(a.fieldPath);return new Sj(u,l)}(t,s)):[];if(e.update){e.update.name;const s=Go(t,e.update.name),i=new Zt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new xn(u.map(h=>Ze.fromServerFormat(h)))}(e.updateMask);return new Fs(s,i,o,n,r)}return new bc(s,i,n,r)}if(e.delete){const s=Go(t,e.delete);return new Wb(s,n)}if(e.verify){const s=Go(t,e.verify);return new Cj(s,n)}return oe()}function jK(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?un(s.updateTime):un(i);return o.isEqual(ce.min())&&(o=un(i)),new xK(o,s.transformResults||[])}(n,e))):[]}function Lj(t,e){return{documents:[Dj(t,e.path)]}}function Vj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dj(t,s);const i=function(u){if(u.length!==0)return Uj(Fe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Ja(f.field),direction:LK(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_x(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:n,parent:s}}function Fj(t){let e=jj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){le(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=$j(p);return f instanceof Fe&&zb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(y){return new Rm(Xa(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,nv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,m=p.values||[];return new Yl(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const f=!p.before,m=p.values||[];return new Yl(m,f)}(n.endAt)),fj(e,s,o,i,a,"F",l,u)}function MK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $j(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xa(n.unaryFilter.field);return Ie.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xa(n.unaryFilter.field);return Ie.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xa(n.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(Xa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fe.create(n.compositeFilter.filters.map(r=>$j(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function LK(t){return CK[t]}function VK(t){return AK[t]}function FK(t){return RK[t]}function Ja(t){return{fieldPath:t.canonicalString()}}function Xa(t){return Ze.fromServerFormat(t.fieldPath)}function Uj(t){return t instanceof Ie?function(n){if(n.op==="=="){if(BP(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(UP(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BP(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(UP(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:VK(n.op),value:n.value}}}(t):t instanceof Fe?function(n){const r=n.getFilters().map(s=>Uj(s));return r.length===1?r[0]:{compositeFilter:{op:FK(n.op),filters:r}}}(t):oe()}function $K(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Bj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.ht=e}}function UK(t,e){let n;if(e.document)n=OK(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Y.fromSegments(e.noDocument.path),s=aa(e.noDocument.readTime);n=dt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return oe();{const r=Y.fromSegments(e.unknownDocument.path),s=aa(e.unknownDocument.version);n=dt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new nt(s[0],s[1]);return ce.fromTimestamp(i)}(e.readTime)),n}function iI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Om(i,o.key),fields:o.data.value.mapValue.fields,updateTime:tc(i,o.version.toTimestamp()),createTime:tc(i,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:oa(e.version)};else{if(!e.isUnknownDocument())return oe();r.unknownDocument={path:n.path.toArray(),version:oa(e.version)}}return r}function jm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function oa(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function aa(t){const e=new nt(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function Co(t,e){const n=(e.baseMutations||[]).map(i=>Tx(t.ht,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>Tx(t.ht,i)),s=nt.fromMillis(e.localWriteTimeMs);return new Hb(e.batchId,s,n,r)}function Uu(t){const e=aa(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?aa(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return le(i.documents.length===1),Vn(ov(jj(i.documents[0])))}(t.query):function(i){return Vn(Fj(i))}(t.query),new xs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,gt.fromBase64String(t.resumeToken))}function Gj(t,e){const n=oa(e.snapshotVersion),r=oa(e.lastLimboFreeSnapshotVersion);let s;s=Nm(e.target)?Lj(t.ht,e.target):Vj(t.ht,e.target).ct;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ia(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function qj(t){const e=Fj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xx(e,e.limit,"L"):e}function Yy(t,e){return new Qb(e.largestBatchId,Tx(t.ht,e.overlayMutation))}function oI(t,e){const n=e.path.lastSegment();return[t,en(e.path.popLast()),n]}function aI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:oa(r.readTime),documentKey:en(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{getBundleMetadata(e,n){return lI(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:aa(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return lI(e).put(function(s){return{bundleId:s.id,createTime:oa(un(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return cI(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:qj(i.bundledQuery),readTime:aa(i.readTime)}}(r)})}saveNamedQuery(e,n){return cI(e).put(function(s){return{name:s.name,readTime:oa(un(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function lI(t){return Ct(t,"bundles")}function cI(t){return Ct(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new uv(e,r)}getOverlay(e,n){return eu(e).get(oI(this.userId,n)).next(r=>r?Yy(this.serializer,r):null)}getOverlays(e,n){const r=Gr();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new Qb(n,o);s.push(this.Tt(e,a))}),L.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(en(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(eu(e).j("collectionPathOverlayIndex",a))}),L.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Gr(),i=en(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return eu(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Yy(this.serializer,l);s.set(u.getKey(),u)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Gr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return eu(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const p=Yy(this.serializer,u);i.size()<s||p.largestBatchId===o?(i.set(p.getKey(),p),o=p.largestBatchId):h.done()}).next(()=>i)}Tt(e,n){return eu(e).put(function(s,i,o){const[a,l,u]=oI(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Dm(s.ht,o.mutation)}}(this.serializer,this.userId,n))}}function eu(t){return Ct(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{It(e){return Ct(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?gt.fromUint8Array(r):gt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.It(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){}Et(e,n){this.dt(e,n),n.At()}dt(e,n){if("nullValue"in e)this.Rt(n,5);else if("booleanValue"in e)this.Rt(n,10),n.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(n,15),n.Vt(Qe(e.integerValue));else if("doubleValue"in e){const r=Qe(e.doubleValue);isNaN(r)?this.Rt(n,13):(this.Rt(n,15),Gd(r)?n.Vt(0):n.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(n,20),typeof r=="string"&&(r=Os(r)),n.ft(`${r.seconds||""}`),n.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,n),this.yt(n);else if("bytesValue"in e)this.Rt(n,30),n.wt(Ds(e.bytesValue)),this.yt(n);else if("referenceValue"in e)this.St(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Rt(n,45),n.Vt(r.latitude||0),n.Vt(r.longitude||0)}else"mapValue"in e?rj(e)?this.Rt(n,Number.MAX_SAFE_INTEGER):sv(e)?this.bt(e.mapValue,n):(this.Dt(e.mapValue,n),this.yt(n)):"arrayValue"in e?(this.vt(e.arrayValue,n),this.yt(n)):oe()}gt(e,n){this.Rt(n,25),this.Ct(e,n)}Ct(e,n){n.ft(e)}Dt(e,n){const r=e.fields||{};this.Rt(n,55);for(const s of Object.keys(r))this.gt(s,n),this.dt(r[s],n)}bt(e,n){var r,s;const i=e.fields||{};this.Rt(n,53);const o="value",a=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Rt(n,15),n.Vt(Qe(a)),this.gt(o,n),this.dt(i[o],n)}vt(e,n){const r=e.values||[];this.Rt(n,50);for(const s of r)this.dt(s,n)}St(e,n){this.Rt(n,37),Y.fromName(e).path.forEach(r=>{this.Rt(n,60),this.Ct(r,n)})}Rt(e,n){e.Vt(n)}yt(e){e.Vt(2)}}Ao.Ft=new Ao;function GK(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function uI(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=GK(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class qK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.xt(r.value),r=n.next();this.Ot()}Nt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Lt(r.value),r=n.next();this.Bt()}kt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const s=n.codePointAt(0);this.xt(240|s>>>18),this.xt(128|63&s>>>12),this.xt(128|63&s>>>6),this.xt(128|63&s)}}this.Ot()}qt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Lt(r);else if(r<2048)this.Lt(960|r>>>6),this.Lt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Lt(480|r>>>12),this.Lt(128|63&r>>>6),this.Lt(128|63&r);else{const s=n.codePointAt(0);this.Lt(240|s>>>18),this.Lt(128|63&s>>>12),this.Lt(128|63&s>>>6),this.Lt(128|63&s)}}this.Bt()}Qt(e){const n=this.Kt(e),r=uI(n);this.$t(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Ut(e){const n=this.Kt(e),r=uI(n);this.$t(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}xt(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(n)}Lt(e){const n=255&e;n===0?(this.jt(0),this.jt(255)):n===255?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class WK{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class HK{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class tu{constructor(){this.Jt=new qK,this.Yt=new WK(this.Jt),this.Zt=new HK(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return e===0?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}en(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ro(this.indexId,this.documentKey,this.arrayValue,r)}}function Js(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=dI(t.arrayValue,e.arrayValue),n!==0?n:(n=dI(t.directionalValue,e.directionalValue),n!==0?n:Y.comparator(t.documentKey,e.documentKey)))}function dI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.tn=new Me((n,r)=>Ze.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=this.tn.add(r):this.rn.push(r)}}get sn(){return this.tn.size>1}on(e){if(le(e.collectionGroup===this.collectionId),this.sn)return!1;const n=fx(e);if(n!==void 0&&!this._n(n))return!1;const r=Po(e);let s=new Set,i=0,o=0;for(;i<r.length&&this._n(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.tn.size>0){const a=this.tn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.an(a,l)||!this.un(this.nn[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.nn.length||!this.un(this.nn[o++],a))return!1}return!0}cn(){if(this.sn)return null;let e=new Me(Ze.comparator);const n=[];for(const r of this.rn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ip(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ip(r.field,0))}for(const r of this.nn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ip(r.field,r.dir==="asc"?0:1)));return new Am(Am.UNKNOWN_ID,this.collectionId,n,zd.empty())}_n(e){for(const n of this.rn)if(this.an(n,e))return!0;return!1}an(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}un(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){var e,n;if(le(t instanceof Ie||t instanceof Fe),t instanceof Ie){if(t instanceof hj){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>Ie.create(t.field,"==",i)))||[];return Fe.create(s,"or")}return t}const r=t.filters.map(s=>Wj(s));return Fe.create(r,t.op)}function KK(t){if(t.getFilters().length===0)return[];const e=Ix(Wj(t));return le(Hj(e)),Sx(e)||Px(e)?[e]:e.getFilters()}function Sx(t){return t instanceof Ie}function Px(t){return t instanceof Fe&&zb(t)}function Hj(t){return Sx(t)||Px(t)||function(n){if(n instanceof Fe&&vx(n)){for(const r of n.getFilters())if(!Sx(r)&&!Px(r))return!1;return!0}return!1}(t)}function Ix(t){if(le(t instanceof Ie||t instanceof Fe),t instanceof Ie)return t;if(t.filters.length===1)return Ix(t.filters[0]);const e=t.filters.map(r=>Ix(r));let n=Fe.create(e,t.op);return n=Mm(n),Hj(n)?n:(le(n instanceof Fe),le(Jl(n)),le(n.filters.length>1),n.filters.reduce((r,s)=>Xb(r,s)))}function Xb(t,e){let n;return le(t instanceof Ie||t instanceof Fe),le(e instanceof Ie||e instanceof Fe),n=t instanceof Ie?e instanceof Ie?function(s,i){return Fe.create([s,i],"and")}(t,e):fI(t,e):e instanceof Ie?fI(e,t):function(s,i){if(le(s.filters.length>0&&i.filters.length>0),Jl(s)&&Jl(i))return cj(s,i.getFilters());const o=vx(s)?s:i,a=vx(s)?i:s,l=o.filters.map(u=>Xb(u,a));return Fe.create(l,"or")}(t,e),Mm(n)}function fI(t,e){if(Jl(e))return cj(e,t.getFilters());{const n=e.filters.map(r=>Xb(t,r));return Fe.create(n,"or")}}function Mm(t){if(le(t instanceof Ie||t instanceof Fe),t instanceof Ie)return t;const e=t.getFilters();if(e.length===1)return Mm(e[0]);if(aj(t))return t;const n=e.map(s=>Mm(s)),r=[];return n.forEach(s=>{s instanceof Ie?r.push(s):s instanceof Fe&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Fe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this.ln=new Zb}addToCollectionParentIndex(e,n){return this.ln.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Un.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class Zb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Me(De.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Me(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Uint8Array(0);class YK{constructor(e,n){this.databaseId=n,this.hn=new Zb,this.Pn=new Vs(r=>ia(r),(r,s)=>yh(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.hn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.hn.add(n)});const i={collectionId:r,parent:en(s)};return pI(e).put(i)}return L.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[GD(n),""],!1,!0);return pI(e).U(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(zr(o.parent))}return r})}addFieldIndex(e,n){const r=nu(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Da(e);return i.next(a=>{o.put(aI(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=nu(e),s=Da(e),i=Oa(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=nu(e),r=Oa(e),s=Da(e);return n.j().next(()=>r.j()).next(()=>s.j())}createTargetIndexes(e,n){return L.forEach(this.Tn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new hI(r).cn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=Oa(e);let s=!0;const i=new Map;return L.forEach(this.Tn(n),o=>this.In(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=_e();const a=[];return L.forEach(i,(l,u)=>{G("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${ia(n)}`);const h=function(_,C){const O=fx(C);if(O===void 0)return null;for(const M of km(_,O.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(u,l),p=function(_,C){const O=new Map;for(const M of Po(C))for(const P of km(_,M.fieldPath))switch(P.op){case"==":case"in":O.set(M.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return O.set(M.fieldPath.canonicalString(),P.value),Array.from(O.values())}return null}(u,l),f=function(_,C){const O=[];let M=!0;for(const P of Po(C)){const S=P.kind===0?HP(_,P.fieldPath,_.startAt):KP(_,P.fieldPath,_.startAt);O.push(S.value),M&&(M=S.inclusive)}return new Yl(O,M)}(u,l),m=function(_,C){const O=[];let M=!0;for(const P of Po(C)){const S=P.kind===0?KP(_,P.fieldPath,_.endAt):HP(_,P.fieldPath,_.endAt);O.push(S.value),M&&(M=S.inclusive)}return new Yl(O,M)}(u,l),y=this.En(l,u,f),x=this.En(l,u,m),E=this.dn(l,u,p),w=this.An(l.indexId,h,y,f.inclusive,x,m.inclusive,E);return L.forEach(w,b=>r.G(b,n.limit).next(_=>{_.forEach(C=>{const O=Y.fromSegments(C.documentKey);o.has(O)||(o=o.add(O),a.push(O))})}))}).next(()=>a)}return L.resolve(null)})}Tn(e){let n=this.Pn.get(e);return n||(e.filters.length===0?n=[e]:n=KK(Fe.create(e.filters,"and")).map(r=>wx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Pn.set(e,n),n)}An(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),u=l/(n!=null?n.length:1),h=[];for(let p=0;p<l;++p){const f=n?this.Rn(n[p/u]):If,m=this.Vn(e,f,r[p%u],s),y=this.mn(e,f,i[p%u],o),x=a.map(E=>this.Vn(e,f,E,!0));h.push(...this.createRange(m,y,x))}return h}Vn(e,n,r,s){const i=new Ro(e,Y.empty(),n,r);return s?i:i.en()}mn(e,n,r,s){const i=new Ro(e,Y.empty(),n,r);return s?i.en():i}In(e,n){const r=new hI(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.on(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.Tn(n);return L.forEach(s,i=>this.In(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Me(Ze.comparator),h=!1;for(const p of l.filters)for(const f of p.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?h=!0:u=u.add(f.field));for(const p of l.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(h?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}fn(e,n){const r=new tu;for(const s of Po(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Xt(s.kind);Ao.Ft.Et(i,o)}return r.Ht()}Rn(e){const n=new tu;return Ao.Ft.Et(e,n.Xt(0)),n.Ht()}gn(e,n){const r=new tu;return Ao.Ft.Et(Bb(this.databaseId,n),r.Xt(function(i){const o=Po(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Ht()}dn(e,n,r){if(r===null)return[];let s=[];s.push(new tu);let i=0;for(const o of Po(e)){const a=r[i++];for(const l of s)if(this.pn(n,o.fieldPath)&&Hd(a))s=this.yn(s,o,a);else{const u=l.Xt(o.kind);Ao.Ft.Et(a,u)}}return this.wn(s)}En(e,n,r){return this.dn(e,n,r.position)}wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ht();return n}yn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new tu;l.seed(a.Ht()),Ao.Ft.Et(o,l.Xt(n.kind)),i.push(l)}return i}pn(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=nu(e),s=Da(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(i=>{const o=[];return L.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(h,p){const f=p?new zd(p.sequenceNumber,new Un(aa(p.readTime),new Y(zr(p.documentKey)),p.largestBatchId)):zd.empty(),m=h.fields.map(([y,x])=>new Ip(Ze.fromServerFormat(y),x));return new Am(h.indexId,h.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:ge(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=nu(e),i=Da(e);return this.Sn(e).next(o=>s.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>i.put(aI(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),L.forEach(a,l=>this.bn(e,s,l).next(u=>{const h=this.Dn(i,l);return u.isEqual(h)?L.resolve():this.vn(e,i,l,u,h)}))))})}Cn(e,n,r,s){return Oa(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Fn(e,n,r,s){return Oa(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}bn(e,n,r){const s=Oa(e);let i=new Me(Js);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{i=i.add(new Ro(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}Dn(e,n){let r=new Me(Js);const s=this.fn(n,e);if(s==null)return r;const i=fx(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Hd(o))for(const a of o.arrayValue.values||[])r=r.add(new Ro(n.indexId,e.key,this.Rn(a),s))}else r=r.add(new Ro(n.indexId,e.key,If,s));return r}vn(e,n,r,s,i){G("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,h,p,f){const m=l.getIterator(),y=u.getIterator();let x=ka(m),E=ka(y);for(;x||E;){let w=!1,b=!1;if(x&&E){const _=h(x,E);_<0?b=!0:_>0&&(w=!0)}else x!=null?b=!0:w=!0;w?(p(E),E=ka(y)):b?(f(x),x=ka(m)):(x=ka(m),E=ka(y))}}(s,i,Js,a=>{o.push(this.Cn(e,n,r,a))},a=>{o.push(this.Fn(e,n,r,a))}),L.waitFor(o)}Sn(e){let n=1;return Da(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Js(o,a)).filter((o,a,l)=>!a||Js(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Js(o,e),l=Js(o,n);if(a===0)s[0]=e.en();else if(a>0&&l<0)s.push(o),s.push(o.en());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Mn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,If,[]],l=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,If,[]];i.push(IDBKeyRange.bound(a,l))}return i}Mn(e,n){return Js(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(mI)}getMinOffset(e,n){return L.mapArray(this.Tn(n),r=>this.In(e,r).next(s=>s||oe())).next(mI)}}function pI(t){return Ct(t,"collectionParents")}function Oa(t){return Ct(t,"indexEntries")}function nu(t){return Ct(t,"indexConfiguration")}function Da(t){return Ct(t,"indexState")}function mI(t){le(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Vb(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Un(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(h,p,f)=>(a++,f.delete()));i.push(l.next(()=>{le(a===1)}));const u=[];for(const h of n.mutations){const p=JD(e,h.key.path,n.batchId);i.push(s.delete(p)),u.push(h.key)}return L.waitFor(i).next(()=>u)}function Lm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);class dv{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.xn={}}static Pt(e,n,r,s){le(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new dv(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).J({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=Za(e),o=Xs(e);return o.add({}).next(a=>{le(typeof a=="number");const l=new Hb(a,n,r,s),u=function(m,y,x){const E=x.baseMutations.map(b=>Dm(m.ht,b)),w=x.mutations.map(b=>Dm(m.ht,b));return{userId:y,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:E,mutations:w}}(this.serializer,this.userId,l),h=[];let p=new Me((f,m)=>ge(f.canonicalString(),m.canonicalString()));for(const f of s){const m=JD(this.userId,f.key.path,a);p=p.add(f.key.path.popLast()),h.push(o.put(u)),h.push(i.put(m,OH))}return p.forEach(f=>{h.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.xn[a]=l.keys()}),L.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return Xs(e).get(n).next(r=>r?(le(r.userId===this.userId),Co(this.serializer,r)):null)}On(e,n){return this.xn[n]?L.resolve(this.xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.xn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Xs(e).J({index:"userMutationsIndex",range:s},(o,a,l)=>{a.userId===this.userId&&(le(a.batchId>=r),i=Co(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Xs(e).J({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).U("userMutationsIndex",n).next(r=>r.map(s=>Co(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Cp(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Za(e).J({range:s},(o,a,l)=>{const[u,h,p]=o,f=zr(h);if(u===this.userId&&n.path.isEqual(f))return Xs(e).get(p).next(m=>{if(!m)throw oe();le(m.userId===this.userId),i.push(Co(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(ge);const s=[];return n.forEach(i=>{const o=Cp(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=Za(e).J({range:a},(u,h,p)=>{const[f,m,y]=u,x=zr(m);f===this.userId&&i.path.isEqual(x)?r=r.add(y):p.done()});s.push(l)}),L.waitFor(s).next(()=>this.Nn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Cp(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Me(ge);return Za(e).J({range:o},(l,u,h)=>{const[p,f,m]=l,y=zr(f);p===this.userId&&r.isPrefixOf(y)?y.length===s&&(a=a.add(m)):h.done()}).next(()=>this.Nn(e,a))}Nn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Xs(e).get(i).next(o=>{if(o===null)throw oe();le(o.userId===this.userId),r.push(Co(this.serializer,o))}))}),L.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return Kj(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Ln(n.batchId)}),L.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Za(e).J({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=zr(i[1]);s.push(l)}else a.done()}).next(()=>{le(s.length===0)})})}containsKey(e,n){return Qj(e,this.userId,n)}Bn(e){return Yj(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Qj(t,e,n){const r=Cp(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Za(t).J({range:i,H:!0},(a,l,u)=>{const[h,p,f]=a;h===e&&p===s&&(o=!0),u.done()}).next(()=>o)}function Xs(t){return Ct(t,"mutations")}function Za(t){return Ct(t,"documentMutations")}function Yj(t){return Ct(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new la(0)}static Qn(){return new la(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Kn(e).next(n=>{const r=new la(n.highestTargetId);return n.highestTargetId=r.next(),this.$n(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Kn(e).next(n=>ce.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Kn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.$n(e,s)))}addTargetData(e,n){return this.Un(e,n).next(()=>this.Kn(e).next(r=>(r.targetCount+=1,this.Wn(n,r),this.$n(e,r))))}updateTargetData(e,n){return this.Un(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ja(e).delete(n.targetId)).next(()=>this.Kn(e)).next(r=>(le(r.targetCount>0),r.targetCount-=1,this.$n(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return ja(e).J((o,a)=>{const l=Uu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(i)).next(()=>s)}forEachTarget(e,n){return ja(e).J((r,s)=>{const i=Uu(s);n(i)})}Kn(e){return vI(e).get("targetGlobalKey").next(n=>(le(n!==null),n))}$n(e,n){return vI(e).put("targetGlobalKey",n)}Un(e,n){return ja(e).put(Gj(this.serializer,n))}Wn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ia(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return ja(e).J({range:s,index:"queryTargetsIndex"},(o,a,l)=>{const u=Uu(a);yh(n,u.target)&&(i=u,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=pi(e);return n.forEach(o=>{const a=en(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(s)}removeMatchingKeys(e,n,r){const s=pi(e);return L.forEach(n,i=>{const o=en(i.path);return L.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=pi(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=pi(e);let i=_e();return s.J({range:r,H:!0},(o,a,l)=>{const u=zr(o[1]),h=new Y(u);i=i.add(h)}).next(()=>i)}containsKey(e,n){const r=en(n.path),s=IDBKeyRange.bound([r],[GD(r)],!1,!0);let i=0;return pi(e).J({index:"documentTargetsIndex",H:!0,range:s},([o,a],l,u)=>{o!==0&&(i++,u.done())}).next(()=>i>0)}ut(e,n){return ja(e).get(n).next(r=>r?Uu(r):null)}}function ja(t){return Ct(t,"targets")}function vI(t){return Ct(t,"targetGlobal")}function pi(t){return Ct(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class XK{constructor(e){this.Gn=e,this.buffer=new Me(yI),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Yn(3e5)})}}class ZK{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(wn.oe);const r=new XK(n);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(gI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gI):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Qa()<=Se.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function Xj(t,e){return new ZK(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,n){this.db=e,this.garbageCollector=Xj(this,n)}Xn(e){const n=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}er(e,n){return this.rr(e,(r,s)=>n(s))}addReference(e,n,r){return Cf(e,r)}removeReference(e,n,r){return Cf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Cf(e,n)}ir(e,n){return function(s,i){let o=!1;return Yj(s).Y(a=>Qj(s,a,i).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.rr(e,(o,a)=>{if(a<=n){const l=this.ir(e,o).next(u=>{if(!u)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ce.min()),pi(e).delete(function(p){return[0,en(p.path)]}(o))))});s.push(l)}}).next(()=>L.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Cf(e,n)}rr(e,n){const r=pi(e);let s,i=wn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(i!==wn.oe&&n(new Y(zr(s)),i),i=u,s=l):i=wn.oe}).next(()=>{i!==wn.oe&&n(new Y(zr(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cf(t,e){return pi(t).put(function(r,s){return{targetId:0,path:en(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return vo(e).put(r)}removeEntry(e,n,r){return vo(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.sr(e,r)))}getEntry(e,n){let r=dt.newInvalidDocument(n);return vo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ru(n))},(s,i)=>{r=this._r(n,i)}).next(()=>r)}ar(e,n){let r={size:0,document:dt.newInvalidDocument(n)};return vo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ru(n))},(s,i)=>{r={document:this._r(n,i),size:Lm(i)}}).next(()=>r)}getEntries(e,n){let r=jn();return this.ur(e,n,(s,i)=>{const o=this._r(s,i);r=r.insert(s,o)}).next(()=>r)}cr(e,n){let r=jn(),s=new Ge(Y.comparator);return this.ur(e,n,(i,o)=>{const a=this._r(i,o);r=r.insert(i,a),s=s.insert(i,Lm(o))}).next(()=>({documents:r,lr:s}))}ur(e,n,r){if(n.isEmpty())return L.resolve();let s=new Me(_I);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(ru(s.first()),ru(s.last())),o=s.getIterator();let a=o.getNext();return vo(e).J({index:"documentKeyIndex",range:i},(l,u,h)=>{const p=Y.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&_I(a,p)<0;)r(a,null),a=o.getNext();a&&a.isEqual(p)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?h.$(ru(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),jm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vo(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let h=jn();for(const p of u){const f=this._r(Y.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);f.isFoundDocument()&&(wh(n,f)||s.has(f.key))&&(h=h.insert(f.key,f))}return h})}getAllFromCollectionGroup(e,n,r,s){let i=jn();const o=xI(n,r),a=xI(n,Un.max());return vo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,h)=>{const p=this._r(Y.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(p.key,p),i.size===s&&h.done()}).next(()=>i)}newChangeBuffer(e){return new nQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return wI(e).get("remoteDocumentGlobalKey").next(n=>(le(!!n),n))}sr(e,n){return wI(e).put("remoteDocumentGlobalKey",n)}_r(e,n){if(n){const r=UK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return dt.newInvalidDocument(e)}}function eM(t){return new tQ(t)}class nQ extends Zj{constructor(e,n){super(),this.hr=e,this.trackRemovals=n,this.Pr=new Vs(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Me((i,o)=>ge(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Pr.get(i);if(n.push(this.hr.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=iI(this.hr.serializer,o);s=s.add(i.path.popLast());const u=Lm(l);r+=u-a.size,n.push(this.hr.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=iI(this.hr.serializer,o.convertToNoDocument(ce.min()));n.push(this.hr.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.hr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.hr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.hr.ar(e,n).next(r=>(this.Pr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.hr.cr(e,n).next(({documents:r,lr:s})=>(s.forEach((i,o)=>{this.Pr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function wI(t){return Ct(t,"remoteDocumentGlobal")}function vo(t){return Ct(t,"remoteDocumentsV14")}function ru(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xI(t,e){const n=e.documentKey.path.toArray();return[t,jm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _I(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=ge(n[i],r[i]),s)return s;return s=ge(n.length,r.length),s||(s=ge(n[n.length-2],r[r.length-2]),s||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&nd(r.mutation,s,xn.empty(),nt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=Gr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Fu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=jn();const o=td(),a=function(){return td()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Fs)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),nd(h.mutation,u,h.mutation.getFieldMask(),nt.now())):o.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new rQ(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=td();let s=new Ge((o,a)=>o-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||xn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const p=(s.get(a.batchId)||_e()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,p=wj();h.forEach(f=>{if(!i.has(f)){const m=Pj(n.get(f),r.get(f));m!==null&&p.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cK(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(Gr());let a=-1,l=i;return o.next(u=>L.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,_e())).next(h=>({batchId:a,changes:yj(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Fu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Fu();return this.indexManager.getCollectionParents(e,i).next(a=>L.forEach(a,l=>{const u=function(p,f){return new iv(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,dt.newInvalidDocument(h)))});let a=Fu();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&nd(h.mutation,u,xn.empty(),nt.now()),wh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return L.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:un(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:qj(s.bundledQuery),readTime:un(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(){this.overlays=new Ge(Y.comparator),this.Er=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gr();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Tt(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Er.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=Gr(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ge((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Gr(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Gr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return L.resolve(a)}Tt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Qb(n,r));let i=this.Er.get(n);i===void 0&&(i=_e(),this.Er.set(n,i)),this.Er.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.dr=new Me(Rt.Ar),this.Rr=new Me(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Rt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Y(new De([])),r=new Rt(n,e),s=new Rt(n,e+1),i=[];return this.Rr.forEachInRange([r,s],o=>{this.gr(o),i.push(o.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Y(new De([])),r=new Rt(n,e),s=new Rt(n,e+1);let i=_e();return this.Rr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Rt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Y.comparator(e.key,n.key)||ge(e.br,n.br)}static Vr(e,n){return ge(e.br,n.br)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Me(Rt.Ar)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hb(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.vr=this.vr.add(new Rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Fr(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([r,s],o=>{const a=this.Cr(o.br);i.push(a)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(ge);return n.forEach(s=>{const i=new Rt(s,0),o=new Rt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([i,o],a=>{r=r.add(a.br)})}),L.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new Rt(new Y(i),0);let a=new Me(ge);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.br)),!0)},o),L.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){le(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return L.forEach(n.mutations,s=>{const i=new Rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Rt(n,0),s=this.vr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.Nr=e,this.docs=function(){return new Ge(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dt.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=jn();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Vb(WD(h),r)<=0||(s.has(h.key)||wh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe()}Lr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cQ(this)}getSize(e){return L.resolve(this.size)}}class cQ extends Zj{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.persistence=e,this.Br=new Vs(n=>ia(n),yh),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new e1,this.targetCount=0,this.Qr=la.qn()}forEachTarget(e,n){return this.Br.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),L.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new la(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Un(n),L.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.Kr={},this.overlays={},this.$r=new wn(0),this.Ur=!1,this.Ur=!0,this.Wr=new oQ,this.referenceDelegate=e(this),this.Gr=new uQ(this),this.indexManager=new QK,this.remoteDocumentCache=function(s){return new lQ(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new zj(n),this.jr=new sQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new aQ(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new dQ(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(i=>this.referenceDelegate.Jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Yr(e,n){return L.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class dQ extends KD{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Zr=new e1,this.Xr=null}static ei(e){return new hv(e)}get ti(){if(this.Xr)return this.Xr;throw oe()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),L.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ti.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.ti,r=>{const s=Y.fromPath(r);return this.ni(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return L.or([()=>L.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Vm{constructor(e,n){this.persistence=e,this.ri=new Vs(r=>en(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Xj(this,n)}static ei(e,n){return new Vm(e,n)}Hr(){}Jr(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return L.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(i=>i?L.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),L.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rp(e.data.value)),n}ir(e,n,r){return L.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.serializer=e}O(e,n,r,s){const i=new tv("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MP,{unique:!0}),l.createObjectStore("documentMutations")}(e),bI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),bI(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MP,{unique:!0});const p=u.store("mutations"),f=h.map(m=>p.put(m));return L.waitFor(f)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.ii(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.si(i)))),r<7&&s>=7&&(o=o.next(()=>this.oi(i))),r<8&&s>=8&&(o=o.next(()=>this._i(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ai(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:qH});u.createIndex("collectionPathOverlayIndex",WH,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",HH,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:DH});u.createIndex("documentKeyIndex",jH),u.createIndex("collectionGroupIndex",MH)}(e)).next(()=>this.ui(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.ci(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:UH}).createIndex("sequenceNumberIndex",BH,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:zH}).createIndex("documentKeyIndex",GH,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}si(e){let n=0;return e.store("remoteDocuments").J((r,s)=>{n+=Lm(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ii(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(s=>L.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{le(l.userId===i.userId);const u=Co(this.serializer,l);return Kj(e,i.userId,u).next(()=>{})}))}))}oi(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.J((o,a)=>{const l=new De(o),u=function(p){return[0,en(p)]}(l);i.push(n.get(u).next(h=>h?L.resolve():(p=>n.put({targetId:0,path:en(p),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(i))})}_i(e,n){e.createObjectStore("collectionParents",{keyPath:$H});const r=n.store("collectionParents"),s=new Zb,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:en(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new De(o);return i(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const h=zr(a);return i(h.popLast())}))}ai(e){const n=e.store("targets");return n.J((r,s)=>{const i=Uu(s),o=Gj(this.serializer,i);return n.put(o)})}ui(e,n){const r=n.store("remoteDocuments"),s=[];return r.J((i,o)=>{const a=n.store("remoteDocumentsV14"),l=function(p){return p.document?new Y(De.fromString(p.document.name).popFirst(5)):p.noDocument?Y.fromSegments(p.noDocument.path):p.unknownDocument?Y.fromSegments(p.unknownDocument.path):oe()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(u))}).next(()=>L.waitFor(s))}ci(e,n){const r=n.store("mutations"),s=eM(this.serializer),i=new t1(hv.ei,this.serializer.ht);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let h=(u=a.get(l.userId))!==null&&u!==void 0?u:_e();Co(this.serializer,l).keys().forEach(p=>h=h.add(p)),a.set(l.userId,h)}),L.forEach(a,(l,u)=>{const h=new kt(u),p=uv.Pt(this.serializer,h),f=i.getIndexManager(h),m=dv.Pt(h,this.serializer,f,i.referenceDelegate);return new tM(s,m,p,f).recalculateAndSaveOverlaysForDocumentKeys(new px(n,wn.oe),l).next()})})}}function bI(t){t.createObjectStore("targetDocuments",{keyPath:VH}).createIndex("documentTargetsIndex",FH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",LH,{unique:!0}),t.createObjectStore("targetGlobal")}const Jy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class n1{constructor(e,n,r,s,i,o,a,l,u,h,p=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.li=i,this.window=o,this.document=a,this.hi=u,this.Pi=h,this.Ti=p,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=f=>Promise.resolve(),!n1.p())throw new X(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eQ(this,s),this.Vi=n+"main",this.serializer=new zj(l),this.mi=new Li(this.Vi,this.Ti,new hQ(this.serializer)),this.Wr=new zK,this.Gr=new JK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eM(this.serializer),this.jr=new BK,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,h===!1&&pt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(z.FAILED_PRECONDITION,Jy);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Gr.getHighestSequenceNumber(e))}).then(e=>{this.$r=new wn(e,this.hi)}).then(()=>{this.Ur=!0}).catch(e=>(this.mi&&this.mi.close(),Promise.reject(e)))}Si(e){return this.Ri=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget(async()=>{this.started&&await this.gi()}))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.bi(e).next(n=>{n||(this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)))})}).next(()=>this.Di(e)).next(n=>this.isPrimary&&!n?this.vi(e).next(()=>!1):!!n&&this.Ci(e).next(()=>!0))).catch(e=>{if(ao(e))return G("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.li.enqueueRetryable(()=>this.Ri(e)),this.isPrimary=e})}bi(e){return su(e).get("owner").next(n=>L.resolve(this.Fi(n)))}Mi(e){return Af(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ct(n,"clientMetadata");return r.U().next(s=>{const i=this.Ni(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.fi)for(const n of e)this.fi.removeItem(this.Li(n.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gi().then(()=>this.xi()).then(()=>this.wi()))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?L.resolve(!0):su(e).get("owner").next(n=>{if(n!==null&&this.Oi(n.leaseTimestampMs,5e3)&&!this.Bi(n.ownerId)){if(this.Fi(n)&&this.networkEnabled)return!0;if(!this.Fi(n)){if(!n.allowTabSynchronization)throw new X(z.FAILED_PRECONDITION,Jy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Af(e).U().next(r=>this.Ni(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new px(e,wn.oe);return this.vi(n).next(()=>this.Mi(n))}),this.mi.close(),this.Ki()}Ni(e,n){return e.filter(r=>this.Oi(r.updateTimeMs,n)&&!this.Bi(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Af(e).U().next(n=>this.Ni(n,18e5).map(r=>r.clientId)))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,n){return dv.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YK(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return uv.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,n,r){G("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===17?YH:l===16?QH:l===15?$b:l===14?ej:l===13?ZD:l===12?KH:l===11?XD:void oe()}(this.Ti);let o;return this.mi.runTransaction(e,s,i,a=>(o=new px(a,this.$r?this.$r.next():wn.oe),n==="readwrite-primary"?this.bi(o).next(l=>!!l||this.Di(o)).next(l=>{if(!l)throw pt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)),new X(z.FAILED_PRECONDITION,HD);return r(o)}).next(l=>this.Ci(o).next(()=>l)):this.Ui(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ui(e){return su(e).get("owner").next(n=>{if(n!==null&&this.Oi(n.leaseTimestampMs,5e3)&&!this.Bi(n.ownerId)&&!this.Fi(n)&&!(this.Pi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new X(z.FAILED_PRECONDITION,Jy)})}Ci(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return su(e).put("owner",n)}static p(){return Li.p()}vi(e){const n=su(e);return n.get("owner").next(r=>this.Fi(r)?(G("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Oi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(pt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}pi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ei=()=>{this.li.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.gi()))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground=this.document.visibilityState==="visible")}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ii=()=>{this.ki();const n=/(?:Version|Mobile)\/1[456]/;KO()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var n;try{const r=((n=this.fi)===null||n===void 0?void 0:n.getItem(this.Li(e)))!==null;return G("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){pt("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch{}}Li(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function su(t){return Ct(t,"owner")}function Af(t){return Ct(t,"clientMetadata")}function nM(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=s}static zi(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new r1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return KO()?8:QD(It())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Xi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.es(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new fQ;return this.ts(e,n,o).next(a=>{if(i.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>i.result)}ns(e,n,r,s){return r.documentReadCount<this.Ji?(Qa()<=Se.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),L.resolve()):(Qa()<=Se.DEBUG&&G("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Qa()<=Se.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):L.resolve())}Xi(e,n){if(QP(n))return L.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xx(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_e(...i);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.rs(n,a);return this.ss(n,u,o,l.readTime)?this.Xi(e,xx(n,null,"F")):this.os(e,u,n,l)}))})))}es(e,n,r,s){return QP(n)||s.isEqual(ce.min())?L.resolve(null):this.Zi.getDocuments(e,r).next(i=>{const o=this.rs(n,i);return this.ss(n,o,r,s)?L.resolve(null):(Qa()<=Se.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ya(n)),this.os(e,o,n,qD(s,-1)).next(a=>a))})}rs(e,n){let r=new Me(gj(e));return n.forEach((s,i)=>{wh(e,i)&&(r=r.add(i))}),r}ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ts(e,n,r){return Qa()<=Se.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.Zi.getDocumentsMatchingQuery(e,n,Un.min(),r)}os(e,n,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(e,n,r,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new Ge(ge),this.cs=new Vs(i=>ia(i),yh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tM(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function sM(t,e,n,r){return new pQ(t,e,n,r)}async function iM(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=_e();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function mQ(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const p=u.batch,f=p.keys();let m=L.resolve();return f.forEach(y=>{m=m.next(()=>h.getEntry(l,y)).next(x=>{const E=u.docVersions.get(y);le(E!==null),x.version.compareTo(E)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function oM(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function gQ(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.Gr.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(i,h.addedDocuments,p)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(p,m),function(x,E,w){return x.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,h)&&a.push(n.Gr.updateTargetData(i,m))});let l=jn(),u=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(vQ(i,o,e.documentUpdates).next(h=>{l=h.Is,u=h.Es})),!r.isEqual(ce.min())){const h=n.Gr.getLastRemoteSnapshotVersion(i).next(p=>n.Gr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.us=s,i))}function vQ(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=jn();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Is:o,Es:s}})}function yQ(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fm(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Gr.getTargetData(r,e).next(i=>i?(s=i,L.resolve(s)):n.Gr.allocateTargetId(r).next(o=>(s=new xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function nc(t,e,n){const r=ae(t),s=r.us.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ao(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function Cx(t,e,n){const r=ae(t);let s=ce.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const p=ae(l),f=p.cs.get(h);return f!==void 0?L.resolve(p.us.get(f)):p.Gr.getTargetData(u,h)}(r,o,Vn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:_e())).next(a=>(cM(r,mj(e),a),{documents:a,ds:i})))}function aM(t,e){const n=ae(t),r=ae(n.Gr),s=n.us.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",i=>r.ut(i,e).next(o=>o?o.target:null))}function lM(t,e){const n=ae(t),r=n.ls.get(e)||ce.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.hs.getAllFromCollectionGroup(s,e,qD(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(cM(n,e,s),s))}function cM(t,e,n){let r=t.ls.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ls.set(e,r)}function EI(t,e){return`firestore_clients_${t}_${e}`}function TI(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Xy(t,e){return`firestore_targets_${t}_${e}`}class $m{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static fs(e,n,r){const s=JSON.parse(r);let i,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(i=new X(s.error.code,s.error.message))),o?new $m(e,n,s.state,i):(pt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rd{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static fs(e,n){const r=JSON.parse(n);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new X(r.error.code,r.error.message))),i?new rd(e,r.state,s):(pt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Um{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static fs(e,n){const r=JSON.parse(n);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=Gb();for(let o=0;s&&o<r.activeTargetIds.length;++o)s=YD(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return s?new Um(e,i):(pt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class s1{constructor(e,n){this.clientId=e,this.onlineState=n}static fs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new s1(n.clientId,n.onlineState):(pt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ax{constructor(){this.activeTargetIds=Gb()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zy{constructor(e,n,r,s,i){this.window=e,this.li=n,this.persistenceKey=r,this.ws=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new Ge(ge),this.started=!1,this.vs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Cs=EI(this.persistenceKey,this.ws),this.Fs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new Ax),this.Ms=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.xs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Os=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Ns=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Ls=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.ws)continue;const s=this.getItem(EI(this.persistenceKey,r));if(s){const i=Um.fs(r,s);i&&(this.Ds=this.Ds.insert(i.clientId,i))}}this.Bs();const n=this.storage.getItem(this.Ns);if(n){const r=this.ks(n);r&&this.qs(r)}for(const r of this.vs)this.bs(r);this.vs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let n=!1;return this.Ds.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,n,r){this.Ks(e,n,r),this.$s(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Xy(this.persistenceKey,e));if(s){const i=rd.fs(e,s);i&&(r=i.state)}}return n&&this.Us.ps(e),this.Bs(),r}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xy(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ws(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.$s(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return G("SharedClientState","READ",e,n),n}setItem(e,n){G("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){G("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const n=e;if(n.storageArea===this.storage){if(G("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Cs)return void pt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ms.test(n.key)){if(n.newValue==null){const r=this.js(n.key);return this.Hs(r,null)}{const r=this.Js(n.key,n.newValue);if(r)return this.Hs(r.clientId,r)}}else if(this.xs.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(this.Os.test(n.key)){if(n.newValue!==null){const r=this.Xs(n.key,n.newValue);if(r)return this.eo(r)}}else if(n.key===this.Ns){if(n.newValue!==null){const r=this.ks(n.newValue);if(r)return this.qs(r)}}else if(n.key===this.Fs){const r=function(i){let o=wn.oe;if(i!=null)try{const a=JSON.parse(i);le(typeof a=="number"),o=a}catch(a){pt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==wn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Ls){const r=this.no(n.newValue);await Promise.all(r.map(s=>this.syncEngine.ro(s)))}}}else this.vs.push(n)})}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,n,r){const s=new $m(this.currentUser,e,n,r),i=TI(this.persistenceKey,this.currentUser,e);this.setItem(i,s.gs())}$s(e){const n=TI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Gs(e){const n={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(n))}Ws(e,n,r){const s=Xy(this.persistenceKey,e),i=new rd(e,n,r);this.setItem(s,i.gs())}zs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ls,n)}js(e){const n=this.Ms.exec(e);return n?n[1]:null}Js(e,n){const r=this.js(e);return Um.fs(r,n)}Ys(e,n){const r=this.xs.exec(e),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return $m.fs(new kt(i),s,n)}Xs(e,n){const r=this.Os.exec(e),s=Number(r[1]);return rd.fs(s,n)}ks(e){return s1.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);G("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,n){const r=n?this.Ds.insert(e,n):this.Ds.remove(e),s=this.Qs(this.Ds),i=this.Qs(r),o=[],a=[];return i.forEach(l=>{s.has(l)||o.push(l)}),s.forEach(l=>{i.has(l)||a.push(l)}),this.syncEngine.oo(o,a).then(()=>{this.Ds=r})}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let n=Gb();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class uM{constructor(){this._o=new Ax,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ax,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=null;function e0(){return Rf===null?Rf=function(){return 268435456+Math.round(2147483648*Math.random())}():Rf++,"0x"+Rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class bQ extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${s}/databases/${i}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Oo(n,r,s,i,o){const a=e0(),l=this.No(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,i,o),this.Bo(n,l,u,s).then(h=>(G("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ra("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}ko(n,r,s,i,o,a){return this.Oo(n,r,s,i,o)}Lo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_c}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}No(n,r){const s=xQ[n];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,s){const i=e0();return new Promise((o,a)=>{const l=new LD;l.setWithCredentials(!0),l.listenOnce(VD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pp.NO_ERROR:const h=l.getResponseJson();G(Qt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Pp.TIMEOUT:G(Qt,`RPC '${e}' ${i} timed out`),a(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case Pp.HTTP_ERROR:const p=l.getStatus();if(G(Qt,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(m.status);a(new X(y,m.message))}else a(new X(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(z.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{G(Qt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);G(Qt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}qo(e,n,r){const s=e0(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UD(),a=$D(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");G(Qt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);let f=!1,m=!1;const y=new _Q({Eo:E=>{m?G(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(G(Qt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),G(Qt,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Ao:()=>p.close()}),x=(E,w,b)=>{E.listen(w,_=>{try{b(_)}catch(C){setTimeout(()=>{throw C},0)}})};return x(p,Vu.EventType.OPEN,()=>{m||(G(Qt,`RPC '${e}' stream ${s} transport opened.`),y.So())}),x(p,Vu.EventType.CLOSE,()=>{m||(m=!0,G(Qt,`RPC '${e}' stream ${s} transport closed`),y.Do())}),x(p,Vu.EventType.ERROR,E=>{m||(m=!0,ra(Qt,`RPC '${e}' stream ${s} transport errored:`,E),y.Do(new X(z.UNAVAILABLE,"The operation could not be completed")))}),x(p,Vu.EventType.MESSAGE,E=>{var w;if(!m){const b=E.data[0];le(!!b);const _=b,C=(_==null?void 0:_.error)||((w=_[0])===null||w===void 0?void 0:w.error);if(C){G(Qt,`RPC '${e}' stream ${s} received error:`,C);const O=C.status;let M=function(I){const A=xt[I];if(A!==void 0)return Aj(A)}(O),P=C.message;M===void 0&&(M=z.INTERNAL,P="Unknown error status: "+O+" with message "+C.message),m=!0,y.Do(new X(M,P)),p.close()}else G(Qt,`RPC '${e}' stream ${s} received:`,b),y.vo(b)}}),x(a,FD.STAT_EVENT,E=>{E.stat===hx.PROXY?G(Qt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===hx.NOPROXY&&G(Qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.bo()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){return typeof window<"u"?window:null}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){return new NK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r=1e3,s=1.5,i=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=s,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,r,s,i,o,a,l){this.li=e,this.Yo=r,this.Zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new hM(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(pt(n.toString()),pt("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===n&&this.I_(r,s)},r=>{e(()=>{const s=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EQ extends fM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=DK(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?un(o.readTime):ce.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Ex(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Nm(l)?{documents:Lj(i,l)}:{query:Vj(i,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kj(i,o.resumeToken);const u=_x(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=tc(i,o.snapshotVersion.toTimestamp());const u=_x(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=MK(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Ex(this.serializer),n.removeTarget=e,this.c_(n)}}class TQ extends fM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return le(!!e.streamToken),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=jK(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Ex(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Dm(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Oo(e,bx(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(z.UNKNOWN,i.toString())})}ko(e,n,r,s,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,bx(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class PQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pt(n),this.C_=!1):G("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{ba(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.k_.add(4),await bh(u),u.K_.set("Unknown"),u.k_.delete(4),await pv(u)}(this))})}),this.K_=new PQ(r,s)}}async function pv(t){if(ba(t))for(const e of t.q_)await e(!0)}async function bh(t){for(const e of t.q_)await e(!1)}function mv(t,e){const n=ae(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),a1(n)?o1(n):Tc(n).s_()&&i1(n,e))}function rc(t,e){const n=ae(t),r=Tc(n);n.B_.delete(e),r.s_()&&pM(n,e),n.B_.size===0&&(r.s_()?r.a_():ba(n)&&n.K_.set("Unknown"))}function i1(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tc(t).V_(e)}function pM(t,e){t.U_.xe(e),Tc(t).m_(e)}function o1(t){t.U_=new IK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Tc(t).start(),t.K_.F_()}function a1(t){return ba(t)&&!Tc(t).i_()&&t.B_.size>0}function ba(t){return ae(t).k_.size===0}function mM(t){t.U_=void 0}async function CQ(t){t.K_.set("Online")}async function AQ(t){t.B_.forEach((e,n)=>{i1(t,e)})}async function RQ(t,e){mM(t),a1(t)?(t.K_.O_(e),o1(t)):t.K_.set("Unknown")}async function NQ(t,e,n){if(t.K_.set("Online"),e instanceof Nj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.B_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.B_.delete(a),s.U_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bm(t,r)}else if(e instanceof Op?t.U_.$e(e):e instanceof Rj?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ce.min()))try{const r=await oM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.U_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.B_.get(u);h&&i.B_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.B_.get(l);if(!h)return;i.B_.set(l,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),pM(i,l);const p=new xs(h.target,l,u,h.sequenceNumber);i1(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Bm(t,r)}}async function Bm(t,e,n){if(!ao(e))throw e;t.k_.add(1),await bh(t),t.K_.set("Offline"),n||(n=()=>oM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await pv(t)})}function gM(t,e){return e().catch(n=>Bm(t,n,e))}async function Ec(t){const e=ae(t),n=Yi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;kQ(e);)try{const s=await yQ(e.localStore,r);if(s===null){e.L_.length===0&&n.a_();break}r=s.batchId,OQ(e,s)}catch(s){await Bm(e,s)}vM(e)&&yM(e)}function kQ(t){return ba(t)&&t.L_.length<10}function OQ(t,e){t.L_.push(e);const n=Yi(t);n.s_()&&n.f_&&n.g_(e.mutations)}function vM(t){return ba(t)&&!Yi(t).i_()&&t.L_.length>0}function yM(t){Yi(t).start()}async function DQ(t){Yi(t).w_()}async function jQ(t){const e=Yi(t);for(const n of t.L_)e.g_(n.mutations)}async function MQ(t,e,n){const r=t.L_.shift(),s=Kb.from(r,e,n);await gM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ec(t)}async function LQ(t,e){e&&Yi(t).f_&&await async function(r,s){if(function(o){return TK(o)&&o!==z.ABORTED}(s.code)){const i=r.L_.shift();Yi(r).__(),await gM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ec(r)}}(t,e),vM(t)&&yM(t)}async function PI(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=ba(n);n.k_.add(3),await bh(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await pv(n)}async function Rx(t,e){const n=ae(t);e?(n.k_.delete(2),await pv(n)):e||(n.k_.add(2),await bh(n),n.K_.set("Unknown"))}function Tc(t){return t.W_||(t.W_=function(n,r,s){const i=ae(n);return i.b_(),new EQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:CQ.bind(null,t),mo:AQ.bind(null,t),po:RQ.bind(null,t),R_:NQ.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),a1(t)?o1(t):t.K_.set("Unknown")):(await t.W_.stop(),mM(t))})),t.W_}function Yi(t){return t.G_||(t.G_=function(n,r,s){const i=ae(n);return i.b_(),new TQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:DQ.bind(null,t),po:LQ.bind(null,t),p_:jQ.bind(null,t),y_:MQ.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Ec(t)):(await t.G_.stop(),t.L_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new l1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c1(t,e){if(pt("AsyncQueue",`${e}: ${t}`),ao(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{static emptySet(e){return new Il(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Fu(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.z_=new Ge(Y.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):oe():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sc{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sc(e,n,Il.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class FQ{constructor(){this.queries=CI(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=CI(),i.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function CI(){return new Vs(t=>pj(t),av)}async function $Q(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Y_()&&e.Z_()&&(r=2):(i=new VQ,r=e.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(s,!0);break;case 1:i.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=c1(o,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.J_.push(e),e.ea(n.onlineState),i.H_&&e.ta(i.H_)&&u1(n)}async function UQ(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.J_.indexOf(e);o>=0&&(i.J_.splice(o,1),i.J_.length===0?s=e.Z_()?0:1:!i.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BQ(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.J_)a.ta(s)&&(r=!0);o.H_=s}}r&&u1(n)}function zQ(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.J_)i.onError(n);r.queries.delete(e)}function u1(t){t.X_.forEach(e=>{e.next()})}var Nx,AI;(AI=Nx||(Nx={})).na="default",AI.Cache="cache";class GQ{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Nx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.key=e}}class xM{constructor(e){this.key=e}}class qQ{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=_e(),this.mutatedKeys=_e(),this.Va=gj(e),this.ma=new Il(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new II,s=n?n.ma:this.ma;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),m=wh(this.query,p)?p:null,y=!!f&&this.mutatedKeys.has(f.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?y!==x&&(r.track({type:3,doc:m}),E=!0):this.ya(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Va(m,l)>0||u&&this.Va(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{ma:o,pa:r,ss:a,mutatedKeys:i}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((h,p)=>function(m,y){const x=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return x(m)-x(y)}(h.type,p.type)||this.Va(h.doc,p.doc)),this.wa(r),s=s!=null&&s;const a=n&&!s?this.Sa():[],l=this.Ra.size===0&&this.current&&!s?1:0,u=l!==this.Aa;return this.Aa=l,o.length!==0||u?{snapshot:new sc(this.query,e.ma,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new II,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=_e(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new xM(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new wM(r))}),n}va(e){this.da=e.ds,this.Ra=_e();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return sc.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class WQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HQ{constructor(e){this.key=e,this.Fa=!1}}class KQ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Vs(a=>pj(a),av),this.Oa=new Map,this.Na=new Set,this.La=new Ge(Y.comparator),this.Ba=new Map,this.ka=new e1,this.qa={},this.Qa=new Map,this.Ka=la.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function QQ(t,e,n=!0){const r=gv(t);let s;const i=r.xa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Ca()):s=await _M(r,e,n,!0),s}async function YQ(t,e){const n=gv(t);await _M(n,e,!0,!1)}async function _M(t,e,n,r){const s=await Fm(t.localStore,Vn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await d1(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&mv(t.remoteStore,s),a}async function d1(t,e,n,r,s){t.Ua=(p,f,m)=>async function(x,E,w,b){let _=E.view.ga(w);_.ss&&(_=await Cx(x.localStore,E.query,!1).then(({documents:P})=>E.view.ga(P,_)));const C=b&&b.targetChanges.get(E.targetId),O=b&&b.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(_,x.isPrimaryClient,C,O);return kx(x,E.targetId,M.ba),M.snapshot}(t,p,f,m);const i=await Cx(t.localStore,e,!0),o=new qQ(e,i.ds),a=o.ga(i.documents),l=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);kx(t,n,u.ba);const h=new WQ(e,n,o);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),u.snapshot}async function JQ(t,e,n){const r=ae(t),s=r.xa.get(e),i=r.Oa.get(s.targetId);if(i.length>1)return r.Oa.set(s.targetId,i.filter(o=>!av(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&rc(r.remoteStore,s.targetId),ic(r,s.targetId)}).catch(oo)):(ic(r,s.targetId),await nc(r.localStore,s.targetId,!0))}async function XQ(t,e){const n=ae(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rc(n.remoteStore,r.targetId))}async function ZQ(t,e,n){const r=m1(t);try{const s=await function(o,a){const l=ae(o),u=nt.now(),h=a.reduce((m,y)=>m.add(y.key),_e());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=jn(),x=_e();return l.hs.getEntries(m,h).next(E=>{y=E,y.forEach((w,b)=>{b.isValidDocument()||(x=x.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(E=>{p=E;const w=[];for(const b of a){const _=bK(b,p.get(b.key).overlayedDocument);_!=null&&w.push(new Fs(b.key,_,ij(_.value.mapValue),_n.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,a)}).next(E=>{f=E;const w=E.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(m,E.batchId,w)})}).then(()=>({batchId:f.batchId,changes:yj(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.qa[o.currentUser.toKey()];u||(u=new Ge(ge)),u=u.insert(a,l),o.qa[o.currentUser.toKey()]=u}(r,s.batchId,n),await co(r,s.changes),await Ec(r.remoteStore)}catch(s){const i=c1(s,"Failed to persist write");n.reject(i)}}async function bM(t,e){const n=ae(t);try{const r=await gQ(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ba.get(i);o&&(le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Fa=!0:s.modifiedDocuments.size>0?le(o.Fa):s.removedDocuments.size>0&&(le(o.Fa),o.Fa=!1))}),await co(n,r,e)}catch(r){await oo(r)}}function RI(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.xa.forEach((i,o)=>{const a=o.view.ea(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(const f of p.J_)f.ea(a)&&(u=!0)}),u&&u1(l)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eY(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ba.get(e),i=s&&s.key;if(i){let o=new Ge(Y.comparator);o=o.insert(i,dt.newNoDocument(i,ce.min()));const a=_e().add(i),l=new xh(ce.min(),new Map,new Ge(ge),o,a);await bM(r,l),r.La=r.La.remove(i),r.Ba.delete(e),p1(r)}else await nc(r.localStore,e,!1).then(()=>ic(r,e,n)).catch(oo)}async function tY(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await mQ(n.localStore,e);f1(n,r,null),h1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await co(n,s)}catch(s){await oo(s)}}async function nY(t,e,n){const r=ae(t);try{const s=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(le(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);f1(r,e,n),h1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await co(r,s)}catch(s){await oo(s)}}function h1(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function f1(t,e,n){const r=ae(t);let s=r.qa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function ic(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||EM(t,r)})}function EM(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(rc(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),p1(t))}function kx(t,e,n){for(const r of n)r instanceof wM?(t.ka.addReference(r.key,e),rY(t,r)):r instanceof xM?(G("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||EM(t,r.key)):oe()}function rY(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(G("SyncEngine","New document in limbo: "+n),t.Na.add(r),p1(t))}function p1(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Y(De.fromString(e)),r=t.Ka.next();t.Ba.set(r,new HQ(n)),t.La=t.La.insert(n,r),mv(t.remoteStore,new xs(Vn(ov(n.path)),r,"TargetPurposeLimboResolution",wn.oe))}}async function co(t,e,n){const r=ae(t),s=[],i=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=r1.zi(l.targetId,u);i.push(p)}}))}),await Promise.all(o),r.Ma.R_(s),await async function(l,u){const h=ae(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(u,f=>L.forEach(f.Wi,m=>h.persistence.referenceDelegate.addReference(p,f.targetId,m)).next(()=>L.forEach(f.Gi,m=>h.persistence.referenceDelegate.removeReference(p,f.targetId,m)))))}catch(p){if(!ao(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const f=p.targetId;if(!p.fromCache){const m=h.us.get(f),y=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(y);h.us=h.us.insert(f,x)}}}(r.localStore,i))}async function sY(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await iM(n.localStore,e);n.currentUser=e,function(i,o){i.Qa.forEach(a=>{a.forEach(l=>{l.reject(new X(z.CANCELLED,o))})}),i.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await co(n,r.Ts)}}function iY(t,e){const n=ae(t),r=n.Ba.get(e);if(r&&r.Fa)return _e().add(r.key);{let s=_e();const i=n.Oa.get(e);if(!i)return s;for(const o of i){const a=n.xa.get(o);s=s.unionWith(a.view.fa)}return s}}async function oY(t,e){const n=ae(t),r=await Cx(n.localStore,e.query,!0),s=e.view.va(r);return n.isPrimaryClient&&kx(n,e.targetId,s.ba),s}async function aY(t,e){const n=ae(t);return lM(n.localStore,e).then(r=>co(n,r))}async function lY(t,e,n,r){const s=ae(t),i=await function(a,l){const u=ae(a),h=ae(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.On(p,l).next(f=>f?u.localDocuments.getDocuments(p,f):L.resolve(null)))}(s.localStore,e);i!==null?(n==="pending"?await Ec(s.remoteStore):n==="acknowledged"||n==="rejected"?(f1(s,e,r||null),h1(s,e),function(a,l){ae(ae(a).mutationQueue).Ln(l)}(s.localStore,e)):oe(),await co(s,i)):G("SyncEngine","Cannot apply mutation batch with id: "+e)}async function cY(t,e){const n=ae(t);if(gv(n),m1(n),e===!0&&n.$a!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),s=await NI(n,r.toArray());n.$a=!0,await Rx(n.remoteStore,!0);for(const i of s)mv(n.remoteStore,i)}else if(e===!1&&n.$a!==!1){const r=[];let s=Promise.resolve();n.Oa.forEach((i,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):s=s.then(()=>(ic(n,o),nc(n.localStore,o,!0))),rc(n.remoteStore,o)}),await s,await NI(n,r),function(o){const a=ae(o);a.Ba.forEach((l,u)=>{rc(a.remoteStore,u)}),a.ka.wr(),a.Ba=new Map,a.La=new Ge(Y.comparator)}(n),n.$a=!1,await Rx(n.remoteStore,!1)}}async function NI(t,e,n){const r=ae(t),s=[],i=[];for(const o of e){let a;const l=r.Oa.get(o);if(l&&l.length!==0){a=await Fm(r.localStore,Vn(l[0]));for(const u of l){const h=r.xa.get(u),p=await oY(r,h);p.snapshot&&i.push(p.snapshot)}}else{const u=await aM(r.localStore,o);a=await Fm(r.localStore,u),await d1(r,TM(u),o,!1,a.resumeToken)}s.push(a)}return r.Ma.R_(i),s}function TM(t){return fj(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function uY(t){return function(n){return ae(ae(n).persistence).$i()}(ae(t).localStore)}async function dY(t,e,n,r){const s=ae(t);if(s.$a)return void G("SyncEngine","Ignoring unexpected query state notification.");const i=s.Oa.get(e);if(i&&i.length>0)switch(n){case"current":case"not-current":{const o=await lM(s.localStore,mj(i[0])),a=xh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",gt.EMPTY_BYTE_STRING);await co(s,o,a);break}case"rejected":await nc(s.localStore,e,!0),ic(s,e,r);break;default:oe()}}async function hY(t,e,n){const r=gv(t);if(r.$a){for(const s of e){if(r.Oa.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){G("SyncEngine","Adding an already active target "+s);continue}const i=await aM(r.localStore,s),o=await Fm(r.localStore,i);await d1(r,TM(i),o.targetId,!1,o.resumeToken),mv(r.remoteStore,o)}for(const s of n)r.Oa.has(s)&&await nc(r.localStore,s,!1).then(()=>{rc(r.remoteStore,s),ic(r,s)}).catch(oo)}}function gv(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eY.bind(null,e),e.Ma.R_=BQ.bind(null,e.eventManager),e.Ma.Wa=zQ.bind(null,e.eventManager),e}function m1(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nY.bind(null,e),e}class Qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fv(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return sM(this.persistence,new rM,e.initialUser,this.serializer)}ja(e){return new t1(hv.ei,this.serializer)}za(e){return new uM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qd.provider={build:()=>new Qd};class fY extends Qd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){le(this.persistence.referenceDelegate instanceof Vm);const r=this.persistence.referenceDelegate.garbageCollector;return new Jj(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new t1(r=>Vm.ei(r,n),this.serializer)}}class pY extends Qd{constructor(e,n,r){super(),this.Za=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await m1(this.Za.syncEngine),await Ec(this.Za.remoteStore),await this.persistence.Si(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ha(e){return sM(this.persistence,new rM,e.initialUser,this.serializer)}Ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Jj(r,e.asyncQueue,n)}Ya(e,n){const r=new NH(n,this.persistence);return new RH(e.asyncQueue,r)}ja(e){const n=nM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new n1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,dM(),Dp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new uM}}class mY extends pY{constructor(e,n){super(e,n,!1),this.Za=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Za.syncEngine;this.sharedClientState instanceof Zy&&(this.sharedClientState.syncEngine={io:lY.bind(null,n),so:dY.bind(null,n),oo:hY.bind(null,n),$i:uY.bind(null,n),ro:aY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Si(async r=>{await cY(this.Za.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}za(e){const n=dM();if(!Zy.p(n))throw new X(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=nM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sY.bind(null,this.syncEngine),await Rx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FQ}()}createDatastore(e){const n=fv(e.databaseInfo.databaseId),r=function(i){return new bQ(i)}(e.databaseInfo);return function(i,o,a,l){return new SQ(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new IQ(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RI(this.syncEngine,n,0),function(){return SI.p()?new SI:new wQ}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const p=new KQ(s,i,o,a,l,u);return h&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G("RemoteStore","RemoteStore shutting down."),i.k_.add(5),await bh(i),i.Q_.shutdown(),i.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pt("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=zD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=c1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function t0(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await iM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yY(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>PI(e.remoteStore,s)),t._onlineComponents=e}async function yY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await t0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await t0(t,new Qd)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await t0(t,new fY(void 0));return t._offlineComponents}async function SM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await kI(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await kI(t,new zm))),t._onlineComponents}function wY(t){return SM(t).then(e=>e.syncEngine)}async function xY(t){const e=await SM(t),n=e.eventManager;return n.onListen=QQ.bind(null,e.syncEngine),n.onUnlisten=JQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XQ.bind(null,e.syncEngine),n}function _Y(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new gY({next:f=>{h.eu(),o.enqueueAndForget(()=>UQ(i,p));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new X(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new X(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new GQ(ov(a.path),h,{includeMetadataChanges:!0,ua:!0});return $Q(i,p)}(await xY(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bY(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DI(t){if(!Y.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jI(t){if(Y.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g1(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wH;switch(r.type){case"firstParty":return new EH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=OI.get(n);r&&(G("ComponentProvider","Removing Datastore"),OI.delete(n),r.terminate())}(this),Promise.resolve()}}function EY(t,e,n,r={}){var s;const i=(t=Ji(t,vv))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=WO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}t._authCredentials=new xH(new BD(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new v1(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Vi extends v1{constructor(e,n,r){super(e,n,ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Y(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function CM(t,e,...n){if(t=jt(t),IM("collection","path",e),t instanceof vv){const r=De.fromString(e,...n);return jI(r),new Vi(t,null,r)}{if(!(t instanceof Pn||t instanceof Vi))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return jI(r),new Vi(t.firestore,null,r)}}function Eh(t,e,...n){if(t=jt(t),arguments.length===1&&(e=zD.newId()),IM("doc","path",e),t instanceof vv){const r=De.fromString(e,...n);return DI(r),new Pn(t,null,new Y(r))}{if(!(t instanceof Pn||t instanceof Vi))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return DI(r),new Pn(t.firestore,t instanceof Vi?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new hM(this,"async_queue_retry"),this.fu=()=>{const r=Dp();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Es;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ao(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pt("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=l1.createAndSchedule(this,e,n,r,i=>this.Su(i));return this.du.push(s),s}pu(){this.Au&&oe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Th extends vv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new LI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LI(e),this._firestoreClient=void 0,await e}}}function TY(t,e){const n=typeof t=="object"?t:Jg(),r=typeof t=="string"?t:"(default)",s=no(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=zO("firestore");i&&EY(s,...i)}return s}function AM(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RM(t),t._firestoreClient}function RM(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new XH(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new vY(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}async function NM(t){ra("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();SY(t,zm.provider,{build:n=>new mY(n,e.cacheSizeBytes)})}function SY(t,e,n){if((t=Ji(t,Th))._firestoreClient||t._terminated)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new X(z.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},RM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oc(gt.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oc(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=/^__.*__$/;class IY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class kM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class x1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new x1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Gm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(OM(this.Mu)&&PY.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class CY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fv(e)}$u(e,n,r,s=!1){return new x1({Mu:e,methodName:n,Ku:r,path:Ze.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DM(t){const e=t._freezeSettings(),n=fv(t._databaseId);return new CY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AY(t,e,n,r,s,i={}){const o=t.$u(i.merge||i.mergeFields?2:0,e,n,s);b1("Data must be an object, but it was:",o,r);const a=jM(r,o);let l,u;if(i.merge)l=new xn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=Ox(e,p,n);if(!o.contains(f))throw new X(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);LM(h,f)||h.push(f)}l=new xn(h),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new IY(new Zt(a),l,u)}class xv extends wv{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xv}}class _1 extends wv{_toFieldTransform(e){return new Sj(e.path,new Xl)}isEqual(e){return e instanceof _1}}function RY(t,e,n,r){const s=t.$u(1,e,n);b1("Data must be an object, but it was:",s,r);const i=[],o=Zt.empty();lo(r,(l,u)=>{const h=E1(e,l,n);u=jt(u);const p=s.Bu(h);if(u instanceof xv)i.push(h);else{const f=_v(u,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new xn(i);return new kM(o,a,s.fieldTransforms)}function NY(t,e,n,r,s,i){const o=t.$u(1,e,n),a=[Ox(e,r,n)],l=[s];if(i.length%2!=0)throw new X(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Ox(e,i[f])),l.push(i[f+1]);const u=[],h=Zt.empty();for(let f=a.length-1;f>=0;--f)if(!LM(u,a[f])){const m=a[f];let y=l[f];y=jt(y);const x=o.Bu(m);if(y instanceof xv)u.push(m);else{const E=_v(y,x);E!=null&&(u.push(m),h.set(m,E))}}const p=new xn(u);return new kM(h,p,o.fieldTransforms)}function _v(t,e){if(MM(t=jt(t)))return b1("Unsupported field value:",e,t),jM(t,e);if(t instanceof wv)return function(r,s){if(!OM(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=_v(a,s.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gK(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=nt.fromDate(r);return{timestampValue:tc(s.serializer,i)}}if(r instanceof nt){const i=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tc(s.serializer,i)}}if(r instanceof y1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oc)return{bytesValue:kj(s.serializer,r._byteString)};if(r instanceof Pn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Jb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof w1)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return qb(a.serializer,l)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${g1(r)}`)}(t,e)}function jM(t,e){const n={};return tj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,s)=>{const i=_v(s,e.Ou(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function MM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof y1||t instanceof oc||t instanceof Pn||t instanceof wv||t instanceof w1)}function b1(t,e,n){if(!MM(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=g1(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Ox(t,e,n){if((e=jt(e))instanceof yv)return e._internalPath;if(typeof e=="string")return E1(t,e);throw Gm("Field path arguments must be of type string or ",t,!1,void 0,n)}const kY=new RegExp("[~\\*/\\[\\]]");function E1(t,e,n){if(e.search(kY)>=0)throw Gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yv(...e.split("."))._internalPath}catch{throw Gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(z.INVALID_ARGUMENT,a+t+l)}function LM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OY extends VM{data(){return super.data()}}function FM(t,e){return typeof e=="string"?E1(t,e):e instanceof yv?e._internalPath:e._delegate._internalPath}class DY{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qe(o.doubleValue));return new w1(i)}convertGeoPoint(e){return new y1(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){const n=Os(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);le(Bj(r));const s=new sa(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||pt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $M extends VM{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new LY(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class LY extends $M{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){t=Ji(t,Pn);const e=Ji(t.firestore,Th);return _Y(AM(e),t._key).then(n=>FY(e,t,n))}class VY extends DY{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function T1(t,e,n){t=Ji(t,Pn);const r=Ji(t.firestore,Th),s=jY(t.converter,e);return zM(r,[AY(DM(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_n.none())])}function BM(t,e,n,...r){t=Ji(t,Pn);const s=Ji(t.firestore,Th),i=DM(s);let o;return o=typeof(e=jt(e))=="string"||e instanceof yv?NY(i,"updateDoc",t._key,e,n,r):RY(i,"updateDoc",t._key,e),zM(s,[o.toMutation(t._key,_n.exists(!0))])}function zM(t,e){return function(r,s){const i=new Es;return r.asyncQueue.enqueueAndForget(async()=>ZQ(await wY(r),s,i)),i.promise}(AM(t),e)}function FY(t,e,n){const r=n.docs.get(e._key),s=new VY(t);return new $M(t,s,e._key,r,new MY(n.hasPendingWrites,n.fromCache),e.converter)}function n0(){return new _1("serverTimestamp")}(function(e,n=!0){(function(s){_c=s})(_a),Sr(new er("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Th(new _H(r.getProvider("auth-internal")),new SH(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Sn(OP,"4.7.5",e),Sn(OP,"4.7.5","esm2017")})();const GM="@firebase/installations",S1="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=1e4,WM=`w:${S1}`,HM="FIS_v2",$Y="https://firebaseinstallations.googleapis.com/v1",UY=60*60*1e3,BY="installations",zY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new xa(BY,zY,GY);function KM(t){return t instanceof rr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM({projectId:t}){return`${$Y}/projects/${t}/installations`}function YM(t){return{token:t.token,requestStatus:2,expiresIn:WY(t.expiresIn),creationTime:Date.now()}}async function JM(t,e){const r=(await e.json()).error;return ca.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function XM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qY(t,{refreshToken:e}){const n=XM(t);return n.append("Authorization",HY(e)),n}async function ZM(t){const e=await t();return e.status>=500&&e.status<600?t():e}function WY(t){return Number(t.replace("s","000"))}function HY(t){return`${HM} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=QM(t),s=XM(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:HM,appId:t.appId,sdkVersion:WM},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await ZM(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:YM(u.authToken)}}else throw await JM("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=/^[cdef][\w-]{21}$/,Dx="";function JY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=XY(t);return YY.test(n)?n:Dx}catch{return Dx}}function XY(t){return QY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new Map;function nL(t,e){const n=bv(t);rL(n,e),ZY(n,e)}function rL(t,e){const n=tL.get(t);if(n)for(const r of n)r(e)}function ZY(t,e){const n=eJ();n&&n.postMessage({key:t,fid:e}),tJ()}let Mo=null;function eJ(){return!Mo&&"BroadcastChannel"in self&&(Mo=new BroadcastChannel("[Firebase] FID Change"),Mo.onmessage=t=>{rL(t.data.key,t.data.fid)}),Mo}function tJ(){tL.size===0&&Mo&&(Mo.close(),Mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ="firebase-installations-database",rJ=1,ua="firebase-installations-store";let r0=null;function P1(){return r0||(r0=XO(nJ,rJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ua)}}})),r0}async function qm(t,e){const n=bv(t),s=(await P1()).transaction(ua,"readwrite"),i=s.objectStore(ua),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&nL(t,e.fid),e}async function sL(t){const e=bv(t),r=(await P1()).transaction(ua,"readwrite");await r.objectStore(ua).delete(e),await r.done}async function Ev(t,e){const n=bv(t),s=(await P1()).transaction(ua,"readwrite"),i=s.objectStore(ua),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&nL(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t){let e;const n=await Ev(t.appConfig,r=>{const s=sJ(r),i=iJ(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Dx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function sJ(t){const e=t||{fid:JY(),registrationStatus:0};return iL(e)}function iJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=oJ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:aJ(t)}:{installationEntry:e}}async function oJ(t,e){try{const n=await KY(t,e);return qm(t.appConfig,n)}catch(n){throw KM(n)&&n.customData.serverCode===409?await sL(t.appConfig):await qm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function aJ(t){let e=await VI(t.appConfig);for(;e.registrationStatus===1;)await eL(100),e=await VI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await I1(t);return r||n}return e}function VI(t){return Ev(t,e=>{if(!e)throw ca.create("installation-not-found");return iL(e)})}function iL(t){return lJ(t)?{fid:t.fid,registrationStatus:0}:t}function lJ(t){return t.registrationStatus===1&&t.registrationTime+qM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cJ({appConfig:t,heartbeatServiceProvider:e},n){const r=uJ(t,n),s=qY(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:WM,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await ZM(()=>fetch(r,a));if(l.ok){const u=await l.json();return YM(u)}else throw await JM("Generate Auth Token",l)}function uJ(t,{fid:e}){return`${QM(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(t,e=!1){let n;const r=await Ev(t.appConfig,i=>{if(!oL(i))throw ca.create("not-registered");const o=i.authToken;if(!e&&fJ(o))return i;if(o.requestStatus===1)return n=dJ(t,e),i;{if(!navigator.onLine)throw ca.create("app-offline");const a=mJ(i);return n=hJ(t,a),a}});return n?await n:r.authToken}async function dJ(t,e){let n=await FI(t.appConfig);for(;n.authToken.requestStatus===1;)await eL(100),n=await FI(t.appConfig);const r=n.authToken;return r.requestStatus===0?C1(t,e):r}function FI(t){return Ev(t,e=>{if(!oL(e))throw ca.create("not-registered");const n=e.authToken;return gJ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function hJ(t,e){try{const n=await cJ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await qm(t.appConfig,r),n}catch(n){if(KM(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await sL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await qm(t.appConfig,r)}throw n}}function oL(t){return t!==void 0&&t.registrationStatus===2}function fJ(t){return t.requestStatus===2&&!pJ(t)}function pJ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UY}function mJ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gJ(t){return t.requestStatus===1&&t.requestTime+qM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vJ(t){const e=t,{installationEntry:n,registrationPromise:r}=await I1(e);return r?r.catch(console.error):C1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yJ(t,e=!1){const n=t;return await wJ(n),(await C1(n,e)).token}async function wJ(t){const{registrationPromise:e}=await I1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xJ(t){if(!t||!t.options)throw s0("App Configuration");if(!t.name)throw s0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw s0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function s0(t){return ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="installations",_J="installations-internal",bJ=t=>{const e=t.getProvider("app").getImmediate(),n=xJ(e),r=no(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},EJ=t=>{const e=t.getProvider("app").getImmediate(),n=no(e,aL).getImmediate();return{getId:()=>vJ(n),getToken:s=>yJ(n,s)}};function TJ(){Sr(new er(aL,bJ,"PUBLIC")),Sr(new er(_J,EJ,"PRIVATE"))}TJ();Sn(GM,S1);Sn(GM,S1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="analytics",SJ="firebase_id",PJ="origin",IJ=60*1e3,CJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",A1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Yg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fn=new xa("analytics","Analytics",AJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(t){if(!t.startsWith(A1)){const e=Fn.create("invalid-gtag-resource",{gtagURL:t});return In.warn(e.message),""}return t}function lL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function NJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kJ(t,e){const n=NJ("firebase-js-sdk-policy",{createScriptURL:RJ}),r=document.createElement("script"),s=`${A1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function OJ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function DJ(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await lL(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){In.error(a)}t("config",s,i)}async function jJ(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await lL(n);for(const l of o){const u=a.find(p=>p.measurementId===l),h=u&&e[u.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){In.error(i)}}function MJ(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await jJ(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await DJ(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){In.error(a)}}return s}function LJ(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=MJ(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function VJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(A1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJ=30,$J=1e3;class UJ{constructor(e={},n=$J){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cL=new UJ;function BJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function zJ(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:BJ(r)},i=CJ.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function GJ(t,e=cL,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Fn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Fn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HJ;return setTimeout(async()=>{a.abort()},IJ),uL({appId:r,apiKey:s,measurementId:i},o,a,e)}async function uL(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=cL){var i;const{appId:o,measurementId:a}=t;try{await qJ(r,e)}catch(l){if(a)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await zJ(t);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!WJ(u)){if(s.deleteThrottleMetadata(o),a)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?sP(n,s.intervalMillis,FJ):sP(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,p),In.debug(`Calling attemptFetch again in ${h} millis`),uL(t,p,r,s)}}function qJ(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WJ(t){if(!(t instanceof rr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class HJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KJ(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QJ(){if(Sb())try{await QO()}catch(t){return In.warn(Fn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return In.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YJ(t,e,n,r,s,i,o){var a;const l=GJ(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>In.error(m)),e.push(l);const u=QJ().then(m=>{if(m)return r.getId()}),[h,p]=await Promise.all([l,u]);VJ(i)||kJ(i,h.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[PJ]="firebase",f.update=!0,p!=null&&(f[SJ]=p),s("config",h.measurementId,f),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e){this.app=e}_delete(){return delete sd[this.app.options.appId],Promise.resolve()}}let sd={},$I=[];const UI={};let i0="dataLayer",XJ="gtag",BI,dL,zI=!1;function ZJ(){const t=[];if(HO()&&t.push("This is a browser extension environment."),$G()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Fn.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function eX(t,e,n){ZJ();const r=t.options.appId;if(!r)throw Fn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fn.create("no-api-key");if(sd[r]!=null)throw Fn.create("already-exists",{id:r});if(!zI){OJ(i0);const{wrappedGtag:i,gtagCore:o}=LJ(sd,$I,UI,i0,XJ);dL=i,BI=o,zI=!0}return sd[r]=YJ(t,$I,UI,e,BI,i0,n),new JJ(t)}function tX(t=Jg()){t=jt(t);const e=no(t,Wm);return e.isInitialized()?e.getImmediate():nX(t)}function nX(t,e={}){const n=no(t,Wm);if(n.isInitialized()){const s=n.getImmediate();if(Vd(e,n.getOptions()))return s;throw Fn.create("already-initialized")}return n.initialize({options:e})}function rX(t,e,n,r){t=jt(t),KJ(dL,sd[t.app.options.appId],e,n,r).catch(s=>In.error(s))}const GI="@firebase/analytics",qI="0.10.10";function sX(){Sr(new er(Wm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return eX(r,s,n)},"PUBLIC")),Sr(new er("analytics-internal",t,"PRIVATE")),Sn(GI,qI),Sn(GI,qI,"esm2017");function t(e){try{const n=e.getProvider(Wm).getImmediate();return{logEvent:(r,s,i)=>rX(n,r,s,i)}}catch(n){throw Fn.create("interop-component-reg-failed",{reason:n})}}}sX();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="firebasestorage.googleapis.com",iX="storageBucket",oX=2*60*1e3,aX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends rr{constructor(e,n,r=0){super(o0(e),`Firebase Storage: ${n} (${o0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jr||(Jr={}));function o0(t){return"storage/"+t}function lX(){const t="An unknown error occurred, please check the error payload for server response.";return new Zr(Jr.UNKNOWN,t)}function cX(){return new Zr(Jr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uX(){return new Zr(Jr.CANCELED,"User canceled the upload/download.")}function dX(t){return new Zr(Jr.INVALID_URL,"Invalid URL '"+t+"'.")}function hX(t){return new Zr(Jr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function WI(t){return new Zr(Jr.INVALID_ARGUMENT,t)}function fL(){return new Zr(Jr.APP_DELETED,"The Firebase app was deleted.")}function fX(t){return new Zr(Jr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw hX(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${h}/b/${s}/o${f}`,"i"),y={bucket:1,path:3},x=n===hL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",w=new RegExp(`^https?://${x}/${s}/${E}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:m,indices:y,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<_.length;C++){const O=_[C],M=O.regex.exec(e);if(M){const P=M[O.indices.bucket];let S=M[O.indices.path];S||(S=""),r=new yr(P,S),O.postModify(r);break}}if(r==null)throw dX(e);return r}}class pX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...E){u||(u=!0,e.apply(null,E))}function p(E){s=setTimeout(()=>{s=null,t(m,l())},E)}function f(){i&&clearTimeout(i)}function m(E,...w){if(u){f();return}if(E){f(),h.call(null,E,...w);return}if(l()||o){f(),h.call(null,E,...w);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,p(_)}let y=!1;function x(E){y||(y=!0,f(),!u&&(s!==null?(E||(a=2),clearTimeout(s),p(0)):E||(a=1)))}return p(0),i=setTimeout(()=>{o=!0,x(!0)},n),x}function gX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(t){return t!==void 0}function HI(t,e,n,r){if(r<e)throw WI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw WI(`Invalid value for '${t}'. Expected ${n} or less.`)}function yX(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Hm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hm||(Hm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(e,n,r,s,i,o,a,l,u,h,p,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Nf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Hm.NO_ERROR,l=i.getStatus();if(!a||wX(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Hm.ABORT;r(!1,new Nf(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Nf(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());vX(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=lX();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?fL():uX();o(l)}else{const l=cX();o(l)}};this.canceled_?n(!1,new Nf(!1,null,!0)):this.backoffId_=mX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _X(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SX(t,e,n,r,s,i,o=!0){const a=yX(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return EX(u,e),_X(u,n),bX(u,i),TX(u,r),new xX(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IX(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Km(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IX(this._location.path)}get storage(){return this._service}get parent(){const e=PX(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new Km(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fX(e)}}function KI(t,e){const n=e==null?void 0:e[iX];return n==null?null:yr.makeFromBucketSpec(n,t)}function CX(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:WO(s,t.app.options.projectId))}class AX{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=hL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oX,this._maxUploadRetryTime=aX,this._requests=new Set,s!=null?this._bucket=yr.makeFromBucketSpec(s,this._host):this._bucket=KI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=KI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Km(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new pX(fL());{const o=SX(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const QI="@firebase/storage",YI="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="storage";function RX(t=Jg(),e){t=jt(t);const r=no(t,pL).getImmediate({identifier:e}),s=zO("storage");return s&&NX(r,...s),r}function NX(t,e,n,r={}){CX(t,e,n,r)}function kX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new AX(n,r,s,e,_a)}function OX(){Sr(new er(pL,kX,"PUBLIC").setMultipleInstances(!0)),Sn(QI,YI,""),Sn(QI,YI,"esm2017")}OX();const DX={apiKey:"AIzaSyDuMENjxgXUeEFs-86SDffpebiJ9uzA0xM",authDomain:"questly-6d952.firebaseapp.com",projectId:"questly-6d952",storageBucket:"questly-6d952.appspot.com",messagingSenderId:"101337258033",appId:"1:101337258033:web:c98626475aa9da2ee71d10",measurementId:"G-3GP6PL68VZ"},Tv=ZO(DX),da=vH(Tv),Ea=TY(Tv);RX(Tv);typeof window<"u"&&tX(Tv);try{NM(Ea).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")})}catch(t){console.warn("Error enabling persistence:",t)}const R1=(t,e)=>{throw console.error(`Error in ${e}:`,t),t.code==="unavailable"?new Error("Unable to connect to the server. Please check your internet connection."):new Error(t.message||"An error occurred while accessing the database")},N1=async(t,e)=>{try{const n=Eh(Ea,"users",t);(await UM(n)).exists()?await BM(n,{...e,updatedAt:n0()}):await T1(n,{...e,id:t,createdAt:n0(),updatedAt:n0(),isPremium:!1,role:e.role||"Learner",level:e.level||1,xp:e.xp||{current:0,nextLevel:1e3},stats:e.stats||{coursesCompleted:0,quizzesTaken:0,averageScore:0,streak:0}})}catch(n){R1(n,"creating user profile")}},mL=async t=>{try{const e=await UM(Eh(Ea,"users",t));return e.exists()?e.data():null}catch(e){return R1(e,"getting user profile"),null}};async function jX(t,e){try{const n=Eh(Ea,"users",t);return await BM(n,{isPremium:e}),!0}catch(n){return R1(n,"updating premium status"),!1}}const gL=g.createContext({currentUser:null,userProfile:null,loading:!0,updateUserPremium:async()=>!1,logout:async()=>{}}),sr=()=>g.useContext(gL),MX=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!0);g.useEffect(()=>da.onAuthStateChanged(async p=>{if(n(p),p)try{const f=await mL(p.uid);s(f)}catch(f){console.error("Error fetching user profile:",f)}else s(null);o(!1)}),[]);const u={currentUser:e,userProfile:r,loading:i,updateUserPremium:async h=>{if(!e)return!1;const p=await jX(e.uid,h);return p&&r&&s({...r,isPremium:h}),p},logout:async()=>{try{await da.signOut(),n(null),s(null)}catch(h){throw console.error("Error signing out:",h),h}}};return c.jsx(gL.Provider,{value:u,children:!i&&t})};var k1="Dialog",[vL,vce]=Ls(k1),[LX,Pr]=vL(k1),yL=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u=!1,h]=va({prop:r,defaultProp:s,onChange:i});return c.jsx(LX,{scope:e,triggerRef:a,contentRef:l,contentId:Di(),titleId:Di(),descriptionId:Di(),open:u,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};yL.displayName=k1;var wL="DialogTrigger",VX=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(wL,n),i=Ne(e,s.triggerRef);return c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":j1(s.open),...r,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});VX.displayName=wL;var O1="DialogPortal",[FX,xL]=vL(O1,{forceMount:void 0}),_L=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Pr(O1,e);return c.jsx(FX,{scope:e,forceMount:n,children:g.Children.map(r,o=>c.jsx(fn,{present:n||i.open,children:c.jsx(rb,{asChild:!0,container:s,children:o})}))})};_L.displayName=O1;var Qm="DialogOverlay",bL=g.forwardRef((t,e)=>{const n=xL(Qm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Pr(Qm,t.__scopeDialog);return i.modal?c.jsx(fn,{present:r||i.open,children:c.jsx($X,{...s,ref:e})}):null});bL.displayName=Qm;var $X=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(Qm,n);return c.jsx(ub,{as:Jo,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ve.div,{"data-state":j1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ha="DialogContent",EL=g.forwardRef((t,e)=>{const n=xL(ha,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Pr(ha,t.__scopeDialog);return c.jsx(fn,{present:r||i.open,children:i.modal?c.jsx(UX,{...s,ref:e}):c.jsx(BX,{...s,ref:e})})});EL.displayName=ha;var UX=g.forwardRef((t,e)=>{const n=Pr(ha,t.__scopeDialog),r=g.useRef(null),s=Ne(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return p2(i)},[]),c.jsx(TL,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),BX=g.forwardRef((t,e)=>{const n=Pr(ha,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return c.jsx(TL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),TL=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Pr(ha,n),l=g.useRef(null),u=Ne(e,l);return s2(),c.jsxs(c.Fragment,{children:[c.jsx(cb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Ig,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":j1(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(zX,{titleId:a.titleId}),c.jsx(qX,{contentRef:l,descriptionId:a.descriptionId})]})]})}),D1="DialogTitle",SL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(D1,n);return c.jsx(ve.h2,{id:s.titleId,...r,ref:e})});SL.displayName=D1;var PL="DialogDescription",IL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(PL,n);return c.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});IL.displayName=PL;var CL="DialogClose",AL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Pr(CL,n);return c.jsx(ve.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});AL.displayName=CL;function j1(t){return t?"open":"closed"}var RL="DialogTitleWarning",[yce,NL]=_U(RL,{contentName:ha,titleName:D1,docsSlug:"dialog"}),zX=({titleId:t})=>{const e=NL(RL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},GX="DialogDescriptionWarning",qX=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NL(GX).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},kL=yL,OL=_L,Sv=bL,Pv=EL,Iv=SL,Cv=IL,DL=AL;const jL=kL,WX=OL,ML=g.forwardRef(({className:t,...e},n)=>c.jsx(Sv,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));ML.displayName=Sv.displayName;const HX=lh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),M1=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(WX,{children:[c.jsx(ML,{}),c.jsxs(Pv,{ref:s,className:se(HX({side:t}),e),...r,children:[n,c.jsxs(DL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(qg,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));M1.displayName=Pv.displayName;const L1=({className:t,...e})=>c.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",t),...e});L1.displayName="SheetHeader";const V1=g.forwardRef(({className:t,...e},n)=>c.jsx(Iv,{ref:n,className:se("text-lg font-semibold text-foreground",t),...e}));V1.displayName=Iv.displayName;const F1=g.forwardRef(({className:t,...e},n)=>c.jsx(Cv,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));F1.displayName=Cv.displayName;const Pe=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("group relative rounded-[32px]","bg-gradient-to-b from-black/80 to-black/60","before:absolute before:inset-0 before:-z-10 before:rounded-[32px] before:p-0.5","before:bg-gradient-to-b before:from-blue-500/20 before:via-blue-400/10 before:to-transparent","after:absolute after:inset-0 after:-z-20 after:rounded-[32px]","after:bg-gradient-to-b after:from-blue-500/20 after:via-blue-400/10 after:to-transparent","backdrop-blur-xl backdrop-saturate-150","border border-white/5 shadow-xl shadow-blue-400/20","transition-all duration-300","hover:shadow-2xl hover:border-white/10 hover:shadow-blue-400/30",t),...e}));Pe.displayName="Card";const Av=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",t),...e}));Av.displayName="CardHeader";const Rv=g.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:se("font-semibold leading-none tracking-tight",t),...e}));Rv.displayName="CardTitle";const LL=g.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",t),...e}));LL.displayName="CardDescription";const Nv=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("p-6 pt-0",t),...e}));Nv.displayName="CardContent";const VL=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",t),...e}));VL.displayName="CardFooter";const KX=lh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",premium:"border-transparent bg-gradient-to-r from-amber-500 to-amber-600 text-white hover:from-amber-600 hover:to-amber-700"}},defaultVariants:{variant:"default"}});function Fi({className:t,variant:e,...n}){return c.jsx("div",{className:se(KX({variant:e}),t),...n})}const QX=[{id:"free",name:"Free Plan",price:"$0",description:"Basic access to learning resources",features:["Access to free courses","Basic quizzes","Community support","Limited flashcards"],badge:"",icon:Eb},{id:"pro",name:"Pro Plan",price:"$9.99",period:"monthly",description:"Enhanced learning experience",features:["All free features","Access to premium courses","Advanced quizzes","Unlimited flashcards","Priority support","Progress tracking"],badge:"Popular",icon:Hl},{id:"premium",name:"Premium Plan",price:"$89.99",period:"yearly",description:"Complete learning suite",features:["All pro features","1-on-1 mentoring","Career guidance","Certificate of completion","Custom learning path","Team collaboration"],badge:"Best Value",icon:Hl}];function FL(){const{userProfile:t,updateUserPremium:e}=sr(),[n,r]=g.useState(null),[s,i]=g.useState(!1),o=(t==null?void 0:t.isPremium)||!1,a=async l=>{i(!0);try{await e(l!=="free")&&r(l)}catch(u){console.error("Failed to process subscription:",u)}finally{i(!1)}};return c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"grid gap-8",children:QX.map(l=>{const u=l.icon,h=n===l.id,p=o?l.id!=="free":l.id==="free";return c.jsxs(Pe,{className:`p-6 space-y-6 cursor-pointer transition-all hover:shadow-lg ${h?"ring-2 ring-amber-500 shadow-lg":""} ${p?"bg-muted/50":""}`,onClick:()=>!s&&r(l.id),children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(u,{className:`h-5 w-5 ${l.id!=="free"?"text-amber-500":""}`}),c.jsx("h3",{className:"text-xl font-bold",children:l.name})]}),l.badge&&c.jsx(Fi,{className:l.id==="premium"?"bg-gradient-to-r from-amber-500 to-amber-600":"",children:l.badge})]}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-3xl font-bold",children:l.price}),l.period&&c.jsxs("span",{className:"text-muted-foreground",children:["/",l.period]})]}),c.jsx("p",{className:"text-muted-foreground",children:l.description})]}),c.jsx("ul",{className:"space-y-2",children:l.features.map((f,m)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(wc,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:f})]},m))}),c.jsx("div",{className:"pt-4",children:c.jsx(ee,{className:`w-full ${l.id!=="free"?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white":""}`,variant:l.id==="free"?"outline":"default",onClick:f=>{f.stopPropagation(),a(l.id)},disabled:s||p,children:s&&h?"Processing...":p?"Current Plan":l.id==="free"?"Switch to Free Plan":`Buy ${l.name} ${l.period?`(${l.price}/${l.period==="monthly"?"mo":"yr"})`:""}`})})]},l.id)})}),n&&!s&&c.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Click the button above to ",n==="free"?"switch to":"purchase"," your selected plan"]})]})}function YX(){var l;const t=ht(),{currentUser:e,userProfile:n,logout:r}=sr(),[s,i]=g.useState(!1),o=(n==null?void 0:n.isPremium)||!1,a=async()=>{try{await r(),t("/")}catch(u){console.error("Failed to log out",u)}};return c.jsx("nav",{className:"fixed top-0 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-50",children:c.jsxs("div",{className:"container flex h-14 items-center justify-between",children:[c.jsx(B$,{to:"/",className:"font-bold text-xl",children:"Questly"}),e?c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(jL,{open:s,onOpenChange:i,children:[c.jsxs(ee,{onClick:()=>i(!0),className:`flex items-center gap-2 ${o?"bg-gradient-to-r from-amber-500 to-amber-600 text-white":""}`,variant:o?"outline":"default",children:[c.jsx(Hl,{className:"h-4 w-4"}),o?"Premium Member":"Get Premium Access"]}),c.jsxs(M1,{side:"right",className:"w-full sm:w-[540px] overflow-y-auto",children:[c.jsxs(L1,{className:"mb-4",children:[c.jsx(V1,{children:"Choose Your Plan"}),c.jsx(F1,{children:"Select the plan that best fits your learning goals"})]}),c.jsx(FL,{})]})]}),c.jsxs(yG,{children:[c.jsx(wG,{asChild:!0,children:c.jsx(ee,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:c.jsxs(Wg,{className:"h-8 w-8",children:[c.jsx(Hg,{src:e.photoURL||"",alt:e.email||""}),c.jsx(Kg,{children:(l=e.email)==null?void 0:l[0].toUpperCase()})]})})}),c.jsxs(CO,{className:"w-56",align:"end",forceMount:!0,children:[c.jsx(AO,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:(n==null?void 0:n.name)||"User"}),c.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),c.jsx(nx,{}),c.jsxs(ju,{onClick:()=>t("/profile"),children:[c.jsx(PO,{className:"mr-2 h-4 w-4"}),"Profile"]}),c.jsxs(ju,{onClick:()=>i(!0),children:[c.jsx(Hl,{className:"mr-2 h-4 w-4"}),"Subscription"]}),c.jsxs(ju,{onClick:()=>t("/settings"),children:[c.jsx(uG,{className:"mr-2 h-4 w-4"}),"Settings"]}),c.jsx(nx,{}),c.jsxs(ju,{className:"text-red-600",onClick:a,children:[c.jsx(Z8,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]}):c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ee,{variant:"ghost",onClick:()=>t("/login"),children:"Login"}),c.jsx(ee,{onClick:()=>t("/register"),children:"Sign Up"})]})]})})}const JX=1,XX=1e6;let a0=0;function ZX(){return a0=(a0+1)%Number.MAX_SAFE_INTEGER,a0.toString()}const l0=new Map,JI=t=>{if(l0.has(t))return;const e=setTimeout(()=>{l0.delete(t),id({type:"REMOVE_TOAST",toastId:t})},XX);l0.set(t,e)},eZ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,JX)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?JI(n):t.toasts.forEach(r=>{JI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},jp=[];let Mp={toasts:[]};function id(t){Mp=eZ(Mp,t),jp.forEach(e=>{e(Mp)})}function tZ({...t}){const e=ZX(),n=s=>id({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>id({type:"DISMISS_TOAST",toastId:e});return id({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Gn(){const[t,e]=g.useState(Mp);return g.useEffect(()=>(jp.push(e),()=>{const n=jp.indexOf(e);n>-1&&jp.splice(n,1)}),[t]),{...t,toast:tZ,dismiss:n=>id({type:"DISMISS_TOAST",toastId:n})}}const nZ=t=>{localStorage.setItem("userPreferences",JSON.stringify(t))},iu=[{id:"interests",question:"What topics are you most interested in? (e.g., Web Development, AI, Mobile Apps)",type:"interests"},{id:"experience",question:"What is your current experience level in this field?",type:"experience",options:["Beginner","Intermediate","Advanced"]},{id:"goals",question:"What are your main learning goals?",type:"goals"},{id:"learningStyle",question:"How do you prefer to learn?",type:"preferredLearningStyle",options:["Video Tutorials","Reading Documentation","Interactive Exercises","Project-Based"]},{id:"timeCommitment",question:"How much time can you dedicate to learning per week?",type:"timeCommitment",options:["1-2 hours","3-5 hours","5-10 hours","10+ hours"]}],rZ=async t=>(`${t.interests.join(", ")}${t.experience}${t.goals.join(", ")}${t.preferredLearningStyle}${t.timeCommitment}`,{topic:"Web Development",steps:[{title:"HTML & CSS Fundamentals",description:"Learn the basics of web structure and styling",resources:["MDN Web Docs","FreeCodeCamp HTML/CSS Course"],estimatedTime:"2 weeks",difficulty:"beginner"}],totalDuration:"2 weeks",prerequisites:["Basic computer skills"]}),sZ=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState([]),[o,a]=g.useState(-1),[l,u]=g.useState({}),[h,p]=g.useState(!1),{toast:f}=Gn(),m=w=>w.trim().endsWith("?")?w:w.split(new RegExp("(?<=[.!?])\\s+")).filter(_=>_.trim()).map(_=>`• ${_.trim()}`).join(`
`),y=m("Hi! I'm Chitti AI Assistant, your learning assistant. I can help you create a personalized learning path. Type 'learning path' to get started, or ask me any other questions!");g.useEffect(()=>{i(w=>[...w,{text:y,isUser:!1}])},[]);const x=async w=>{var b,_;if(o===-1&&w.toLowerCase()==="learning path"){a(0);const C=iu[0].question;return i(O=>[...O,{text:C,isUser:!1}]),!0}if(o>=0&&o<iu.length){const C=iu[o];if(u(M=>({...M,[C.type]:w})),o===iu.length-1){p(!0);try{const M={interests:((b=l.interests)==null?void 0:b.split(",").map(I=>I.trim()))||[],experience:l.experience,goals:((_=l.goals)==null?void 0:_.split(",").map(I=>I.trim()))||[],preferredLearningStyle:l.preferredLearningStyle,timeCommitment:l.timeCommitment};nZ(M);const P=await rZ(M),S=`Here's your personalized learning path for ${P.topic}:

`+P.steps.map((I,A)=>`• ${I.title} (${I.difficulty})
  - Description: ${I.description}
  - Time: ${I.estimatedTime}
  - Resources: ${I.resources.join(", ")}
`).join(`
`)+`
• Total Duration: ${P.totalDuration}
• Prerequisites: ${P.prerequisites.join(", ")}`;i(I=>[...I,{text:S,isUser:!1}]),a(-1)}catch(M){console.error("Error generating learning path:",M),i(P=>[...P,{text:m("Sorry, I encountered an error generating your learning path. Please try again."),isUser:!1}])}return p(!1),!0}a(M=>M+1);const O=iu[o+1].question;return i(M=>[...M,{text:O,isUser:!1}]),!0}return!1},E=async w=>{if(w.preventDefault(),!!n.trim()){i(b=>[...b,{text:n,isUser:!0}]);try{if(!await x(n)){const _=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n})});if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const C=await _.json();i(O=>[...O,{text:m(C.response),isUser:!1}])}}catch(b){console.error("Error:",b),f({title:"Error",description:"Failed to get response. Please try again.",variant:"destructive"})}r("")}};return c.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:t?c.jsxs("div",{className:"w-80 h-96 bg-neon-purple/90 backdrop-blur-lg border border-neon-orange/20 rounded-lg shadow-lg flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neon-orange/20",children:[c.jsx("h3",{className:"text-white font-semibold",children:"Chitti AI Assistant"}),c.jsx("button",{onClick:()=>e(!1),className:"text-white hover:text-neon-orange transition-colors",children:c.jsx(qg,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:s.map((w,b)=>c.jsx("div",{className:`mb-2 ${w.isUser?"text-right":"text-left"}`,children:c.jsx("div",{className:`inline-block rounded-lg p-2 ${w.isUser?"bg-neon-orange text-white":"bg-white/10 text-white"}`,children:w.text})},b))}),c.jsx("form",{onSubmit:E,className:"p-4 border-t border-neon-orange/20",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:w=>r(w.target.value),placeholder:"Type your message...",className:"flex-1 bg-white/10 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-neon-orange/50"}),c.jsx("button",{type:"submit",className:"bg-neon-orange/20 hover:bg-neon-orange/30 text-white rounded-lg p-2 transition-colors",children:c.jsx(_b,{className:"w-5 h-5"})})]})})]}):c.jsx("button",{onClick:()=>e(!0),className:"bg-neon-orange text-white rounded-full p-2 hover:scale-105 transition-transform",children:"Chat"})})},iZ=({children:t})=>c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:c.jsx("div",{className:"container mx-auto p-6",children:t})});function xe({children:t}){const{currentUser:e,loading:n}=sr();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-neon-purple to-black",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-emerald-500"})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(H_,{to:"/login"})}const Ft=g.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ft.displayName="Input";const $L=t=>t.length<6?"Password must be at least 6 characters":null,UL=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?null:"Please enter a valid email address",$1=t=>{switch(console.error("Auth error:",t),t.code){case"auth/weak-password":return"Password should be at least 6 characters";case"auth/email-already-in-use":return"Email already registered";case"auth/invalid-email":return"Invalid email address";case"auth/operation-not-allowed":return"Operation not allowed";case"auth/user-not-found":return"User not found";case"auth/wrong-password":return"Incorrect password";default:return t.message||"An error occurred during authentication"}},oZ=async(t,e)=>{try{const n=$L(e);if(n)throw new Error(n);const r=UL(t);if(r)throw new Error(r);const s=await r7(da,t,e);return await N1(s.user.uid,{email:s.user.email||"",name:t.split("@")[0],createdAt:new Date().toISOString(),role:"Learner",level:1,xp:{current:0,nextLevel:1e3},stats:{coursesCompleted:0,quizzesTaken:0,averageScore:0,streak:0}}),s.user}catch(n){throw new Error($1(n))}},aZ=async(t,e)=>{const n=$L(e);if(n)throw new Error(n);const r=UL(t);if(r)throw new Error(r);try{return(await s7(da,t,e)).user}catch(s){$1(s)}},BL=async()=>{var t;try{const e=new hs,n=await P7(da,e);return await N1(n.user.uid,{email:n.user.email||"",name:n.user.displayName||((t=n.user.email)==null?void 0:t.split("@")[0])||"",profileImage:n.user.photoURL,createdAt:new Date().toISOString(),role:"Learner",level:1,xp:{current:0,nextLevel:1e3},stats:{coursesCompleted:0,quizzesTaken:0,averageScore:0,streak:0}}),n}catch(e){throw new Error($1(e))}};function lZ(){const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),o=ht(),{toast:a}=Gn(),l=async h=>{h.preventDefault();try{i(!0),await aZ(t,n),a({title:"Success!",description:"You have been logged in successfully."}),o("/dashboard")}catch(p){console.error("Login error:",p),a({title:"Error",description:"Failed to log in. Please check your credentials.",variant:"destructive"})}finally{i(!1)}},u=async()=>{try{i(!0),await BL(),a({title:"Success!",description:"You have been logged in successfully."}),o("/dashboard")}catch(h){console.error("Google login error:",h),a({title:"Error",description:"Failed to log in with Google.",variant:"destructive"})}finally{i(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neon-purple to-black p-8",children:c.jsx("div",{className:"max-w-md mx-auto",children:c.jsxs(Pe,{className:"p-6 bg-black/40 border-emerald-500/20",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Login to Questly"}),c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsx("div",{children:c.jsx(Ft,{type:"email",placeholder:"Email",value:t,onChange:h=>e(h.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx("div",{children:c.jsx(Ft,{type:"password",placeholder:"Password",value:n,onChange:h=>r(h.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx(ee,{type:"submit",disabled:s,className:"w-full bg-emerald-500 text-black hover:bg-emerald-600",children:s?"Logging in...":"Login"})]}),c.jsx("div",{className:"mt-4",children:c.jsx(ee,{type:"button",onClick:u,disabled:s,className:"w-full bg-white text-black hover:bg-gray-100",children:"Continue with Google"})}),c.jsxs("p",{className:"mt-4 text-center text-zinc-400",children:["Don't have an account?"," ",c.jsx(ee,{variant:"link",className:"text-emerald-500 hover:text-emerald-400",onClick:()=>o("/register"),children:"Register"})]})]})})})}function cZ({onComplete:t}){const[e,n]=g.useState(""),[r,s]=g.useState(""),[i,o]=g.useState(""),[a,l]=g.useState(!1),{toast:u}=Gn(),h=ht(),p=async m=>{if(m.preventDefault(),r!==i){u({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}try{l(!0),await oZ(e,r),t(e)}catch(y){console.error("Registration error:",y),u({title:"Error",description:y.message||"Failed to create account. Please try again.",variant:"destructive"})}finally{l(!1)}},f=async()=>{var m;try{l(!0);const y=await BL();if((m=y==null?void 0:y.user)!=null&&m.email)t(y.user.email);else throw new Error("No email found from Google login")}catch(y){console.error("Google registration error:",y),u({title:"Error",description:y.message||"Failed to create account with Google.",variant:"destructive"})}finally{l(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neon-purple to-black p-8",children:c.jsx("div",{className:"max-w-md mx-auto",children:c.jsxs(Pe,{className:"p-6 bg-black/40 border-emerald-500/20",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create Account"}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsx("div",{children:c.jsx(Ft,{type:"email",placeholder:"Email",value:e,onChange:m=>n(m.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx("div",{children:c.jsx(Ft,{type:"password",placeholder:"Password",value:r,onChange:m=>s(m.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx("div",{children:c.jsx(Ft,{type:"password",placeholder:"Confirm Password",value:i,onChange:m=>o(m.target.value),className:"bg-black/40 border-emerald-500/20 text-white",required:!0})}),c.jsx(ee,{type:"submit",disabled:a,className:"w-full bg-emerald-500 text-black hover:bg-emerald-600",children:a?"Creating Account...":"Create Account"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t border-emerald-500/20"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-black px-2 text-muted-foreground",children:"Or continue with"})})]}),c.jsx(ee,{type:"button",onClick:f,disabled:a,className:"w-full mt-4 bg-white text-black hover:bg-gray-100",children:"Continue with Google"})]}),c.jsxs("p",{className:"mt-4 text-center text-zinc-400",children:["Already have an account?"," ",c.jsx(ee,{variant:"link",className:"text-emerald-500 hover:text-emerald-400",onClick:()=>h("/login"),children:"Login"})]})]})})})}var uZ="Label",zL=g.forwardRef((t,e)=>c.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zL.displayName=uZ;var GL=zL;const dZ=lh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fs=g.forwardRef(({className:t,...e},n)=>c.jsx(GL,{ref:n,className:se(dZ(),t),...e}));fs.displayName=GL.displayName;const od=g.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));od.displayName="Textarea";function hZ({onComplete:t,initialData:e}){var p,f,m,y,x,E,w,b;const{toast:n}=Gn(),[r,s]=g.useState(0),[i,o]=g.useState({name:(e==null?void 0:e.name)||"",bio:(e==null?void 0:e.bio)||"",interests:(e==null?void 0:e.interests)||"",goals:(e==null?void 0:e.goals)||"",profileImage:(e==null?void 0:e.profileImage)||null,socials:{github:((p=e==null?void 0:e.socials)==null?void 0:p.github)||"",linkedin:((f=e==null?void 0:e.socials)==null?void 0:f.linkedin)||"",instagram:((m=e==null?void 0:e.socials)==null?void 0:m.instagram)||"",twitter:((y=e==null?void 0:e.socials)==null?void 0:y.twitter)||""}}),a=[{title:"What's your name?",description:"This is how you'll appear to other learners",field:"name",component:c.jsx(Ft,{placeholder:"Enter your name",value:i.name,onChange:_=>o({...i,name:_.target.value})})},{title:"Tell us about yourself",description:"Share a brief bio with the community",field:"bio",component:c.jsx(od,{placeholder:"Write a short bio...",value:i.bio,onChange:_=>o({...i,bio:_.target.value})})},{title:"What are your interests?",description:"What topics are you most excited to learn about?",field:"interests",component:c.jsx(od,{placeholder:"E.g., Web Development, Machine Learning, Data Science...",value:i.interests,onChange:_=>o({...i,interests:_.target.value})})},{title:"What are your learning goals?",description:"What do you hope to achieve?",field:"goals",component:c.jsx(od,{placeholder:"Share your learning goals...",value:i.goals,onChange:_=>o({...i,goals:_.target.value})})},{title:"Add your social media links",description:"Connect with other learners through your social profiles",field:"socials",component:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(fs,{htmlFor:"github",children:"GitHub"}),c.jsx(Ft,{id:"github",placeholder:"https://github.com/yourusername",value:(x=i.socials)==null?void 0:x.github,onChange:_=>o({...i,socials:{...i.socials,github:_.target.value}})})]}),c.jsxs("div",{children:[c.jsx(fs,{htmlFor:"linkedin",children:"LinkedIn"}),c.jsx(Ft,{id:"linkedin",placeholder:"https://linkedin.com/in/yourusername",value:(E=i.socials)==null?void 0:E.linkedin,onChange:_=>o({...i,socials:{...i.socials,linkedin:_.target.value}})})]}),c.jsxs("div",{children:[c.jsx(fs,{htmlFor:"instagram",children:"Instagram"}),c.jsx(Ft,{id:"instagram",placeholder:"https://instagram.com/yourusername",value:(w=i.socials)==null?void 0:w.instagram,onChange:_=>o({...i,socials:{...i.socials,instagram:_.target.value}})})]}),c.jsxs("div",{children:[c.jsx(fs,{htmlFor:"twitter",children:"Twitter"}),c.jsx(Ft,{id:"twitter",placeholder:"https://twitter.com/yourusername",value:(b=i.socials)==null?void 0:b.twitter,onChange:_=>o({...i,socials:{...i.socials,twitter:_.target.value}})})]})]})},{title:"Add a profile picture",description:"Upload a photo of yourself",field:"profileImage",component:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx(Wg,{className:"w-32 h-32",children:i.profileImage?c.jsx(Hg,{src:i.profileImage}):c.jsx(Kg,{children:c.jsx(mG,{className:"w-8 h-8"})})}),c.jsx(Ft,{type:"file",accept:"image/*",onChange:_=>{var O;const C=(O=_.target.files)==null?void 0:O[0];if(C){const M=new FileReader;M.onloadend=()=>{o({...i,profileImage:M.result})},M.readAsDataURL(C)}}})]})}],l=()=>{r<a.length-1?s(r+1):(t(i),n({title:"Profile updated!",description:"Your profile has been successfully updated."}))},u=()=>{r>0&&s(r-1)},h=a[r];return c.jsxs(Pe,{className:"max-w-2xl mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h2",{className:"text-2xl font-bold",children:h.title}),c.jsx("p",{className:"text-muted-foreground",children:h.description})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(fs,{htmlFor:h.field,children:h.title}),h.component]}),c.jsxs("div",{className:"flex justify-between pt-4",children:[c.jsx(ee,{variant:"outline",onClick:u,disabled:r===0,children:"Back"}),c.jsx(ee,{onClick:l,children:r===a.length-1?"Complete":"Next"})]}),c.jsx("div",{className:"flex justify-center gap-2 pt-4",children:a.map((_,C)=>c.jsx("div",{className:`h-2 w-2 rounded-full ${C===r?"bg-primary":C<r?"bg-primary/50":"bg-muted"}`},C))})]})]})}function fZ(){const t=ht(),[e,n]=g.useState(1),[r,s]=g.useState(""),i=async a=>{s(a),n(2)},o=async a=>{try{const l=da.currentUser;if(!l)throw new Error("No user found");await N1(l.uid,{...a,email:r,createdAt:new Date().toISOString()}),t("/profile")}catch(l){console.error("Error saving profile:",l)}};return c.jsx("div",{className:"container mx-auto px-4 py-8",children:e===1?c.jsx(cZ,{onComplete:i}):c.jsx(hZ,{onComplete:o})})}var U1="Tabs",[pZ,wce]=Ls(U1,[Fg]),qL=Fg(),[mZ,B1]=pZ(U1),WL=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,h=ch(a),[p,f]=va({prop:r,onChange:s,defaultProp:i});return c.jsx(mZ,{scope:n,baseId:Di(),value:p,onValueChange:f,orientation:o,dir:h,activationMode:l,children:c.jsx(ve.div,{dir:h,"data-orientation":o,...u,ref:e})})});WL.displayName=U1;var HL="TabsList",KL=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=B1(HL,n),o=qL(n);return c.jsx(d2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});KL.displayName=HL;var QL="TabsTrigger",YL=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=B1(QL,n),a=qL(n),l=ZL(o.baseId,r),u=e4(o.baseId,r),h=r===o.value;return c.jsx(h2,{asChild:!0,...a,focusable:!s,active:h,children:c.jsx(ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ie(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:ie(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!s&&p&&o.onValueChange(r)})})})});YL.displayName=QL;var JL="TabsContent",XL=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=B1(JL,n),l=ZL(a.baseId,r),u=e4(a.baseId,r),h=r===a.value,p=g.useRef(h);return g.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(fn,{present:s||h,children:({present:f})=>c.jsx(ve.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});XL.displayName=JL;function ZL(t,e){return`${t}-trigger-${e}`}function e4(t,e){return`${t}-content-${e}`}var gZ=WL,t4=KL,n4=YL,r4=XL;const vZ=gZ,s4=g.forwardRef(({className:t,...e},n)=>c.jsx(t4,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));s4.displayName=t4.displayName;const Lp=g.forwardRef(({className:t,...e},n)=>c.jsx(n4,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Lp.displayName=n4.displayName;const Vp=g.forwardRef(({className:t,...e},n)=>c.jsx(r4,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Vp.displayName=r4.displayName;function yZ(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:m,...y}=p,x=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>y,Object.values(y));return c.jsx(x.Provider,{value:E,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wZ(s,...e)]}function wZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var z1="Progress",G1=100,[xZ,xce]=yZ(z1),[_Z,bZ]=xZ(z1),i4=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=EZ,...o}=t;(s||s===0)&&!XI(s)&&console.error(TZ(`${s}`,"Progress"));const a=XI(s)?s:G1;r!==null&&!ZI(r,a)&&console.error(SZ(`${r}`,"Progress"));const l=ZI(r,a)?r:null,u=Ym(l)?i(l,a):void 0;return c.jsx(_Z,{scope:n,value:l,max:a,children:c.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ym(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":l4(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});i4.displayName=z1;var o4="ProgressIndicator",a4=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=bZ(o4,n);return c.jsx(ve.div,{"data-state":l4(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});a4.displayName=o4;function EZ(t,e){return`${Math.round(t/e*100)}%`}function l4(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ym(t){return typeof t=="number"}function XI(t){return Ym(t)&&!isNaN(t)&&t>0}function ZI(t,e){return Ym(t)&&!isNaN(t)&&t<=e&&t>=0}function TZ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${G1}\`.`}function SZ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${G1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var c4=i4,PZ=a4;const nr=g.forwardRef(({className:t,value:e,indicatorClassName:n,...r},s)=>c.jsx(c4,{ref:s,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:c.jsx(PZ,{className:se("h-full w-full flex-1 bg-primary transition-all",n),style:{transform:`translateX(-${100-(e||0)}%)`}})}));nr.displayName=c4.displayName;const Jm=kL,IZ=OL,u4=g.forwardRef(({className:t,...e},n)=>c.jsx(Sv,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));u4.displayName=Sv.displayName;const Yd=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(IZ,{children:[c.jsx(u4,{}),c.jsxs(Pv,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(DL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(qg,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yd.displayName=Pv.displayName;const Xm=({className:t,...e})=>c.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Xm.displayName="DialogHeader";const Zm=g.forwardRef(({className:t,...e},n)=>c.jsx(Iv,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",t),...e}));Zm.displayName=Iv.displayName;const CZ=g.forwardRef(({className:t,...e},n)=>c.jsx(Cv,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));CZ.displayName=Cv.displayName;function Be({title:t,description:e,topics:n,chapters:r}){var w;const s=ht(),[i,o]=g.useState(null),[a,l]=g.useState(!1),[u,h]=g.useState(null),[p,f]=g.useState(!1),m=r.filter(b=>b.completed).length,y=m/r.length*100,x=b=>{s("/courses/video",{state:{courseTitle:t,chapterTitle:b.title,videoUrl:b.videoUrl,quiz:b.quiz}})},E=b=>{h(b),l(!0)};return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:t}),c.jsx("p",{className:"text-muted-foreground mb-6",children:e}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Course Progress"}),c.jsx(nr,{value:y,className:"mb-2"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[m," of ",r.length," chapters completed"]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"What You'll Learn"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map((b,_)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zo,{className:"h-5 w-5 text-primary"}),c.jsx("span",{children:b})]},_))})]})]}),c.jsx("div",{className:"w-full md:w-80",children:c.jsxs(Pe,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(ee,{className:"w-full",onClick:()=>s("/flashcards"),children:[c.jsx(Rs,{className:"mr-2 h-4 w-4"})," Practice Flashcards"]}),c.jsxs(ee,{className:"w-full",onClick:()=>s("/quiz"),children:[c.jsx(Ot,{className:"mr-2 h-4 w-4"})," Take Quiz"]}),c.jsxs(ee,{className:"w-full",onClick:()=>s("/ai"),children:[c.jsx(rG,{className:"mr-2 h-4 w-4"})," Ask AI Assistant"]})]})]})})]}),c.jsx(Jm,{open:!!i,onOpenChange:()=>o(null),children:c.jsxs(Yd,{className:"max-w-4xl",children:[c.jsx(Xm,{children:c.jsx(Zm,{children:u==null?void 0:u.title})}),c.jsx("div",{className:"aspect-video bg-black relative",children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(ee,{variant:"ghost",size:"icon",className:"w-16 h-16",onClick:()=>f(!p),children:p?c.jsx(z8,{className:"w-16 h-16 text-white"}):c.jsx(Ld,{className:"w-16 h-16 text-white"})})})}),c.jsxs("div",{className:"flex justify-between mt-4",children:[c.jsx(ee,{variant:"outline",onClick:()=>o(null),children:"Close"}),(u==null?void 0:u.quiz)&&c.jsx(ee,{onClick:()=>E(u),children:"Take Chapter Quiz"})]})]})}),c.jsx(Jm,{open:a,onOpenChange:()=>l(!1),children:c.jsxs(Yd,{children:[c.jsx(Xm,{children:c.jsxs(Zm,{children:["Chapter Quiz: ",u==null?void 0:u.title]})}),c.jsx("div",{className:"space-y-4",children:(w=u==null?void 0:u.quiz)==null?void 0:w.questions.map((b,_)=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"font-medium",children:b.question}),c.jsx("div",{className:"space-y-2",children:b.options.map((C,O)=>c.jsx(ee,{variant:"outline",className:"w-full justify-start",onClick:()=>{b.correctAnswer},children:C},O))})]},_))})]})}),c.jsxs(vZ,{defaultValue:"chapters",className:"mt-12",children:[c.jsxs(s4,{children:[c.jsx(Lp,{value:"chapters",children:"Course Content"}),c.jsx(Lp,{value:"resources",children:"Resources"}),c.jsx(Lp,{value:"discussion",children:"Discussion"})]}),c.jsx(Vp,{value:"chapters",children:c.jsx("div",{className:"space-y-4",children:r.map((b,_)=>c.jsx(Pe,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-semibold",children:b.title}),b.completed&&c.jsx(wb,{className:"h-4 w-4 text-green-500"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:b.description}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.duration})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ee,{variant:"outline",onClick:()=>x(b),children:[c.jsx(Ld,{className:"h-4 w-4 mr-2"}),b.completed?"Review":"Start"]}),b.quiz&&c.jsxs(ee,{variant:"secondary",onClick:()=>E(b),children:[c.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Quiz"]})]})]})},_))})}),c.jsx(Vp,{value:"resources",children:c.jsxs(Pe,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Resources"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:"📚 Course Slides"}),c.jsx("li",{children:"📝 Practice Exercises"}),c.jsx("li",{children:"🔗 Useful Links"}),c.jsx("li",{children:"📖 Additional Reading"})]})]})}),c.jsx(Vp,{value:"discussion",children:c.jsxs(Pe,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Discussion"}),c.jsx("p",{className:"text-muted-foreground",children:"Join the discussion with other students and instructors. Ask questions, share insights, and collaborate on projects."}),c.jsx(ee,{className:"mt-4",children:"Join Discussion"})]})})]})]})}const AZ=lh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jx=g.forwardRef(({className:t,variant:e,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:se(AZ({variant:e}),t),...n}));jx.displayName="Alert";const RZ=g.forwardRef(({className:t,...e},n)=>c.jsx("h5",{ref:n,className:se("mb-1 font-medium leading-none tracking-tight",t),...e}));RZ.displayName="AlertTitle";const Mx=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:se("text-sm [&_p]:leading-relaxed",t),...e}));Mx.displayName="AlertDescription";const NZ=t=>[{question:`What is the main focus of ${t}?`,options:[`Understanding ${t} fundamentals`,`Advanced ${t} concepts`,`${t} in practice`,`${t} architecture`],correctAnswer:0,xp:50},{question:`Which of the following is NOT typically associated with ${t}?`,options:["Data Structures","Machine Learning","Web Development","Game Design"],correctAnswer:3,xp:50},{question:`What is a common use case for ${t}?`,options:["Building web applications","Data analysis","System automation","All of the above"],correctAnswer:3,xp:75},{question:`Which tool is most commonly used with ${t}?`,options:["Visual Studio Code","Command Line Interface","Web Browser","Database Management System"],correctAnswer:0,xp:50},{question:`What is the best practice when working with ${t}?`,options:["Writing documentation","Testing code","Version control","All of the above"],correctAnswer:3,xp:75},{question:`How does ${t} handle error management?`,options:["Try-catch blocks","Error logging","Error callbacks","All of the above"],correctAnswer:3,xp:50},{question:`What is the primary advantage of using ${t}?`,options:["Performance","Scalability","Ease of use","Security"],correctAnswer:1,xp:75},{question:`Which pattern is commonly used in ${t}?`,options:["MVC Pattern","Observer Pattern","Factory Pattern","Singleton Pattern"],correctAnswer:0,xp:50},{question:`What type of applications can be built with ${t}?`,options:["Web Applications","Mobile Apps","Desktop Software","All of the above"],correctAnswer:3,xp:75},{question:`What is the future trend for ${t}?`,options:["Cloud Integration","AI Integration","IoT Integration","All of the above"],correctAnswer:3,xp:100}];function kZ({videoUrl:t,title:e,chapterTitle:n,onComplete:r}){const s=ht(),[i,o]=g.useState(!1),[a,l]=g.useState(0),[u,h]=g.useState(!1),[p,f]=g.useState(!1),[m,y]=g.useState(0),[x,E]=g.useState(0),[w,b]=g.useState(0),[_,C]=g.useState(!1),[O]=g.useState(()=>NZ(n)),[M,P]=g.useState(!1);g.useEffect(()=>{let I;return i&&a<100&&(I=setInterval(()=>{l(A=>{const N=A+1;return N>=100&&(o(!1),C(!0),clearInterval(I)),N})},300)),()=>clearInterval(I)},[i,a]);const S=I=>{const A=O[m];A.correctAnswer===I&&(E(x+1),b(w+A.xp)),m<O.length-1?y(m+1):P(!0)};return c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:e}),c.jsx("h2",{className:"text-xl text-muted-foreground",children:n})]}),p?c.jsx(Pe,{className:"p-6",children:M?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Ot,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),c.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Quiz Complete!"}),c.jsxs("p",{className:"text-xl mb-4",children:["You scored ",x," out of ",O.length]}),c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[c.jsx(El,{className:"h-6 w-6 text-yellow-500"}),c.jsxs("span",{className:"text-2xl font-bold",children:[w," XP"]})]}),c.jsx(jx,{className:"mb-6",children:c.jsxs(Mx,{children:["Great job! You've earned ",w," XP from this chapter."]})}),c.jsx(ee,{size:"lg",onClick:()=>{r(),s(-1)},children:"Continue Learning"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Chapter Quiz"}),c.jsxs("p",{className:"text-muted-foreground",children:["Question ",m+1," of ",O.length]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{className:"h-5 w-5 text-yellow-500"}),c.jsxs("span",{className:"font-semibold",children:[w," XP"]})]})]}),c.jsx(nr,{value:m/O.length*100,className:"mt-4"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("p",{className:"text-lg font-medium",children:O[m].question}),c.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[c.jsx(El,{className:"h-4 w-4 text-yellow-500"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[O[m].xp," XP"]})]})]}),c.jsx("div",{className:"grid gap-3",children:O[m].options.map((I,A)=>c.jsx(ee,{variant:"outline",className:"w-full justify-start text-left p-4",onClick:()=>S(A),children:I},A))})]})]})}):c.jsx(Pe,{className:"overflow-hidden",children:c.jsxs("div",{className:"aspect-video bg-black relative flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 to-black/60"}),!i&&c.jsx(ee,{variant:"ghost",size:"icon",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 rounded-full bg-white/10 hover:bg-white/20 text-white",onClick:()=>o(!0),children:c.jsx(Ld,{className:"h-12 w-12"})}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4",children:[c.jsx(nr,{value:a,className:"mb-4"}),c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ee,{variant:"ghost",size:"icon",className:"hover:bg-white/20",onClick:()=>l(Math.max(0,a-10)),children:c.jsx(dG,{className:"h-6 w-6"})}),c.jsx(ee,{variant:"ghost",size:"icon",className:"hover:bg-white/20",onClick:()=>o(!i),children:i?c.jsx(bO,{className:"h-8 w-8"}):c.jsx(Ld,{className:"h-8 w-8"})}),c.jsx(ee,{variant:"ghost",size:"icon",className:"hover:bg-white/20",onClick:()=>l(Math.min(100,a+10)),children:c.jsx(hG,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-sm",children:[Math.floor(a),"% Complete"]})]}),c.jsx(ee,{variant:"ghost",size:"icon",className:"hover:bg-white/20",onClick:()=>h(!u),children:u?c.jsx(vG,{className:"h-6 w-6"}):c.jsx(gG,{className:"h-6 w-6"})})]})]})]})}),_&&!p&&c.jsxs("div",{className:"mt-6",children:[c.jsx(jx,{className:"mb-4",children:c.jsx(Mx,{children:"You've completed the video! Take the quiz to earn up to 650 XP."})}),c.jsx("div",{className:"flex justify-end",children:c.jsxs(ee,{size:"lg",onClick:()=>f(!0),className:"bg-green-500 hover:bg-green-600",children:[c.jsx(Ot,{className:"mr-2 h-5 w-5"}),"Take Chapter Quiz"]})})]})]})})}function OZ(){const t=ga(),e=ht(),{courseTitle:n,chapterTitle:r,videoUrl:s,quiz:i}=t.state||{courseTitle:"Course",chapterTitle:"Chapter",videoUrl:"",quiz:null},o=()=>{e(-1)};return c.jsx(kZ,{videoUrl:s,title:n,chapterTitle:r,onComplete:o,quiz:i})}const d4=[{id:"test-course",title:"Test Course",description:"This is a test course",duration:"1 hour",level:"Beginner",instructor:"Test Instructor",isPremium:!1,image:"https://images.unsplash.com/photo-1627398242454-45a1465c2479",videos:[{id:"test-1",title:"Test Video 1",description:"This is test video 1",videoUrl:"test",quiz:{questions:[{id:1,question:"Is this a test?",options:["Yes","No","Maybe","Not sure"],correctAnswer:0}]}}]},{id:"javascript-basics",title:"JavaScript Fundamentals",description:"Master the basics of JavaScript programming",duration:"4 hours",level:"Beginner",instructor:"John Smith",isPremium:!1,image:"https://images.unsplash.com/photo-1627398242454-45a1465c2479",videos:Array(4).fill(null).map((t,e)=>({id:`js-${e+1}`,title:`JavaScript Lesson ${e+1}`,description:"Learn essential JavaScript concepts",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is JavaScript?",options:["Programming Language","Database","Operating System","Web Browser"],correctAnswer:0}]}}))},{id:"python-programming",title:"Python Programming",description:"Learn Python from scratch",duration:"6 hours",level:"Beginner",instructor:"Sarah Johnson",isPremium:!0,image:"https://images.unsplash.com/photo-1526379879527-8559ecfcaec0",videos:Array(4).fill(null).map((t,e)=>({id:`python-${e+1}`,title:`Python Basics ${e+1}`,description:"Master Python fundamentals",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is Python?",options:["Programming Language","Snake","Game","Tool"],correctAnswer:0}]}}))},{id:"react-fundamentals",title:"React.js Essentials",description:"Build modern web apps with React",duration:"5 hours",level:"Intermediate",instructor:"Mike Wilson",isPremium:!0,image:"https://images.unsplash.com/photo-1633356122544-f134324a6cee",videos:Array(4).fill(null).map((t,e)=>({id:`react-${e+1}`,title:`React Basics ${e+1}`,description:"Learn React components and hooks",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is React?",options:["JS Library","Database","Programming Language","Server"],correctAnswer:0}]}}))},{id:"web-design",title:"Web Design Masterclass",description:"Create beautiful and responsive websites",duration:"8 hours",level:"Beginner",instructor:"Emma Davis",isPremium:!1,image:"https://images.unsplash.com/photo-1507238691740-187a5b1d37b8",videos:Array(4).fill(null).map((t,e)=>({id:`design-${e+1}`,title:`Design Principles ${e+1}`,description:"Master web design fundamentals",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is responsive design?",options:["Adapts to screen size","Fast loading","Uses images","Has colors"],correctAnswer:0}]}}))},{id:"data-science",title:"Data Science Basics",description:"Introduction to data analysis",duration:"10 hours",level:"Intermediate",instructor:"David Brown",isPremium:!0,image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71",videos:Array(4).fill(null).map((t,e)=>({id:`data-${e+1}`,title:`Data Analysis ${e+1}`,description:"Learn data science concepts",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is data science?",options:["Analysis of data","Web design","Programming","Gaming"],correctAnswer:0}]}}))},{id:"mobile-dev",title:"Mobile App Development",description:"Build iOS and Android apps",duration:"12 hours",level:"Advanced",instructor:"Lisa Chen",isPremium:!0,image:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c",videos:Array(4).fill(null).map((t,e)=>({id:`mobile-${e+1}`,title:`Mobile Development ${e+1}`,description:"Create mobile applications",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is React Native?",options:["Mobile framework","Database","Programming Language","Server"],correctAnswer:0}]}}))},{id:"machine-learning",title:"Machine Learning",description:"Introduction to AI and ML",duration:"15 hours",level:"Advanced",instructor:"Alex Turner",isPremium:!0,image:"https://images.unsplash.com/photo-1515879218367-8466d910aaa4",videos:Array(4).fill(null).map((t,e)=>({id:`ml-${e+1}`,title:`ML Concepts ${e+1}`,description:"Learn machine learning basics",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is machine learning?",options:["AI subset","Database","Programming Language","Web design"],correctAnswer:0}]}}))},{id:"cybersecurity",title:"Cybersecurity Basics",description:"Learn network security",duration:"8 hours",level:"Intermediate",instructor:"Robert White",isPremium:!0,image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b",videos:Array(4).fill(null).map((t,e)=>({id:`security-${e+1}`,title:`Security Fundamentals ${e+1}`,description:"Master cybersecurity concepts",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is encryption?",options:["Data protection","Web design","Programming","Database"],correctAnswer:0}]}}))},{id:"game-development",title:"Game Development",description:"Create your own games",duration:"10 hours",level:"Intermediate",instructor:"Chris Anderson",isPremium:!1,image:"https://images.unsplash.com/photo-1556438064-2d7646166914",videos:Array(4).fill(null).map((t,e)=>({id:`game-${e+1}`,title:`Game Dev Basics ${e+1}`,description:"Learn game development",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is Unity?",options:["Game engine","Database","Programming Language","Web browser"],correctAnswer:0}]}}))},{id:"blockchain",title:"Blockchain Technology",description:"Understanding cryptocurrency",duration:"6 hours",level:"Advanced",instructor:"James Wilson",isPremium:!0,image:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0",videos:Array(4).fill(null).map((t,e)=>({id:`blockchain-${e+1}`,title:`Blockchain Basics ${e+1}`,description:"Learn blockchain concepts",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is blockchain?",options:["Distributed ledger","Database","Programming Language","Web design"],correctAnswer:0}]}}))},{id:"cloud-computing",title:"Cloud Computing",description:"Master AWS and Azure",duration:"12 hours",level:"Intermediate",instructor:"Maria Garcia",isPremium:!0,image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa",videos:Array(4).fill(null).map((t,e)=>({id:`cloud-${e+1}`,title:`Cloud Services ${e+1}`,description:"Learn cloud platforms",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is AWS?",options:["Cloud platform","Database","Programming Language","Web browser"],correctAnswer:0}]}}))},{id:"devops",title:"DevOps Engineering",description:"Learn CI/CD and automation",duration:"10 hours",level:"Advanced",instructor:"Tom Harris",isPremium:!0,image:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6",videos:Array(4).fill(null).map((t,e)=>({id:`devops-${e+1}`,title:`DevOps Practices ${e+1}`,description:"Master DevOps tools",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is CI/CD?",options:["Continuous Integration","Database","Programming","Web design"],correctAnswer:0}]}}))},{id:"ui-ux-design",title:"UI/UX Design",description:"Create amazing user experiences",duration:"8 hours",level:"Beginner",instructor:"Sophie Lee",isPremium:!1,image:"https://images.unsplash.com/photo-1561070791-2526d30994b5",videos:Array(4).fill(null).map((t,e)=>({id:`design-${e+1}`,title:`UI/UX Principles ${e+1}`,description:"Learn design thinking",videoUrl:"video-url",quiz:{questions:[{id:1,question:"What is UX?",options:["User Experience","Programming","Database","Web browser"],correctAnswer:0}]}}))}];function DZ({course:t,isPremiumUser:e,onSubscribe:n}){const r=ht(),s=()=>{t.isPremium&&!e?n():r(`/course/${t.id}`)};return c.jsxs(Pe,{className:"overflow-hidden cursor-pointer transition-transform hover:scale-[1.02]",onClick:s,children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-cover"}),t.isPremium&&c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(Fi,{className:"bg-gradient-to-r from-amber-500 to-amber-600",children:"Premium"})})]}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold",children:t.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(zg,{className:"h-4 w-4"}),t.duration]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(F8,{className:"h-4 w-4"}),t.level]})]}),t.isPremium&&!e&&c.jsx(X8,{className:"h-4 w-4 text-amber-500"})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["By ",t.instructor]})]})]})}function jZ(){const[t,e]=g.useState(""),[n,r]=g.useState(!1),{userProfile:s}=sr(),i=(s==null?void 0:s.isPremium)||!1,o=d4.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())||a.instructor.toLowerCase().includes(t.toLowerCase()));return c.jsxs("div",{className:"container py-8 space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"All Courses"}),c.jsx("p",{className:"text-muted-foreground",children:"Browse our collection of courses"})]}),c.jsxs(jL,{open:n,onOpenChange:r,children:[c.jsxs(ee,{onClick:()=>r(!0),className:"bg-gradient-to-r from-amber-500 to-amber-600 text-white",children:[c.jsx(Hl,{className:"h-4 w-4 mr-2"}),"Get Premium Access"]}),c.jsxs(M1,{side:"right",className:"w-full sm:w-[540px] overflow-y-auto",children:[c.jsxs(L1,{className:"mb-4",children:[c.jsx(V1,{children:"Choose Your Plan"}),c.jsx(F1,{children:"Select the plan that best fits your learning goals"})]}),c.jsx(FL,{})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cG,{className:"h-4 w-4 text-muted-foreground"}),c.jsx(Ft,{placeholder:"Search courses...",value:t,onChange:a=>e(a.target.value),className:"max-w-sm"})]}),c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(a=>c.jsx(DZ,{course:a,isPremiumUser:i,onSubscribe:()=>r(!0)},a.id))})]})}function MZ({videoUrl:t,onComplete:e}){const[n,r]=g.useState(0),[s,i]=g.useState(!1),o=g.useCallback(()=>{i(!1),e()},[e]);g.useEffect(()=>{let l=null;return s&&n<100&&(l=setInterval(()=>{r(u=>{const h=u+1;return h>=100?(l&&clearInterval(l),o(),100):h})},200)),()=>{l&&clearInterval(l)}},[s,o]);const a=()=>{i(!s)};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"aspect-video rounded-lg bg-black/90 flex items-center justify-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 via-pink-500/20 to-purple-500/20 animate-gradient"}),c.jsxs("div",{className:"relative z-10 text-center",children:[c.jsxs("div",{className:"text-4xl font-bold mb-2",children:[n,"%"]}),c.jsx(ee,{size:"lg",onClick:a,className:"bg-white/10 hover:bg-white/20",children:s?c.jsx(bO,{className:"h-8 w-8"}):c.jsx(Ld,{className:"h-8 w-8"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(nr,{value:n,className:"h-2"}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[n,"%"]})]})]})]})}function LZ({title:t,questions:e=[],onComplete:n}){const[r,s]=g.useState(0),[i,o]=g.useState({}),[a,l]=g.useState(!1);if(!e||e.length===0)return c.jsxs(Pe,{className:"p-6 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:t}),c.jsx("p",{className:"text-muted-foreground",children:"No questions available for this quiz."})]});const u=e[r],h=E=>{a||o(w=>({...w,[u.id]:E}))},p=()=>{r<e.length-1&&s(E=>E+1)},f=()=>{r>0&&s(E=>E-1)},m=()=>{l(!0);const w=e.filter(b=>i[b.id]===b.correctAnswer).length/e.length*100;n(w)},y=(E,w)=>{if(!a)return null;const b=e.find(_=>_.id===E);return(b==null?void 0:b.correctAnswer)===w},x=Object.keys(i).length===e.length;return c.jsx(Pe,{className:"p-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:t}),c.jsxs("p",{className:"text-muted-foreground",children:["Question ",r+1," of ",e.length]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-medium",children:u.question}),c.jsx("div",{className:"space-y-2",children:u.options.map((E,w)=>{const b=y(u.id,w),_=i[u.id]===w;return c.jsx("button",{className:`w-full text-left p-4 rounded-lg border transition-colors
                    ${_?"border-primary bg-primary/10":"border-border hover:border-primary"}
                    ${a&&_?b?"border-green-500 bg-green-50 text-green-700":"border-red-500 bg-red-50 text-red-700":""}
                    ${a&&!_&&b?"border-green-500 bg-green-50/50 text-green-700":""}
                  `,onClick:()=>h(w),disabled:a,children:E},w)})})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx(ee,{variant:"outline",onClick:f,disabled:r===0,children:"Previous"}),r===e.length-1?c.jsx(ee,{onClick:m,disabled:!x||a,children:"Submit Quiz"}):c.jsx(ee,{onClick:p,disabled:!i[u.id],children:"Next"})]}),a&&c.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:c.jsx("p",{className:"text-green-700 font-medium text-center",children:"Quiz completed! Your answers have been submitted."})})]})})}function eC(){var y;const{courseId:t}=v$(),e=ht(),[n,r]=g.useState(0),[s,i]=g.useState(!1),[o,a]=g.useState([]),{userProfile:l}=sr(),u=(l==null?void 0:l.isPremium)||!1,h=d4.find(x=>x.id===t);if(g.useEffect(()=>{h||e("/courses")},[h,e]),!h||!h.videos||h.videos.length===0)return null;const p=h.videos[n],f=()=>{i(!0)},m=x=>{x>=70&&(a(E=>E.includes(p.id)?E:[...E,p.id]),i(!1),n+1<h.videos.length&&r(n+1))};return c.jsx("div",{className:"container py-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s?c.jsx(LZ,{title:`Quiz: ${p.title}`,questions:((y=p.quiz)==null?void 0:y.questions)||[],onComplete:m}):c.jsx(MZ,{videoUrl:p.videoUrl,onComplete:f}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:h.title}),c.jsx("p",{className:"text-muted-foreground",children:h.description}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fi,{children:h.level}),c.jsx(Fi,{variant:"outline",children:h.duration}),h.isPremium&&u&&c.jsx(Fi,{className:"bg-gradient-to-r from-amber-500 to-amber-600",children:"Premium"})]})]})]}),c.jsxs(Pe,{className:"p-4",children:[c.jsx("h2",{className:"font-semibold mb-4",children:"Course Content"}),c.jsx("div",{className:"space-y-2",children:h.videos.map((x,E)=>c.jsx(ee,{variant:n===E?"default":"ghost",className:"w-full justify-start",onClick:()=>{r(E),i(!1)},children:c.jsxs("div",{className:"flex items-center gap-2",children:[o.includes(x.id)&&c.jsx(wb,{className:"h-4 w-4 text-green-500"}),c.jsxs("span",{children:[E+1,". ",x.title]})]})},x.id))})]})]})})}const VZ=[{name:"Basic",id:"basic",priceMonthly:"Free",description:"Perfect for getting started",features:["Access to basic flashcards","Limited quiz generation","Basic progress tracking","2 mock tests per month"]},{name:"Pro",id:"pro",priceMonthly:"$9.99",description:"For serious learners",features:["Unlimited AI-powered flashcards","Advanced quiz customization","Detailed analytics","Unlimited mock tests","Priority support"]},{name:"Enterprise",id:"enterprise",priceMonthly:"$29.99",description:"For teams and organizations",features:["Everything in Pro","Team management","Custom learning paths","API access","Dedicated support","Custom integrations"]}];function FZ(){const t=ht();return c.jsx("div",{className:"py-24 sm:py-32",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[c.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[c.jsx("h2",{className:"text-base font-semibold leading-7 text-primary",children:"Pricing"}),c.jsx("p",{className:"mt-2 text-4xl font-bold tracking-tight sm:text-5xl",children:"Choose the right plan for you"})]}),c.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-center text-lg leading-8 text-muted-foreground",children:"Start for free and upgrade as you grow. All plans include a 14-day free trial."}),c.jsx("div",{className:"isolate mx-auto mt-16 grid max-w-md grid-cols-1 gap-y-8 sm:mt-20 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:VZ.map((e,n)=>c.jsxs("div",{className:`flex flex-col justify-between rounded-3xl bg-card p-8 ring-1 ring-muted ${n===1?"lg:z-10 lg:rounded-b-none":""} ${n===0?"lg:rounded-r-none":""} ${n===2?"lg:rounded-l-none":""}`,children:[c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center justify-between gap-x-4",children:c.jsx("h3",{className:"text-lg font-semibold leading-8",children:e.name})}),c.jsx("p",{className:"mt-4 text-sm leading-6 text-muted-foreground",children:e.description}),c.jsxs("p",{className:"mt-6 flex items-baseline gap-x-1",children:[c.jsx("span",{className:"text-4xl font-bold tracking-tight",children:e.priceMonthly}),e.priceMonthly!=="Free"&&c.jsx("span",{className:"text-sm font-semibold leading-6 text-muted-foreground",children:"/month"})]}),c.jsx("ul",{role:"list",className:"mt-8 space-y-3 text-sm leading-6 text-muted-foreground",children:e.features.map(r=>c.jsxs("li",{className:"flex gap-x-3",children:[c.jsx(wc,{className:"h-6 w-5 flex-none text-primary","aria-hidden":"true"}),r]},r))})]}),c.jsx(ee,{className:"mt-8",variant:n===1?"default":"outline",onClick:()=>t("/register"),children:"Get started"})]},e.id))})]})})}function $Z(){return c.jsx("div",{className:"py-24 sm:py-32 bg-muted/50",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[c.jsxs("div",{className:"mx-auto max-w-2xl lg:text-center",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl",children:"About Me"}),c.jsx("p",{className:"mt-6 text-lg leading-8 text-muted-foreground",children:"Hi, I'm Gaurav Kulkarni, a passionate developer dedicated to creating innovative learning solutions."})]}),c.jsxs("div",{className:"mx-auto mt-16 max-w-2xl text-center",children:[c.jsx("p",{className:"text-lg leading-8 text-muted-foreground",children:"I created Questly with the vision of making learning more engaging and effective through AI-powered tools. With experience in educational technology, I understand the challenges students face and build solutions to address them."}),c.jsxs("div",{className:"mt-10 flex justify-center gap-6",children:[c.jsx(ee,{variant:"ghost",size:"icon",asChild:!0,children:c.jsx("a",{href:"https://github.com/yourusername",target:"_blank",rel:"noopener noreferrer",children:c.jsx(yO,{className:"h-5 w-5"})})}),c.jsx(ee,{variant:"ghost",size:"icon",asChild:!0,children:c.jsx("a",{href:"https://linkedin.com/in/yourusername",target:"_blank",rel:"noopener noreferrer",children:c.jsx(xO,{className:"h-5 w-5"})})}),c.jsx(ee,{variant:"ghost",size:"icon",asChild:!0,children:c.jsx("a",{href:"mailto:your.email@example.com",children:c.jsx(eG,{className:"h-5 w-5"})})})]})]})]})})}const UZ=[{title:"AI-Powered Flashcards",description:"Create and study with intelligent flashcards that adapt to your learning style",icon:J8,color:"text-blue-500"},{title:"Smart Quiz Generation",description:"Take personalized quizzes generated by AI based on your study materials",icon:Rs,color:"text-green-500"},{title:"Mock Tests",description:"Practice with realistic mock tests that simulate exam conditions",icon:wO,color:"text-purple-500"},{title:"Progress Tracking",description:"Monitor your learning progress with detailed analytics and insights",icon:V8,color:"text-yellow-500"},{title:"AI Study Assistant",description:"Get help from our AI assistant for any questions or clarifications",icon:gs,color:"text-pink-500"},{title:"Leaderboard",description:"Compete with others and track your ranking on the leaderboard",icon:Ot,color:"text-orange-500"}];function BZ(){return sr(),ht(),c.jsxs("main",{children:[c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"container px-4 md:px-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-6xl mb-4",children:"Welcome to Questly"}),c.jsx("p",{className:"text-xl text-muted-foreground mb-16",children:"Transform your learning experience with AI-powered tools"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:UZ.map(t=>c.jsxs(Pe,{className:"transition-all hover:shadow-lg",children:[c.jsxs(Av,{children:[c.jsx(t.icon,{className:`h-8 w-8 ${t.color}`}),c.jsx(Rv,{className:"mt-4",children:t.title}),c.jsx(LL,{children:t.description})]}),c.jsx(Nv,{})]},t.title))})]})}),c.jsx("section",{className:"bg-muted/30",children:c.jsx(FZ,{})}),c.jsx($Z,{})]})}function Sh({theme:t="green",children:e,className:n,...r}){return c.jsx("div",{className:se("group relative overflow-hidden transition-all duration-300","rounded-[32px] md:rounded-[32px]","bg-gradient-to-b from-[#1E1E1E]/40 to-[#252525]/40","hover:from-[#1E1E1E] hover:to-[#252525]","backdrop-blur-[2px]","border border-white/5 hover:border-white/10",{"hover:border-emerald-500/30":t==="green","hover:border-blue-500/30":t==="blue","hover:border-purple-500/30":t==="purple","hover:border-orange-500/30":t==="orange","hover:border-red-500/30":t==="red"},"before:absolute before:inset-0 before:opacity-0 before:transition-opacity","before:duration-300 group-hover:before:opacity-100","before:bg-gradient-to-b before:from-transparent before:to-black/10",{"before:from-emerald-500/5 before:to-transparent":t==="green","before:from-blue-500/5 before:to-transparent":t==="blue","before:from-purple-500/5 before:to-transparent":t==="purple","before:from-orange-500/5 before:to-transparent":t==="orange","before:from-red-500/5 before:to-transparent":t==="red"},n),...r,children:e})}function zZ({currentXP:t,requiredXP:e,level:n,className:r}){const s=Math.min(t/e*100,100);return c.jsxs(Sh,{theme:"green",className:se("group relative overflow-hidden",r),children:[c.jsxs("div",{className:"relative z-10 space-y-4 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-semibold text-white",children:["Level ",n]}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Keep going! You're doing great!"})]}),c.jsx(Ot,{className:"h-8 w-8 text-emerald-400"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"font-medium text-white",children:[t.toLocaleString()," XP"]}),c.jsxs("span",{className:"text-[#B3B3B3]",children:[e.toLocaleString()," XP"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(nr,{value:s,className:"h-3 bg-[#1E1E1E]",indicatorClassName:"bg-gradient-to-r from-emerald-500 to-emerald-400"}),c.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.3)] transition-opacity duration-300 group-hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"rounded-lg bg-[#1E1E1E] p-4 transition-all hover:bg-emerald-500/10",children:[c.jsx("div",{className:"text-sm text-[#B3B3B3]",children:"Next Level"}),c.jsx("div",{className:"text-2xl font-bold text-white",children:n+1})]}),c.jsxs("div",{className:"rounded-lg bg-[#1E1E1E] p-4 transition-all hover:bg-emerald-500/10",children:[c.jsx("div",{className:"text-sm text-[#B3B3B3]",children:"XP Needed"}),c.jsx("div",{className:"text-2xl font-bold text-white",children:(e-t).toLocaleString()})]})]})]}),c.jsx("div",{className:"absolute -right-8 -top-8 h-48 w-48 opacity-[0.05]",children:c.jsx(Ot,{className:"h-full w-full text-emerald-500"})})]})}function GZ({challenges:t,completedCount:e,totalCount:n,className:r}){const s=e/n*100;return c.jsxs(Sh,{theme:"green",className:se("group relative overflow-hidden",r),children:[c.jsxs("div",{className:"relative z-10 space-y-6 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Daily Challenges"}),c.jsxs("p",{className:"text-[#B3B3B3]",children:[e," of ",n," challenges completed"]})]}),c.jsx(El,{className:"h-8 w-8 text-emerald-400"})]}),c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(nr,{value:s,className:"h-3 bg-[#1E1E1E]",indicatorClassName:"bg-gradient-to-r from-emerald-500 to-emerald-400"}),c.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_10px_rgba(16,185,129,0.3)] transition-opacity duration-300 group-hover:shadow-[0_0_15px_rgba(16,185,129,0.4)]"})]})}),c.jsx("div",{className:"space-y-4",children:t.map((i,o)=>c.jsxs("div",{className:se("group/item rounded-lg bg-[#1E1E1E] p-4 transition-all",i.completed?"border border-emerald-500/20 bg-emerald-500/5":"hover:bg-emerald-500/10"),children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h4",{className:"font-medium text-white",children:i.title}),i.completed&&c.jsx("div",{className:"rounded-full bg-emerald-500/20 p-1",children:c.jsx(wc,{className:"h-3 w-3 text-emerald-400"})})]}),c.jsx("p",{className:"text-sm text-[#B3B3B3]",children:i.description}),i.timeLeft&&c.jsx("p",{className:"text-sm text-emerald-400",children:i.timeLeft})]}),c.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-emerald-500/10 px-2 py-1 text-sm text-emerald-400",children:[c.jsx(El,{className:"h-4 w-4"}),c.jsxs("span",{children:["+",i.xpReward," XP"]})]})]}),i.progress!==void 0&&c.jsxs("div",{className:"mt-3 space-y-1",children:[c.jsxs("div",{className:"relative",children:[c.jsx(nr,{value:i.progress,className:"h-2 bg-[#1E1E1E]",indicatorClassName:"bg-gradient-to-r from-emerald-500 to-emerald-400"}),c.jsx("div",{className:"absolute inset-0 rounded-full shadow-[0_0_5px_rgba(16,185,129,0.2)] transition-opacity duration-300 group-hover/item:shadow-[0_0_8px_rgba(16,185,129,0.3)]"})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("span",{className:"text-xs text-[#B3B3B3]",children:[i.progress,"%"]})})]})]},o))})]}),c.jsx("div",{className:"absolute -right-8 -top-8 h-48 w-48 opacity-[0.05]",children:c.jsx(El,{className:"h-full w-full text-emerald-500"})})]})}function qZ({currentStreak:t,longestStreak:e,weekActivity:n,className:r}){return c.jsxs(Sh,{theme:"green",className:se("group relative overflow-hidden",r),children:[c.jsxs("div",{className:"relative z-10 space-y-6 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Learning Streak"}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Keep the momentum going!"})]}),c.jsx(fl,{className:"h-8 w-8 text-emerald-400"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"rounded-lg bg-[#1E1E1E] p-4 transition-all hover:bg-emerald-500/10",children:[c.jsx("div",{className:"text-sm text-[#B3B3B3]",children:"Current Streak"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fl,{className:"h-5 w-5 text-emerald-400"}),c.jsx("span",{className:"text-2xl font-bold text-white",children:t}),c.jsx("span",{className:"text-sm text-[#B3B3B3]",children:"days"})]})]}),c.jsxs("div",{className:"rounded-lg bg-[#1E1E1E] p-4 transition-all hover:bg-emerald-500/10",children:[c.jsx("div",{className:"text-sm text-[#B3B3B3]",children:"Longest Streak"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fl,{className:"h-5 w-5 text-emerald-400"}),c.jsx("span",{className:"text-2xl font-bold text-white",children:e}),c.jsx("span",{className:"text-sm text-[#B3B3B3]",children:"days"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"mb-4 font-medium text-white",children:"Weekly Activity"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:n.map((s,i)=>c.jsxs("div",{className:"space-y-2 text-center",children:[c.jsx("div",{className:se("mx-auto h-8 w-8 rounded-lg transition-all",s.active?"bg-gradient-to-r from-emerald-500 to-emerald-400 shadow-[0_0_10px_rgba(16,185,129,0.3)]":"bg-[#1E1E1E]")}),c.jsx("span",{className:"text-xs text-[#B3B3B3]",children:s.day})]},i))})]})]}),c.jsx("div",{className:"absolute -right-8 -top-8 h-48 w-48 opacity-[0.05]",children:c.jsx(fl,{className:"h-full w-full text-emerald-500"})})]})}function kf({title:t,value:e,subtitle:n,icon:r,theme:s="green",className:i}){const o=a=>{const l={green:"text-emerald-400 bg-emerald-500/10",blue:"text-blue-400 bg-blue-500/10",purple:"text-purple-400 bg-purple-500/10",orange:"text-orange-400 bg-orange-500/10"};return l[a]||l.green};return c.jsx(Sh,{theme:s,className:se("group",i),children:c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:"text-2xl font-semibold text-white group-hover:text-white transition-colors",children:e}),c.jsx("p",{className:"text-[#B3B3B3] group-hover:text-[#B3B3B3] transition-colors",children:t})]}),c.jsx("div",{className:se("flex h-14 w-14 items-center justify-center rounded-2xl transition-colors duration-300","bg-[#252525]/40 border border-white/5","group-hover:bg-[#252525]",{"group-hover:border-emerald-500/30":s==="green","group-hover:border-blue-500/30":s==="blue","group-hover:border-purple-500/30":s==="purple","group-hover:border-orange-500/30":s==="orange"},o(s)),children:c.jsx(r,{className:"h-7 w-7"})})]}),c.jsx("p",{className:"text-sm text-[#B3B3B3] group-hover:text-[#B3B3B3] transition-colors",children:n})]})})}function WZ(){const t=g.useRef(null),[e,n]=g.useState(!1),[r,s]=g.useState({x:0,y:0}),[i,o]=g.useState(0);return{divRef:t,position:r,opacity:i,handlers:{onMouseMove:f=>{if(!t.current||e)return;const m=t.current.getBoundingClientRect();s({x:f.clientX-m.left,y:f.clientY-m.top})},onFocus:()=>{n(!0),o(.6)},onBlur:()=>{n(!1),o(0)},onMouseEnter:()=>{o(.6)},onMouseLeave:()=>{o(0)}}}}function HZ({title:t,description:e,icon:n,iconColor:r="#1DB954",iconBgColor:s="rgba(29, 185, 84, 0.1)",onClick:i,className:o,style:a,borderGlow:l}){const{divRef:u,position:h,opacity:p,handlers:f}=WZ();return c.jsxs("div",{ref:u,...f,onClick:i,className:`group relative overflow-hidden rounded-lg p-8 transition-all duration-300 hover:-translate-y-2 h-[300px] border border-[#333333] hover:border-[rgba(16,185,129,0.5)] ${o}`,style:{...a,background:"linear-gradient(145deg, rgba(30, 30, 30, 0.9), rgba(20, 20, 20, 0.95))",backdropFilter:"blur(10px)",boxShadow:"0 4px 24px -4px rgba(0, 0, 0, 0.3)"},children:[c.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-500",style:{opacity:p,background:`radial-gradient(600px circle at ${h.x}px ${h.y}px, ${l||"rgba(16,185,129,0.15)"}, transparent 40%)`}}),c.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[c.jsxs("div",{children:[c.jsx("div",{className:"mb-6 flex h-14 w-14 items-center justify-center rounded-xl transition-colors duration-300 group-hover:bg-[rgba(16,185,129,0.15)]",style:{backgroundColor:"rgba(30, 30, 30, 0.8)",border:"1px solid rgba(51, 51, 51, 0.8)"},children:n}),c.jsx("h3",{className:"mb-2 text-xl font-semibold text-white group-hover:text-emerald-400 transition-colors duration-300",children:t}),c.jsx("p",{className:"text-[#B3B3B3] text-sm leading-relaxed",children:e})]}),c.jsx("div",{className:"mt-auto pt-6",children:c.jsxs("button",{className:"inline-flex items-center text-[#B3B3B3] hover:text-emerald-400 transition-colors duration-300",children:[c.jsx("span",{className:"mr-2",children:"Get Started"}),c.jsx("svg",{className:"h-4 w-4 transform transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]}),c.jsx("div",{className:"absolute -right-8 -top-8 h-48 w-48 opacity-[0.03] transition-opacity duration-300 group-hover:opacity-[0.05]",children:c.jsx("div",{className:"h-full w-full",style:{color:r},children:n})}),c.jsx("div",{className:"absolute inset-0 rounded-lg transition-opacity duration-500 group-hover:opacity-100 opacity-0",style:{boxShadow:`inset 0 0 0 1px ${l||"rgba(255, 255, 255, 0.1)"}`}})]})}function KZ(){const t=ht(),e=[{title:"Flashcards",description:"Create and study with interactive flashcards. Perfect for memorization and quick review.",icon:c.jsx(Rs,{className:"w-7 h-7 text-[#60DFFF]"}),path:"/flashcards",borderGlow:"rgba(96, 223, 255, 0.2)"},{title:"Quiz",description:"Test your knowledge with targeted quizzes. Track your progress and identify areas for improvement.",icon:c.jsx(Gg,{className:"w-7 h-7 text-emerald-400"}),path:"/quiz",borderGlow:"rgba(16, 185, 129, 0.2)"},{title:"Mock Tests",description:"Practice with full-length mock exams. Get exam-ready with timed tests and detailed analysis.",icon:c.jsx(wO,{className:"w-7 h-7 text-purple-400"}),path:"/mock-test",borderGlow:"rgba(167, 139, 250, 0.2)"},{title:"Summary Generator",description:"Generate concise summaries of your study material. Save time and focus on key concepts.",icon:c.jsx(H8,{className:"w-7 h-7 text-orange-400"}),path:"/summary",borderGlow:"rgba(251, 146, 60, 0.2)"}];return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(n=>c.jsx(HZ,{title:n.title,description:n.description,icon:n.icon,borderGlow:n.borderGlow,onClick:()=>t(n.path)},n.title))})}const fr=[{id:1,name:"Lee Taeyong",xp:258244,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=1"},{id:2,name:"Mark Lee",xp:258242,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=2"},{id:3,name:"Xiao Dejun",xp:258223,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=3"},{id:4,name:"Liu YangYang",xp:257890,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=4"},{id:5,name:"Qian Kun",xp:257456,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=5"}],QZ=["John Smith","Emma Davis","Michael Chen","Sarah Wilson","David Kim","Lisa Park","James Brown","Maria Garcia","Robert Lee","Anna Wang","Thomas Nguyen","Jennifer Wu","William Liu","Elizabeth Zhang","Richard Tan","Jessica Lin","Daniel Wong","Michelle Zhao","Kevin Choi","Rachel Kim","Joseph Park","Emily Chen","Christopher Lee","Amanda Liu","Brian Wang","Sophie Zhang","Ryan Wu","Olivia Yang","Justin Chen","Grace Kim","Steven Park","Catherine Lee","Matthew Wong","Victoria Lin","Andrew Liu","Hannah Chen","Benjamin Kim","Samantha Wu","Alexander Park","Nicole Zhang"],YZ=Array(40).fill(null).map((t,e)=>e<fr.length?fr[e]:{id:e+1,name:QZ[e],xp:Math.floor(257e3-e*1e3),avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e+1}`});function JZ(){const[t,e]=g.useState(!1),n=r=>{switch(r){case 1:return"bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 text-yellow-400";case 2:return"bg-gradient-to-r from-gray-300/20 to-gray-400/20 text-gray-300";case 3:return"bg-gradient-to-r from-amber-600/20 to-amber-700/20 text-amber-600";default:return"bg-[#252525]/40 text-[#B3B3B3]"}};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"rounded-xl border border-white/5 bg-[#252525]/40 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{className:"h-5 w-5 text-[#B3B3B3]"}),c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Leaderboard"})]}),c.jsx(ee,{variant:"link",className:"text-[#B3B3B3] hover:text-white",onClick:()=>e(!0),children:"View Full Ranking"})]}),c.jsx("div",{className:"space-y-4",children:fr.map((r,s)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/5 hover:border-purple-500/30 bg-[#252525]/40 hover:bg-[#252525] transition-all",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[c.jsx("div",{className:n(s+1)+" flex h-8 w-8 items-center justify-center rounded-xl font-semibold shrink-0",children:s+1}),c.jsx("img",{src:r.avatar,alt:r.name,className:"h-8 w-8 rounded-xl bg-[#252525]/40 shrink-0"}),c.jsx("div",{className:"overflow-x-auto min-w-0",children:c.jsx("span",{className:"font-medium text-white whitespace-nowrap",children:r.name})})]}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-4",children:[c.jsx(Ot,{className:"h-4 w-4 text-[#B3B3B3]"}),c.jsxs("span",{className:"text-[#B3B3B3] whitespace-nowrap",children:[r.xp.toLocaleString()," XP"]})]})]},r.id))})]}),c.jsx(Jm,{open:t,onOpenChange:e,children:c.jsx(Yd,{className:"!rounded-[32px] bg-[#252525]/40 border-white/5 p-6 max-w-2xl max-h-[80vh] rounded-3xl",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-[#252525]/40 border border-white/5",children:c.jsx(Ot,{className:"h-6 w-6 text-[#B3B3B3]"})}),c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Full Leaderboard"})]}),c.jsx("div",{className:"space-y-3 overflow-y-auto max-h-[60vh] pr-2",children:YZ.map((r,s)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl border border-white/5 hover:border-white/10 bg-[#252525]/40 hover:bg-[#252525] transition-all",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[c.jsx("div",{className:n(s+1)+" flex h-8 w-8 items-center justify-center rounded-xl font-semibold shrink-0",children:s+1}),c.jsx("img",{src:r.avatar,alt:r.name,className:"h-8 w-8 rounded-xl bg-[#252525]/40 shrink-0"}),c.jsx("div",{className:"overflow-x-auto min-w-0",children:c.jsx("span",{className:"font-medium text-white whitespace-nowrap",children:r.name})})]}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-4",children:[c.jsx(Ot,{className:"h-4 w-4 text-[#B3B3B3]"}),c.jsxs("span",{className:"text-[#B3B3B3] whitespace-nowrap",children:[r.xp.toLocaleString()," XP"]})]})]},r.id))})]})})})]})}function q1(t,[e,n]){return Math.min(n,Math.max(e,t))}function XZ(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var W1="ScrollArea",[h4,_ce]=Ls(W1),[ZZ,ir]=h4(W1),f4=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=g.useState(null),[u,h]=g.useState(null),[p,f]=g.useState(null),[m,y]=g.useState(null),[x,E]=g.useState(null),[w,b]=g.useState(0),[_,C]=g.useState(0),[O,M]=g.useState(!1),[P,S]=g.useState(!1),I=Ne(e,N=>l(N)),A=ch(s);return c.jsx(ZZ,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:h,content:p,onContentChange:f,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:O,onScrollbarXEnabledChange:M,scrollbarY:x,onScrollbarYChange:E,scrollbarYEnabled:P,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:C,children:c.jsx(ve.div,{dir:A,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});f4.displayName=W1;var p4="ScrollAreaViewport",m4=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...o}=t,a=ir(p4,n),l=g.useRef(null),u=Ne(e,l,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),c.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:cee({asChild:s,children:r},h=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:h}))})]})});m4.displayName=p4;var es="ScrollAreaScrollbar",H1=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ir(es,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?c.jsx(eee,{...r,ref:e,forceMount:n}):s.type==="scroll"?c.jsx(tee,{...r,ref:e,forceMount:n}):s.type==="auto"?c.jsx(g4,{...r,ref:e,forceMount:n}):s.type==="always"?c.jsx(K1,{...r,ref:e}):null});H1.displayName=es;var eee=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ir(es,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},h=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(fn,{present:n||i,children:c.jsx(g4,{"data-state":i?"visible":"hidden",...r,ref:e})})}),tee=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ir(es,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Ov(()=>l("SCROLL_END"),100),[a,l]=XZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),g.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let p=u[h];const f=()=>{const m=u[h];p!==m&&(l("SCROLL"),o()),p=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,l,o]),c.jsx(fn,{present:n||a!=="hidden",children:c.jsx(K1,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ie(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ie(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),g4=g.forwardRef((t,e)=>{const n=ir(es,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),a=t.orientation==="horizontal",l=Ov(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:h)}},10);return ac(n.viewport,l),ac(n.content,l),c.jsx(fn,{present:r||i,children:c.jsx(K1,{"data-state":i?"visible":"hidden",...s,ref:e})})}),K1=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=ir(es,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,l]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_4(a.viewport,a.content),h={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function p(f,m){return aee(f,o.current,a,m)}return n==="horizontal"?c.jsx(nee,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=tC(f,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=p(f,s.dir))}}):n==="vertical"?c.jsx(ree,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=tC(f,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=p(f))}}):null}),nee=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ir(es,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=Ne(e,l,i.onScrollbarXChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(y4,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kv(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(i.viewport){const f=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),E4(f,p)&&h.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:tg(o.paddingLeft),paddingEnd:tg(o.paddingRight)}})}})}),ree=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ir(es,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),u=Ne(e,l,i.onScrollbarYChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(y4,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kv(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(i.viewport){const f=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),E4(f,p)&&h.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:tg(o.paddingTop),paddingEnd:tg(o.paddingBottom)}})}})}),[see,v4]=h4(es),y4=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:h,onResize:p,...f}=t,m=ir(es,n),[y,x]=g.useState(null),E=Ne(e,I=>x(I)),w=g.useRef(null),b=g.useRef(""),_=m.viewport,C=r.content-r.viewport,O=St(h),M=St(l),P=Ov(p,10);function S(I){if(w.current){const A=I.clientX-w.current.left,N=I.clientY-w.current.top;u({x:A,y:N})}}return g.useEffect(()=>{const I=A=>{const N=A.target;(y==null?void 0:y.contains(N))&&O(A,C)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[_,y,C,O]),g.useEffect(M,[r,M]),ac(y,P),ac(m.content,P),c.jsx(see,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:St(i),onThumbPointerUp:St(o),onThumbPositionChange:M,onThumbPointerDown:St(a),children:c.jsx(ve.div,{...f,ref:E,style:{position:"absolute",...f.style},onPointerDown:ie(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),w.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(I))}),onPointerMove:ie(t.onPointerMove,S),onPointerUp:ie(t.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),eg="ScrollAreaThumb",w4=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=v4(eg,t.__scopeScrollArea);return c.jsx(fn,{present:n||s.hasThumb,children:c.jsx(iee,{ref:e,...r})})}),iee=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=ir(eg,n),o=v4(eg,n),{onThumbPositionChange:a}=o,l=Ne(e,p=>o.onThumbChange(p)),u=g.useRef(),h=Ov(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const p=i.viewport;if(p){const f=()=>{if(h(),!u.current){const m=lee(p,a);u.current=m,a()}};return a(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[i.viewport,h,a]),c.jsx(ve.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ie(t.onPointerDownCapture,p=>{const m=p.target.getBoundingClientRect(),y=p.clientX-m.left,x=p.clientY-m.top;o.onThumbPointerDown({x:y,y:x})}),onPointerUp:ie(t.onPointerUp,o.onThumbPointerUp)})});w4.displayName=eg;var Q1="ScrollAreaCorner",x4=g.forwardRef((t,e)=>{const n=ir(Q1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(oee,{...t,ref:e}):null});x4.displayName=Q1;var oee=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=ir(Q1,n),[i,o]=g.useState(0),[a,l]=g.useState(0),u=!!(i&&a);return ac(s.scrollbarX,()=>{var p;const h=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(h),l(h)}),ac(s.scrollbarY,()=>{var p;const h=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(h),o(h)}),u?c.jsx(ve.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tg(t){return t?parseInt(t,10):0}function _4(t,e){const n=t/e;return isNaN(n)?0:n}function kv(t){const e=_4(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function aee(t,e,n,r="ltr"){const s=kv(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,h=n.content-n.viewport,p=r==="ltr"?[0,h]:[h*-1,0];return b4([l,u],p)(t)}function tC(t,e,n="ltr"){const r=kv(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=q1(t,l);return b4([0,o],[0,a])(u)}function b4(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function E4(t,e){return t>0&&t<e}var lee=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ov(t,e){const n=St(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ac(t,e){const n=St(e);Kr(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function cee(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=g.Children.only(r);return g.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var T4=f4,uee=m4,dee=x4;const S4=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(T4,{ref:r,className:se("relative overflow-hidden",t),...n,children:[c.jsx(uee,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(P4,{}),c.jsx(dee,{})]}));S4.displayName=T4.displayName;const P4=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>c.jsx(H1,{ref:r,orientation:e,className:se("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:c.jsx(w4,{className:"relative flex-1 rounded-full bg-border"})}));P4.displayName=H1.displayName;var nC;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(nC||(nC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rC;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(rC||(rC={}));var sC;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(sC||(sC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=["user","model","function","system"];var oC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(oC||(oC={}));var aC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(aC||(aC={}));var lC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(lC||(lC={}));var cC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(cC||(cC={}));var ad;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(ad||(ad={}));var uC;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(uC||(uC={}));var dC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(dC||(dC={}));var hC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hC||(hC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ma extends vn{constructor(e,n){super(e),this.response=n}}class I4 extends vn{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class $i extends vn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hee="https://generativelanguage.googleapis.com",fee="v1beta",pee="0.21.0",mee="genai-js";var fa;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(fa||(fa={}));class gee{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||fee;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||hee}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function vee(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${mee}/${pee}`),e.join(" ")}async function yee(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",vee(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new $i(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new $i(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new $i(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function wee(t,e,n,r,s,i){const o=new gee(t,e,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Eee(i)),{method:"POST",headers:await yee(o),body:s})}}async function Ph(t,e,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await wee(t,e,n,r,s,i);return xee(a,l,o)}async function xee(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){_ee(s,t)}return r.ok||await bee(r,t),r}function _ee(t,e){let n=t;throw t instanceof I4||t instanceof $i||(n=new vn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function bee(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new I4(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Eee(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Fp(t.candidates[0]))throw new Ma(`${li(t)}`,t);return Tee(t)}else if(t.promptFeedback)throw new Ma(`Text not available. ${li(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fp(t.candidates[0]))throw new Ma(`${li(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),fC(t)[0]}else if(t.promptFeedback)throw new Ma(`Function call not available. ${li(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fp(t.candidates[0]))throw new Ma(`${li(t)}`,t);return fC(t)}else if(t.promptFeedback)throw new Ma(`Function call not available. ${li(t)}`,t)},t}function Tee(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function fC(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const See=[ad.RECITATION,ad.SAFETY,ad.LANGUAGE];function Fp(t){return!!t.finishReason&&See.includes(t.finishReason)}function li(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];Fp(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Jd(t){return this instanceof Jd?(this.v=t,this):new Jd(t)}function Pee(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(m){return new Promise(function(y,x){i.push([f,m,y,x])>1||a(f,m)})})}function a(f,m){try{l(r[f](m))}catch(y){p(i[0][3],y)}}function l(f){f.value instanceof Jd?Promise.resolve(f.value.v).then(u,h):p(i[0][2],f)}function u(f){a("next",f)}function h(f){a("throw",f)}function p(f,m){f(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Iee(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Ree(e),[r,s]=n.tee();return{stream:Aee(r),response:Cee(s)}}async function Cee(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Y1(Nee(e));e.push(s)}}function Aee(t){return Pee(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Jd(n.read());if(s)break;yield yield Jd(Y1(r))}})}function Ree(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new vn("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(pC),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new vn(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(pC)}return i()})}}})}function Nee(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[i].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e,n,r){const s=await Ph(e,fa.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Iee(s)}async function A4(t,e,n,r){const i=await(await Ph(e,fa.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Y1(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Xd(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return kee(e)}function kee(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new vn("No content is provided for sending chat message.");return r?e:n}function Oee(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new $i("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=Xd(t);r.contents=[i]}return{generateContentRequest:r}}function mC(t){let e;return t.contents?e=t:e={contents:[Xd(t)]},t.systemInstruction&&(e.systemInstruction=R4(t.systemInstruction)),e}function Dee(t){return typeof t=="string"||Array.isArray(t)?{content:Xd(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],jee={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Mee(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new vn(`First content should be with role 'user', got ${r}`);if(!iC.includes(r))throw new vn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(iC)}`);if(!Array.isArray(s))throw new vn("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new vn("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of gC)l in a&&(i[l]+=1);const o=jee[r];for(const a of gC)if(!o.includes(a)&&i[a]>0)throw new vn(`Content with role '${r}' can't contain '${a}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="SILENT_ERROR";class Lee{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Mee(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=Xd(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>A4(this._apiKey,this.model,h,p)).then(m=>{var y;if(m.response.candidates&&m.response.candidates.length>0){this._history.push(u);const x=Object.assign({parts:[],role:"model"},(y=m.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(x)}else{const x=li(m.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}f=m}),await this._sendPromise,f}async sendMessageStream(e,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=Xd(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n),f=C4(this._apiKey,this.model,h,p);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(vC)}).then(m=>m.response).then(m=>{if(m.candidates&&m.candidates.length>0){this._history.push(u);const y=Object.assign({},m.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=li(m);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(m=>{m.message!==vC&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vee(t,e,n,r){return(await Ph(e,fa.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fee(t,e,n,r){return(await Ph(e,fa.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function $ee(t,e,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Ph(e,fa.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=R4(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=mC(e),i=Object.assign(Object.assign({},this._requestOptions),n);return A4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(e,n={}){var r;const s=mC(e),i=Object.assign(Object.assign({},this._requestOptions),n);return C4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(e){var n;return new Lee(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Oee(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return Vee(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=Dee(e),s=Object.assign(Object.assign({},this._requestOptions),n);return Fee(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return $ee(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new yC(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new $i("Cached content must contain a `name` field.");if(!e.model)throw new $i("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new $i(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new yC(this.apiKey,i,r)}}const Uee=new Dv("AIzaSyDiItOTczdKCepW0lK00uOWPT0_Hnxeil0"),Bee=Uee.getGenerativeModel({model:"gemini-1.5-flash"});async function N4(t){try{console.log("Sending to Gemini:",t);const r=(await(await Bee.generateContent(t)).response).text();return console.log("Received from Gemini:",r),r}catch(e){return console.error("Error:",e),"I'm having trouble right now. Please try again."}}const zee=[{icon:c.jsx(vO,{className:"h-3 w-3"}),text:"Help me understand React hooks",category:"Development"},{icon:c.jsx(EO,{className:"h-3 w-3"}),text:"Explain blockchain technology",category:"Technology"},{icon:c.jsx(Rs,{className:"h-3 w-3"}),text:"What are design patterns?",category:"Concepts"},{icon:c.jsx(Eb,{className:"h-3 w-3"}),text:"How to improve code quality?",category:"Best Practices"}],Gee=[{icon:c.jsx(Zo,{className:"h-5 w-5"}),title:"Learning Concepts",description:"Clear explanations of complex topics"},{icon:c.jsx(vO,{className:"h-5 w-5"}),title:"Code Help",description:"Debug and improve your code"},{icon:c.jsx(Rs,{className:"h-5 w-5"}),title:"Problem Solving",description:"Step-by-step solution guidance"},{icon:c.jsx(EO,{className:"h-5 w-5"}),title:"Best Practices",description:"Industry-standard recommendations"}];function k4({className:t,position:e="bottom-right"}){const[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,a]=g.useState([{role:"assistant",content:"👋 Hi! I'm Chitti, your AI learning assistant powered by Gemini.",timestamp:new Date}]),[l,u]=g.useState(""),[h,p]=g.useState(!1),f=g.useRef(null);g.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[o]);const m=_=>{if(_.startsWith("❌")||_.startsWith("🔄")||_.startsWith("👋"))return _;const C=S=>{let I=S;return I=I.replace(/^([^:]+):/g,"**$1**:"),I=I.replace(/\(([^)]+)\)/g,"(**$1**)"),["Creational Patterns","Structural Patterns","Behavioral Patterns","Singleton","Factory Method","Abstract Factory","Adapter","Decorator","Facade","Observer","Strategy","Command"].forEach(N=>{const j=new RegExp(`\\b${N}\\b(?![^<]*>)`,"g");I=I.replace(j,`**${N}**`)}),I=I.replace(/\*{4}/g,"**"),I=I.replace(/\*\*\s*\*\*/g,"**"),I},O=_.split(`
`);let M=1,P=!1;return O.map(S=>{const I=S.trim();if(!I)return P=!1,"";if(I.includes("patterns are usually categorized")||I.startsWith("These patterns")||I.startsWith("It's important"))return P=!1,`
${I}`;let A=I.replace(/^[\d.)\]]+\s*/,"").trim();return A=C(A),A.includes("**")||P?(P=!0,`${M++}. ${A}`):A}).join(`
`).replace(/\n{3,}/g,`

`)},y=async _=>{if(!_.trim()||h)return;const C={role:"user",content:_.trim(),timestamp:new Date};a(O=>[...O,C]),u(""),p(!0);try{const M=await N4(_.trim(),"Please provide your responses in plain text with numbered points. Use colons to separate concepts from their explanations. Don't use any special formatting or markdown."),P={role:"assistant",content:m(M),timestamp:new Date};a(S=>[...S,P])}catch(O){console.error("Error:",O),a(M=>[...M,{role:"assistant",content:"❌ Sorry, I encountered an error. Please try again.",timestamp:new Date}])}finally{p(!1)}},x=_=>{_.preventDefault(),y(l)},E=()=>{a([{role:"assistant",content:"🔄 Chat cleared. How can I help you?",timestamp:new Date}])},w={"top-right":"top-4 right-4","bottom-right":"bottom-4 right-4"},b=_=>_.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return c.jsxs(c.Fragment,{children:[c.jsx(ku,{children:c.jsxs(gf,{children:[c.jsx(vf,{asChild:!0,children:c.jsx(ee,{onClick:()=>r(!0),className:se("fixed h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-primary to-primary/80 hover:scale-110",w[e],t),size:"icon",children:c.jsx(gs,{className:"h-7 w-7 text-primary-foreground"})})}),c.jsx(Ou,{children:c.jsx("p",{children:"Chat with Chitti AI"})})]})}),c.jsx(Jm,{open:n,onOpenChange:r,children:c.jsxs(Yd,{className:se("flex flex-col gap-0 p-0 rounded-xl transition-all duration-300",s?"w-screen h-screen max-w-none !max-h-none rounded-none":"sm:max-w-[500px] h-[700px]"),children:[c.jsx(Xm,{className:"p-6 pb-4 border-b bg-gradient-to-r from-primary/10 to-primary/5",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary to-primary/50 rounded-full blur opacity-75"}),c.jsx(gs,{className:"h-8 w-8 text-primary-foreground relative"})]}),c.jsxs("div",{children:[c.jsxs(Zm,{className:"flex items-center gap-2 text-xl",children:["Chitti AI",c.jsxs(Fi,{variant:"secondary",className:"ml-2 bg-primary/10",children:[c.jsx(TO,{className:"h-3 w-3 mr-1 text-primary"}),"Gemini"]})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your intelligent learning companion"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ku,{children:c.jsxs(gf,{children:[c.jsx(vf,{asChild:!0,children:c.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10",onClick:E,children:c.jsx(W8,{className:"h-4 w-4"})})}),c.jsx(Ou,{children:c.jsx("p",{children:"Clear chat"})})]})}),c.jsx(ku,{children:c.jsxs(gf,{children:[c.jsx(vf,{asChild:!0,children:c.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10",onClick:()=>i(!s),children:s?c.jsx(iG,{className:"h-4 w-4"}):c.jsx(tG,{className:"h-4 w-4"})})}),c.jsx(Ou,{children:c.jsx("p",{children:s?"Minimize":"Maximize"})})]})}),c.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10",onClick:()=>{r(!1),i(!1)},children:c.jsx(qg,{className:"h-4 w-4"})})]})]})}),o.length===1&&c.jsxs("div",{className:"p-6 border-b bg-gradient-to-r from-primary/5 to-transparent",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"I can help you with:"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:Gee.map((_,C)=>c.jsx(Pe,{className:"p-4 hover:bg-primary/5 transition-colors cursor-pointer",onClick:()=>y(`Tell me about ${_.title}`),children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"text-primary",children:_.icon}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:_.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]})]})},C))})]}),c.jsx(S4,{className:"flex-1 p-6",ref:f,children:c.jsxs("div",{className:"space-y-6",children:[o.map((_,C)=>c.jsxs("div",{className:se("flex flex-col gap-2",_.role==="user"?"items-end":"items-start"),children:[c.jsxs("div",{className:se("flex items-start gap-3 max-w-[85%] group",_.role==="user"?"flex-row-reverse":"flex-row"),children:[c.jsx("div",{className:se("h-9 w-9 rounded-full flex items-center justify-center",_.role==="user"?"bg-gradient-to-r from-primary to-primary/80":"bg-gradient-to-r from-secondary to-secondary/80"),children:_.role==="user"?c.jsx(nG,{className:"h-5 w-5 text-primary-foreground"}):c.jsx(gs,{className:"h-5 w-5"})}),c.jsx("div",{className:se("rounded-2xl px-4 py-2.5 text-sm leading-relaxed whitespace-pre-wrap",_.role==="user"?"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground":"bg-secondary"),children:_.content})]}),c.jsx("span",{className:"text-xs text-muted-foreground px-12",children:b(_.timestamp)})]},C)),h&&c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-secondary to-secondary/80 flex items-center justify-center",children:c.jsx(gs,{className:"h-5 w-5"})}),c.jsx("div",{className:"bg-secondary rounded-2xl px-4 py-2.5 text-sm",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lG,{className:"h-4 w-4 animate-spin"}),"Thinking..."]})})]})]})}),o.length===1&&c.jsxs("div",{className:"px-6 py-4 border-t bg-gradient-to-r from-primary/5 to-transparent",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Quick questions:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:zee.map((_,C)=>c.jsxs(ee,{variant:"outline",className:"text-sm bg-background hover:bg-primary/5",onClick:()=>y(_.text),children:[_.icon,c.jsx("span",{className:"ml-2",children:_.text}),c.jsx(Fi,{variant:"secondary",className:"ml-2 bg-primary/10",children:_.category})]},C))})]}),c.jsxs("form",{onSubmit:x,className:se("border-t p-4 flex gap-2 items-center bg-gradient-to-r from-primary/5 to-transparent",s&&"px-6"),children:[c.jsx(Ft,{placeholder:"Ask me anything...",value:l,onChange:_=>u(_.target.value),className:"flex-1 bg-background border-primary/20 focus-visible:ring-primary/20"}),c.jsx(ku,{children:c.jsxs(gf,{children:[c.jsx(vf,{asChild:!0,children:c.jsx(ee,{type:"submit",size:"icon",disabled:h,className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",children:c.jsx(_b,{className:"h-4 w-4 text-primary-foreground"})})}),c.jsx(Ou,{children:c.jsx("p",{children:"Send message"})})]})})]})]})})]})}const qee=[{id:1,title:"Web Development Fundamentals",description:"Learn the basics of web development, including HTML, CSS, and JavaScript.",progress:0,image:"https://images.unsplash.com/photo-1547658719-da2b51169166?auto=format&fit=crop&w=800&q=80",path:"/courses/web-development",chapters:4,duration:"8 hours",xp:2600},{id:2,title:"Data Structures and Algorithms",description:"Master the fundamental data structures and algorithms.",progress:0,image:"https://images.unsplash.com/photo-1516116216624-53e697fedbea?auto=format&fit=crop&w=800&q=80",path:"/courses/data-structures-and-algorithms",chapters:4,duration:"10 hours",xp:2600},{id:3,title:"Machine Learning Basics",description:"Introduction to machine learning concepts and algorithms.",progress:0,image:"https://images.unsplash.com/photo-1527430253228-e93688616381?auto=format&fit=crop&w=800&q=80",path:"/courses/machine-learning-basics",chapters:4,duration:"12 hours",xp:2600},{id:4,title:"System Design",description:"Learn how to design scalable systems and architectures.",progress:0,image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=800&q=80",path:"/courses/system-design",chapters:4,duration:"10 hours",xp:2600}];function Wee({course:t,className:e}){const n=ht(),r=()=>{n(t.path)};return c.jsx(Sh,{theme:"teal",className:se("group h-full cursor-pointer transition-all hover:scale-[1.02]",e),onClick:r,children:c.jsxs("div",{className:"flex h-full flex-col gap-4",children:[c.jsxs("div",{className:"relative h-48 overflow-hidden rounded-lg",children:[c.jsx("img",{src:t.image,alt:t.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),t.progress>0&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#1E1E1E]",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-[#2DD4BF] to-[#14B8A6]",style:{width:`${t.progress}%`}})})]}),c.jsxs("div",{className:"flex flex-1 flex-col gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:t.title}),c.jsx("p",{className:"text-sm text-[#B3B3B3]",children:t.description})]}),c.jsxs("div",{className:"mt-auto flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1 text-sm text-[#B3B3B3]",children:[c.jsx(Zo,{className:"h-4 w-4"}),c.jsxs("span",{children:[t.chapters," chapters"]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-[#B3B3B3]",children:[c.jsx(zg,{className:"h-4 w-4"}),c.jsx("span",{children:t.duration})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-1 rounded-full bg-[#2DD4BF]/20 px-2 py-1 text-sm text-[#2DD4BF]",children:[c.jsx(Eb,{className:"h-4 w-4"}),c.jsxs("span",{children:["+",t.xp," XP"]})]})]})]})]})})}function Hee(){const t=ht(),{user:e}=sr(),n=0,r=0,s=0,i=0,o=100,a=()=>{t("/courses")};return c.jsxs("div",{className:"container space-y-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:["Welcome back, ",e==null?void 0:e.displayName,"!"]}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Track your progress and keep learning"})]}),c.jsx(k4,{position:"top-right",className:"relative h-10 w-10 top-0 right-0"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsx(kf,{title:"Total XP",value:n,subtitle:"Experience Points",icon:Ot,theme:"green"}),c.jsx(kf,{title:"Daily Streak",value:s,subtitle:"Days",icon:fl,theme:"orange"}),c.jsx(kf,{title:"Courses Completed",value:i,subtitle:"Courses",icon:_O,theme:"purple"}),c.jsx(kf,{title:"Daily Goal",value:`${Math.min(n,o)}/${o}`,subtitle:"XP Today",icon:Gg,theme:"blue"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Learning Tools"}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Choose your learning method"})]}),c.jsx(KZ,{})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsx(zZ,{currentXP:n,requiredXP:1e3,level:r,className:"w-full"}),c.jsx(JZ,{})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[c.jsx(GZ,{challenges:[{title:"Complete Python Basics",description:"Finish Chapter 1 of Python course",xpReward:200,progress:75,timeLeft:"2 hours left"},{title:"Daily Quiz Challenge",description:"Score 80% or higher on today's quiz",xpReward:150,completed:!0},{title:"Practice Problems",description:"Complete 5 practice problems",xpReward:300}],completedCount:3,totalCount:5,className:"w-full"}),c.jsx(qZ,{currentStreak:s,longestStreak:s,weekActivity:[{day:"Mon",active:!1},{day:"Tue",active:!1},{day:"Wed",active:!0},{day:"Thu",active:!0},{day:"Fri",active:!0},{day:"Sat",active:!1},{day:"Sun",active:!0}],className:"w-full"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Featured Courses"}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Continue learning with these recommended courses"})]}),c.jsx(Fi,{variant:"outline",className:"cursor-pointer hover:bg-[#2DD4BF]/10",onClick:a,children:"View All"})]}),c.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:qee.map(l=>c.jsx(Wee,{course:l},l.id))})]})]})}const ou=Array(50).fill(null).map((t,e)=>({id:e<fr.length?fr[e].id:`user-${e+1}`,name:e<fr.length?fr[e].name:`Player ${e+1} with a very long name that should scroll horizontally`,xp:e<fr.length?fr[e].xp:Math.floor(2e4-e*300),avatar:e<fr.length?fr[e].avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`}));function Kee(){const t=ht(),e=n=>{switch(n){case 1:return"bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 text-yellow-400";case 2:return"bg-gradient-to-r from-gray-300/20 to-gray-400/20 text-gray-300";case 3:return"bg-gradient-to-r from-amber-600/20 to-amber-700/20 text-amber-600";default:return"bg-[#252525]/40 text-[#B3B3B3]"}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0F0F0F] to-[#151515] text-white",children:c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-[#B3B3B3] hover:text-white transition-colors mb-4",children:[c.jsx(M8,{className:"w-5 h-5"}),"Back"]}),c.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboard"}),c.jsx("p",{className:"text-[#B3B3B3] mt-2",children:"View all top performers"})]}),c.jsxs("div",{className:"mb-8 p-6 rounded-xl border border-white/5 bg-[#252525]/40",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick View"}),c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl border border-white/5 bg-[#252525]/40",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl font-semibold shrink-0 bg-yellow-400/20 text-yellow-400",children:"1"}),c.jsx("img",{src:ou[0].avatar,alt:ou[0].name,className:"h-10 w-10 rounded-xl bg-[#252525]/40 shrink-0"}),c.jsx("div",{className:"flex-1 overflow-x-auto min-w-0 scrollbar-thin scrollbar-thumb-purple-500/20 scrollbar-track-transparent",children:c.jsx("div",{className:"flex gap-4 min-w-max px-2",children:ou.map(n=>c.jsx("span",{className:"font-medium text-white whitespace-nowrap",children:n.name},n.id))})}),c.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-4",children:[c.jsx(Ot,{className:"h-5 w-5 text-yellow-400"}),c.jsxs("span",{className:"text-yellow-400 whitespace-nowrap font-semibold",children:[ou[0].xp.toLocaleString()," XP"]})]})]})]}),c.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:ou.map((n,r)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-white/5 hover:border-purple-500/30 bg-[#252525]/40 hover:bg-[#252525] transition-all",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[c.jsx("div",{className:se("flex h-10 w-10 items-center justify-center rounded-xl font-semibold shrink-0",e(r+1)),children:r+1}),c.jsx("img",{src:n.avatar,alt:n.name,className:"h-10 w-10 rounded-xl bg-[#252525]/40 shrink-0"}),c.jsx("div",{className:"overflow-x-auto min-w-0",children:c.jsx("span",{className:"font-medium text-white whitespace-nowrap",children:n.name})})]}),c.jsx("div",{className:"flex items-center gap-2 shrink-0 ml-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{className:"h-5 w-5 text-[#B3B3B3]"}),c.jsxs("span",{className:"text-[#B3B3B3] whitespace-nowrap",children:[n.xp.toLocaleString()," XP"]})]})})]},n.id))})]})})}const Qee={learningStreak:[2,4,3,5,4,6,4],topicPerformance:[{topic:"JavaScript",score:85,total:100},{topic:"React",score:92,total:100},{topic:"TypeScript",score:78,total:100},{topic:"Node.js",score:88,total:100}],weeklyActivity:[{day:"Mon",hours:2.5},{day:"Tue",hours:1.8},{day:"Wed",hours:3.2},{day:"Thu",hours:2},{day:"Fri",hours:2.7},{day:"Sat",hours:4.1},{day:"Sun",hours:3.5}],strengthAreas:[{topic:"Problem Solving",percentage:92},{topic:"Code Quality",percentage:88},{topic:"Debugging",percentage:85},{topic:"Testing",percentage:78}],recentScores:[{quiz:"JavaScript Basics",score:95,date:"2025-01-10"},{quiz:"React Hooks",score:88,date:"2025-01-09"},{quiz:"TypeScript Types",score:92,date:"2025-01-08"},{quiz:"Node.js Fundamentals",score:85,date:"2025-01-07"}]};function Yee(){var i,o,a,l,u,h,p,f,m,y,x,E,w,b,_,C,O;const[t,e]=g.useState(null),[n,r]=g.useState(!0);if(g.useEffect(()=>{(async()=>{try{const P=da.currentUser;if(!P)return;const S=await mL(P.uid);S&&!S.analysis&&(S.analysis=Qee),e(S)}catch(P){console.error("Error loading profile:",P)}finally{r(!1)}})()},[]),n)return c.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."});if(!t)return c.jsx("div",{className:"text-center p-8",children:"Profile not found"});const s=M=>c.jsx("div",{className:"w-full bg-[#2a324b]/40 rounded-2xl h-2",children:c.jsx("div",{className:"bg-emerald-400/80 h-2 rounded-2xl transition-all duration-300",style:{width:`${M}%`}})});return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx(Pe,{className:"p-6 mb-6 bg-[#0B1120] border-0 shadow-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Wg,{className:"w-24 h-24",children:t.profileImage?c.jsx(Hg,{src:t.profileImage,alt:t.name}):c.jsx(Kg,{children:t.name.slice(0,2).toUpperCase()})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:t.name}),c.jsx("p",{className:"text-emerald-400/80",children:t.role}),t.bio&&c.jsx("p",{className:"mt-2 text-gray-400",children:t.bio})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg group hover:bg-[#0d1328] transition-all duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Stats"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover:bg-[#232937] transition-colors duration-300",children:c.jsx(Ot,{className:"text-yellow-500/90 h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Level"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:t.level})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover:bg-[#232937] transition-colors duration-300",children:c.jsx(Zo,{className:"text-blue-400/90 h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Courses"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:((i=t.stats)==null?void 0:i.coursesCompleted)||0})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover:bg-[#232937] transition-colors duration-300",children:c.jsx(Rs,{className:"text-purple-400/90 h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Quizzes"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:((o=t.stats)==null?void 0:o.quizzesTaken)||0})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover:bg-[#232937] transition-colors duration-300",children:c.jsx(fl,{className:"text-orange-400/90 h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Streak"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:((a=t.stats)==null?void 0:a.streak)||0})]})]})]})]}),c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg group hover:bg-[#0d1328] transition-all duration-300",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Connect"}),c.jsxs("div",{className:"space-y-3",children:[((l=t.socials)==null?void 0:l.github)&&c.jsxs("a",{href:t.socials.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group/link",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover/link:bg-[#232937] transition-colors duration-300",children:c.jsx(yO,{className:"h-5 w-5"})}),"GitHub"]}),((u=t.socials)==null?void 0:u.linkedin)&&c.jsxs("a",{href:t.socials.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group/link",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover/link:bg-[#232937] transition-colors duration-300",children:c.jsx(xO,{className:"h-5 w-5 text-blue-400/90"})}),"LinkedIn"]}),((h=t.socials)==null?void 0:h.instagram)&&c.jsxs("a",{href:t.socials.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group/link",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover/link:bg-[#232937] transition-colors duration-300",children:c.jsx(K8,{className:"h-5 w-5 text-pink-400/90"})}),"Instagram"]}),((p=t.socials)==null?void 0:p.twitter)&&c.jsxs("a",{href:t.socials.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors group/link",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432] group-hover/link:bg-[#232937] transition-colors duration-300",children:c.jsx(pG,{className:"h-5 w-5 text-blue-400/90"})}),"Twitter"]}),!((f=t.socials)!=null&&f.github)&&!((m=t.socials)!=null&&m.linkedin)&&!((y=t.socials)!=null&&y.instagram)&&!((x=t.socials)!=null&&x.twitter)&&c.jsx("p",{className:"text-gray-500",children:"No social links added yet"})]})]}),c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg lg:col-span-3",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6 text-white",children:"Learning Analysis"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-white flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432]",children:c.jsx(SO,{className:"text-emerald-400/90 h-5 w-5"})}),"Topic Performance"]}),c.jsx("div",{className:"space-y-4",children:(E=t.analysis)==null?void 0:E.topicPerformance.map((M,P)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-gray-400",children:M.topic}),c.jsxs("span",{className:"text-emerald-400/90",children:[M.score,"%"]})]}),s(M.score/M.total*100)]},P))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-white flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432]",children:c.jsx(zg,{className:"text-emerald-400/90 h-5 w-5"})}),"Weekly Activity"]}),c.jsx("div",{className:"flex items-end justify-between h-40",children:(w=t.analysis)==null?void 0:w.weeklyActivity.map((M,P)=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-8 bg-emerald-400/20 rounded-t-2xl",style:{height:`${M.hours*20}px`}}),c.jsx("span",{className:"text-gray-400 text-sm mt-2",children:M.day})]},P))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-white flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432]",children:c.jsx(Gg,{className:"text-emerald-400/90 h-5 w-5"})}),"Strength Areas"]}),c.jsx("div",{className:"space-y-4",children:(b=t.analysis)==null?void 0:b.strengthAreas.map((M,P)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{className:"text-gray-400",children:M.topic}),c.jsxs("span",{className:"text-emerald-400/90",children:[M.percentage,"%"]})]}),s(M.percentage)]},P))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium mb-4 text-white flex items-center gap-2",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#1e2432]",children:c.jsx(L8,{className:"text-emerald-400/90 h-5 w-5"})}),"Recent Quiz Scores"]}),c.jsx("div",{className:"space-y-3",children:(_=t.analysis)==null?void 0:_.recentScores.map((M,P)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#0d1328] rounded-2xl",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white",children:M.quiz}),c.jsx("p",{className:"text-sm text-gray-400",children:new Date(M.date).toLocaleDateString()})]}),c.jsxs("div",{className:"text-xl font-bold text-emerald-400/90",children:[M.score,"%"]})]},P))})]})]})]}),c.jsx(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg lg:col-span-3",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Interests"}),c.jsx("p",{className:"text-gray-400",children:t.interests||"No interests added yet"})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Learning Goals"}),c.jsx("p",{className:"text-gray-400",children:t.goals||"No goals added yet"})]})]})}),c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg lg:col-span-2",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Recent Activity"}),c.jsx("div",{className:"space-y-4",children:(C=t.recentActivity)==null?void 0:C.map((M,P)=>c.jsxs("div",{className:"flex items-center gap-4 p-3 bg-[#0d1328] rounded-2xl",children:[c.jsxs("div",{className:"p-2.5 rounded-xl bg-[#0d1328] group-hover:bg-[#111a35]",children:[M.type==="quiz"&&c.jsx(Rs,{className:"text-purple-400/90 h-5 w-5"}),M.type==="course"&&c.jsx(Zo,{className:"text-blue-400/90 h-5 w-5"}),M.type==="achievement"&&c.jsx(Ot,{className:"text-yellow-500/90 h-5 w-5"})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white",children:M.description}),c.jsx("p",{className:"text-sm text-gray-400",children:new Date(M.date).toLocaleDateString()})]})]},P))})]}),c.jsxs(Pe,{className:"relative p-6 bg-[#0B1120] border-0 shadow-lg",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Achievements"}),c.jsx("div",{className:"space-y-4",children:(O=t.achievements)==null?void 0:O.map((M,P)=>c.jsxs("div",{className:"flex items-center gap-4 p-3 bg-[#0d1328] rounded-2xl",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-[#0d1328] group-hover:bg-[#111a35]",children:c.jsx(_O,{className:"text-yellow-500/90 h-5 w-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white",children:M.title}),c.jsx("p",{className:"text-sm text-gray-400",children:M.description})]})]},P))})]})]})]})}const c0=({isResponding:t=!1})=>c.jsxs("div",{className:`relative w-10 h-10 ${t?"animate-pulse":""}`,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full opacity-20"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-700 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-lg font-bold",children:"C"})})})]}),Jee=()=>{const[t,e]=g.useState([{id:"welcome",text:"Hi! I'm Chitti AI Assistant. I can help you create quizzes and learn new things. What would you like to learn about?",sender:"chitty",timestamp:new Date}]),[n,r]=g.useState(""),[s,i]=g.useState(!1),{toast:o}=Gn(),a=async()=>{if(!n.trim()||s)return;const u={id:Date.now().toString(),text:n.trim(),sender:"user",timestamp:new Date};try{e(f=>[...f,u]),r(""),i(!0);const h=await N4(u.text),p={id:(Date.now()+1).toString(),text:h,sender:"chitty",timestamp:new Date};e(f=>[...f,p])}catch(h){console.error("Error getting AI response:",h),o({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"})}finally{i(!1)}},l=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),a())};return c.jsx("div",{className:"container mx-auto p-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h1",{className:"text-3xl font-bold text-white",children:"Chitti AI Assistant"}),c.jsx("p",{className:"text-gray-400",children:"Your personal AI assistant for quiz creation and learning"})]}),c.jsxs(Pe,{className:"bg-gradient-to-br from-gray-900 to-black border-blue-500/20",children:[c.jsx(Av,{className:"border-b border-blue-500/20 bg-gradient-to-r from-blue-600/10 to-blue-800/10",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(c0,{isResponding:s}),c.jsx(Rv,{className:"text-xl bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Chat with Chitti AI Assistant"})]})}),c.jsxs(Nv,{className:"p-0",children:[c.jsxs("div",{className:"h-[400px] overflow-y-auto p-4 space-y-4",children:[t.length===0?c.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[c.jsx(Zo,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{children:"Start chatting with Chitti AI Assistant to create your quiz!"})]}):t.map(u=>c.jsxs("div",{className:`flex ${u.sender==="user"?"justify-end":"justify-start"} items-start gap-2`,children:[u.sender==="chitty"&&c.jsx(c0,{}),c.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${u.sender==="user"?"bg-blue-600 text-white":"bg-blue-600/20 text-white"}`,children:u.text})]},u.id)),s&&c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(c0,{isResponding:!0}),c.jsx("div",{className:"bg-blue-600/20 rounded-2xl px-4 py-2",children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]}),c.jsx("div",{className:"p-4 border-t border-blue-500/20 bg-gradient-to-t from-blue-900/20 to-transparent",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ee,{variant:"ghost",size:"icon",className:"text-blue-400 hover:text-blue-300 hover:bg-blue-500/20",disabled:s,children:c.jsx(sG,{className:"w-5 h-5"})}),c.jsx(Ft,{value:n,onChange:u=>r(u.target.value),onKeyDown:l,placeholder:"Ask Chitti AI Assistant to help you create a quiz...",className:"bg-blue-900/20 border-blue-500/30 text-white placeholder-blue-300/50 focus-visible:ring-1 focus-visible:ring-blue-500",disabled:s}),c.jsx(ee,{onClick:a,className:"bg-gradient-to-r from-blue-500 to-blue-700 text-white hover:from-blue-600 hover:to-blue-800",disabled:s||!n.trim(),children:c.jsx(_b,{className:"w-5 h-5"})})]})})]})]})]})})},Xee=g.forwardRef(({children:t,className:e="",spotlightColor:n="rgba(29, 185, 84, 0.25)",style:r,...s},i)=>{const o=g.useRef(null),[a,l]=g.useState(!1),[u,h]=g.useState({x:0,y:0}),[p,f]=g.useState(0),m=b=>{if(!o.current||a)return;const _=o.current.getBoundingClientRect();h({x:b.clientX-_.left,y:b.clientY-_.top})},y=()=>{l(!0),f(.6)},x=()=>{l(!1),f(0)},E=()=>{f(.6)},w=()=>{f(0)};return c.jsxs("div",{ref:i,onMouseMove:m,onFocus:y,onBlur:x,onMouseEnter:E,onMouseLeave:w,className:se("group relative overflow-hidden rounded-xl border bg-card p-6 transition-colors hover:bg-muted/50",e),style:{...r,"--spotlight-color":n,"--spotlight-x":`${u.x}px`,"--spotlight-y":`${u.y}px`,"--spotlight-opacity":p},...s,children:[c.jsx("div",{className:"pointer-events-none absolute inset-0 transition-opacity duration-300",style:{background:"radial-gradient(600px circle at var(--spotlight-x) var(--spotlight-y), var(--spotlight-color), transparent 40%)",opacity:"var(--spotlight-opacity)"}}),c.jsx("div",{className:"relative z-10",children:t}),c.jsx("div",{className:"absolute inset-0 rounded-xl transition-opacity duration-500 group-hover:opacity-100 opacity-0",style:{boxShadow:"inset 0 0 0 1px rgba(255, 255, 255, 0.1)"}})]})});var O4="https://js.stripe.com/v3",Zee=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,wC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ete=function(){for(var e=document.querySelectorAll('script[src^="'.concat(O4,'"]')),n=0;n<e.length;n++){var r=e[n];if(Zee.test(r.src))return r}return null},xC=function(e){var n="",r=document.createElement("script");r.src="".concat(O4).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},tte=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.5.0",startTime:n})},au=null,Of=null,Df=null,nte=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},rte=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},ste=function(e){return au!==null?au:(au=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(wC),window.Stripe){n(window.Stripe);return}try{var s=ete();if(s&&e)console.warn(wC);else if(!s)s=xC(e);else if(s&&Df!==null&&Of!==null){var i;s.removeEventListener("load",Df),s.removeEventListener("error",Of),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=xC(e)}Df=rte(n,r),Of=nte(r),s.addEventListener("load",Df),s.addEventListener("error",Of)}catch(o){r(o);return}}),au.catch(function(n){return au=null,Promise.reject(n)}))},ite=function(e,n,r){if(e===null)return null;var s=e.apply(void 0,n);return tte(s,r),s},lu,D4=!1,j4=function(){return lu||(lu=ste(null).catch(function(e){return lu=null,Promise.reject(e)}),lu)};Promise.resolve().then(function(){return j4()}).catch(function(t){D4||console.warn(t)});var ote=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];D4=!0;var s=Date.now();return j4().then(function(i){return ite(i,n,s)})};const ate=ote("your_publishable_key_here"),lte=[{id:"price_basic",name:"Basic",price:"$0",priceId:"free_tier",description:"Perfect for getting started",features:["5 quizzes per month","Basic analytics","Community support"],icon:q8,popular:!1},{id:"price_premium",name:"Premium",price:"$15",priceId:void 0,description:"Great for regular learners",features:["Unlimited quizzes","Detailed analytics","Priority support","Ad-free experience"],icon:El,popular:!0},{id:"price_pro",name:"Pro",price:"$30",priceId:void 0,description:"For professional educators",features:["Everything in Premium","Custom branding","API access","Team collaboration","Advanced analytics"],icon:Hl,popular:!1}],cte=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(null),{toast:s}=Gn(),{user:i}=sr(),o=async a=>{if(!i){s({title:"Login Required",description:"Please login to subscribe to a plan.",variant:"destructive"});return}try{if(r(a.id),a.priceId==="free_tier"){s({title:"Free Plan Selected",description:"You're now on the Basic plan. Enjoy!"}),e(a.name);return}if(!a.priceId)throw new Error("Invalid price ID");const l=await fetch("/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await i.getIdToken()}`},body:JSON.stringify({priceId:a.priceId,planName:a.name,email:i.email})});if(!l.ok){const f=await l.text();throw new Error(f||"Network response was not ok")}const{sessionId:u}=await l.json(),h=await ate;if(!h)throw new Error("Stripe failed to load");const{error:p}=await h.redirectToCheckout({sessionId:u});if(p)throw p}catch(l){console.error("Error:",l),s({title:"Error",description:l instanceof Error?l.message:"Something went wrong. Please try again later.",variant:"destructive"})}finally{r(null)}};return c.jsxs("div",{className:"container py-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Select the perfect plan for your learning journey. All plans include access to our core features."})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:lte.map(a=>c.jsxs(Xee,{className:a.popular?"border-primary":"",children:[c.jsxs(Av,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(a.icon,{className:"h-8 w-8 text-primary"}),a.popular&&c.jsx("span",{className:"px-3 py-1 text-xs font-semibold bg-primary/10 text-primary rounded-full",children:"Most Popular"})]}),c.jsx(Rv,{className:"text-2xl font-bold mt-4",children:a.name}),c.jsxs("div",{className:"mt-2",children:[c.jsx("span",{className:"text-3xl font-bold",children:a.price}),a.price!=="$0"&&c.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),c.jsx("p",{className:"text-muted-foreground mt-2",children:a.description})]}),c.jsx(Nv,{className:"mt-4",children:c.jsx("ul",{className:"space-y-3",children:a.features.map((l,u)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(wc,{className:"h-4 w-4 text-primary"}),c.jsx("span",{children:l})]},u))})}),c.jsx(VL,{children:c.jsx(ee,{className:"w-full",variant:a.popular?"default":"outline",onClick:()=>o(a),disabled:n===a.id||t===a.name,children:n===a.id?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),"Processing..."]}):t===a.name?"Current Plan":"Subscribe"})})]},a.id))})]})};class Qn{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,n,r,s,i,o,a,l){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const e=new TypeError(Qn.TIMEOUT_ERROR_CODE);return e.code=Qn.TIMEOUT_ERROR_CODE,e}}Qn.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];Qn.TIMEOUT_ERROR_CODE="ETIMEDOUT";class M4{constructor(e,n){this._statusCode=e,this._headers=n}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}class ng extends Qn{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=ng.makeFetchWithAbortTimeout(e):this._fetchFn=ng.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(n,r,s)=>{let i;const o=new Promise((l,u)=>{i=setTimeout(()=>{i=null,u(Qn.makeTimeoutError())},s)}),a=e(n,r);return Promise.race([a,o]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(e){return async(n,r,s)=>{const i=new AbortController;let o=setTimeout(()=>{o=null,i.abort(Qn.makeTimeoutError())},s);try{return await e(n,Object.assign(Object.assign({},r),{signal:i.signal}))}catch(a){throw a.name==="AbortError"?Qn.makeTimeoutError():a}finally{o&&clearTimeout(o)}}}getClientName(){return"fetch"}async makeRequest(e,n,r,s,i,o,a,l){const u=a==="http",h=new URL(r,`${u?"http":"https"}://${e}`);h.port=n;const p=s=="POST"||s=="PUT"||s=="PATCH",f=o||(p?"":void 0),m=await this._fetchFn(h.toString(),{method:s,headers:i,body:f},l);return new J1(m)}}class J1 extends M4{constructor(e){super(e.status,J1._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){const n={};for(const r of e){if(!Array.isArray(r)||r.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");n[r[0]]=r[1]}return n}}class L4{computeHMACSignature(e,n){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,n){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}}class V4 extends Error{}class ute extends L4{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,n){throw new V4("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,n){const r=new TextEncoder,s=await this.subtleCrypto.importKey("raw",r.encode(n),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",s,r.encode(e)),o=new Uint8Array(i),a=new Array(o.length);for(let l=0;l<o.length;l++)a[l]=Lx[o[l]];return a.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}const Lx=new Array(256);for(let t=0;t<Lx.length;t++)Lx[t]=t.toString(16).padStart(2,"0");class dte{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}secureCompare(e,n){if(e.length!==n.length)return!1;const r=e.length;let s=0;for(let i=0;i<r;++i)s|=e.charCodeAt(i)^n.charCodeAt(i);return s===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new ng(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new ute(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}}class hte extends Event{constructor(e,n){super(e),this.data=n}}class fte{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,n){const r=s=>{n(s.data)};return this.listenerMapping.set(n,r),this.eventTarget.addEventListener(e,r)}removeListener(e,n){const r=this.listenerMapping.get(n);return this.listenerMapping.delete(n),this.eventTarget.removeEventListener(e,r)}once(e,n){const r=s=>{n(s.data)};return this.listenerMapping.set(n,r),this.eventTarget.addEventListener(e,r,{once:!0})}emit(e,n){return this.eventTarget.dispatchEvent(new hte(e,n))}}class pte extends dte{getUname(){return Promise.resolve(null)}createEmitter(){return new fte}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}}const jv=t=>{switch(t.type){case"card_error":return new $4(t);case"invalid_request_error":return new X1(t);case"api_error":return new Z1(t);case"authentication_error":return new eE(t);case"rate_limit_error":return new tE(t);case"idempotency_error":return new z4(t);case"invalid_grant":return new G4(t);default:return new q4(t)}},F4=t=>{switch(t.type){case"temporary_session_expired":return new W4(t)}switch(t.code){case"invalid_fields":return new X1(t)}return jv(t)};class rn extends Error{constructor(e={},n=null){super(e.message),this.type=n||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}rn.generate=jv;class $4 extends rn{constructor(e={}){super(e,"StripeCardError")}}class X1 extends rn{constructor(e={}){super(e,"StripeInvalidRequestError")}}class Z1 extends rn{constructor(e={}){super(e,"StripeAPIError")}}class eE extends rn{constructor(e={}){super(e,"StripeAuthenticationError")}}class U4 extends rn{constructor(e={}){super(e,"StripePermissionError")}}class tE extends rn{constructor(e={}){super(e,"StripeRateLimitError")}}class B4 extends rn{constructor(e={}){super(e,"StripeConnectionError")}}class ii extends rn{constructor(e,n,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=n}}class z4 extends rn{constructor(e={}){super(e,"StripeIdempotencyError")}}class G4 extends rn{constructor(e={}){super(e,"StripeInvalidGrantError")}}class q4 extends rn{constructor(e={}){super(e,"StripeUnknownError")}}class W4 extends rn{constructor(e={}){super(e,"TemporarySessionExpiredError")}}const _C=Object.freeze(Object.defineProperty({__proto__:null,StripeAPIError:Z1,StripeAuthenticationError:eE,StripeCardError:$4,StripeConnectionError:B4,StripeError:rn,StripeIdempotencyError:z4,StripeInvalidGrantError:G4,StripeInvalidRequestError:X1,StripePermissionError:U4,StripeRateLimitError:tE,StripeSignatureVerificationError:ii,StripeUnknownError:q4,TemporarySessionExpiredError:W4,generateV1Error:jv,generateV2Error:F4},Symbol.toStringTag,{value:"Module"}));var Sc=TypeError;const mte={},gte=Object.freeze(Object.defineProperty({__proto__:null,default:mte},Symbol.toStringTag,{value:"Module"})),vte=vV(gte);var nE=typeof Map=="function"&&Map.prototype,u0=Object.getOwnPropertyDescriptor&&nE?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,rg=nE&&u0&&typeof u0.get=="function"?u0.get:null,bC=nE&&Map.prototype.forEach,rE=typeof Set=="function"&&Set.prototype,d0=Object.getOwnPropertyDescriptor&&rE?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,sg=rE&&d0&&typeof d0.get=="function"?d0.get:null,EC=rE&&Set.prototype.forEach,yte=typeof WeakMap=="function"&&WeakMap.prototype,ld=yte?WeakMap.prototype.has:null,wte=typeof WeakSet=="function"&&WeakSet.prototype,cd=wte?WeakSet.prototype.has:null,xte=typeof WeakRef=="function"&&WeakRef.prototype,TC=xte?WeakRef.prototype.deref:null,_te=Boolean.prototype.valueOf,bte=Object.prototype.toString,Ete=Function.prototype.toString,Tte=String.prototype.match,sE=String.prototype.slice,Ti=String.prototype.replace,Ste=String.prototype.toUpperCase,SC=String.prototype.toLowerCase,H4=RegExp.prototype.test,PC=Array.prototype.concat,$r=Array.prototype.join,Pte=Array.prototype.slice,IC=Math.floor,Vx=typeof BigInt=="function"?BigInt.prototype.valueOf:null,h0=Object.getOwnPropertySymbols,Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,lc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===lc||!0)?Symbol.toStringTag:null,K4=Object.prototype.propertyIsEnumerable,CC=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function AC(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||H4.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-IC(-t):IC(t);if(r!==t){var s=String(r),i=sE.call(e,s.length+1);return Ti.call(s,n,"$&_")+"."+Ti.call(Ti.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ti.call(e,n,"$&_")}var $x=vte,RC=$x.custom,NC=J4(RC)?RC:null,Q4={__proto__:null,double:'"',single:"'"},Ite={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Mv=function t(e,n,r,s){var i=n||{};if(us(i,"quoteStyle")&&!us(Q4,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(us(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=us(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(us(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(us(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Z4(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?AC(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?AC(e,u):u}var h=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=h&&h>0&&typeof e=="object")return Ux(e)?"[Array]":"[Object]";var p=qte(i,r);if(typeof s>"u")s=[];else if(X4(s,e)>=0)return"[Circular]";function f(k,J,ue){if(J&&(s=Pte.call(s),s.push(J)),ue){var ne={depth:i.depth};return us(i,"quoteStyle")&&(ne.quoteStyle=i.quoteStyle),t(k,ne,r+1,s)}return t(k,i,r+1,s)}if(typeof e=="function"&&!kC(e)){var m=Mte(e),y=jf(e,f);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(y.length>0?" { "+$r.call(y,", ")+" }":"")}if(J4(e)){var x=lc?Ti.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Fx.call(e);return typeof e=="object"&&!lc?cu(x):x}if(Bte(e)){for(var E="<"+SC.call(String(e.nodeName)),w=e.attributes||[],b=0;b<w.length;b++)E+=" "+w[b].name+"="+Y4(Cte(w[b].value),"double",i);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+SC.call(String(e.nodeName))+">",E}if(Ux(e)){if(e.length===0)return"[]";var _=jf(e,f);return p&&!Gte(_)?"["+Bx(_,p)+"]":"[ "+$r.call(_,", ")+" ]"}if(Rte(e)){var C=jf(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!K4.call(e,"cause")?"{ ["+String(e)+"] "+$r.call(PC.call("[cause]: "+f(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$r.call(C,", ")+" }"}if(typeof e=="object"&&o){if(NC&&typeof e[NC]=="function"&&$x)return $x(e,{depth:h-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Lte(e)){var O=[];return bC&&bC.call(e,function(k,J){O.push(f(J,e,!0)+" => "+f(k,e))}),OC("Map",rg.call(e),O,p)}if($te(e)){var M=[];return EC&&EC.call(e,function(k){M.push(f(k,e))}),OC("Set",sg.call(e),M,p)}if(Vte(e))return f0("WeakMap");if(Ute(e))return f0("WeakSet");if(Fte(e))return f0("WeakRef");if(kte(e))return cu(f(Number(e)));if(Dte(e))return cu(f(Vx.call(e)));if(Ote(e))return cu(_te.call(e));if(Nte(e))return cu(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof sT<"u"&&e===sT)return"{ [object globalThis] }";if(!Ate(e)&&!kC(e)){var P=jf(e,f),S=CC?CC(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",A=!S&&nn&&Object(e)===e&&nn in e?sE.call(uo(e),8,-1):I?"Object":"",N=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",j=N+(A||I?"["+$r.call(PC.call([],A||[],I||[]),": ")+"] ":"");return P.length===0?j+"{}":p?j+"{"+Bx(P,p)+"}":j+"{ "+$r.call(P,", ")+" }"}return String(e)};function Y4(t,e,n){var r=n.quoteStyle||e,s=Q4[r];return s+t+s}function Cte(t){return Ti.call(String(t),/"/g,"&quot;")}function Ux(t){return uo(t)==="[object Array]"&&(!nn||!(typeof t=="object"&&nn in t))}function Ate(t){return uo(t)==="[object Date]"&&(!nn||!(typeof t=="object"&&nn in t))}function kC(t){return uo(t)==="[object RegExp]"&&(!nn||!(typeof t=="object"&&nn in t))}function Rte(t){return uo(t)==="[object Error]"&&(!nn||!(typeof t=="object"&&nn in t))}function Nte(t){return uo(t)==="[object String]"&&(!nn||!(typeof t=="object"&&nn in t))}function kte(t){return uo(t)==="[object Number]"&&(!nn||!(typeof t=="object"&&nn in t))}function Ote(t){return uo(t)==="[object Boolean]"&&(!nn||!(typeof t=="object"&&nn in t))}function J4(t){if(lc)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Fx)return!1;try{return Fx.call(t),!0}catch{}return!1}function Dte(t){if(!t||typeof t!="object"||!Vx)return!1;try{return Vx.call(t),!0}catch{}return!1}var jte=Object.prototype.hasOwnProperty||function(t){return t in this};function us(t,e){return jte.call(t,e)}function uo(t){return bte.call(t)}function Mte(t){if(t.name)return t.name;var e=Tte.call(Ete.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function X4(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Lte(t){if(!rg||!t||typeof t!="object")return!1;try{rg.call(t);try{sg.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Vte(t){if(!ld||!t||typeof t!="object")return!1;try{ld.call(t,ld);try{cd.call(t,cd)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Fte(t){if(!TC||!t||typeof t!="object")return!1;try{return TC.call(t),!0}catch{}return!1}function $te(t){if(!sg||!t||typeof t!="object")return!1;try{sg.call(t);try{rg.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Ute(t){if(!cd||!t||typeof t!="object")return!1;try{cd.call(t,cd);try{ld.call(t,ld)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Bte(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Z4(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Z4(sE.call(t,0,e.maxStringLength),e)+r}var s=Ite[e.quoteStyle||"single"];s.lastIndex=0;var i=Ti.call(Ti.call(t,s,"\\$1"),/[\x00-\x1f]/g,zte);return Y4(i,"single",e)}function zte(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+Ste.call(e.toString(16))}function cu(t){return"Object("+t+")"}function f0(t){return t+" { ? }"}function OC(t,e,n,r){var s=r?Bx(n,r):$r.call(n,", ");return t+" ("+e+") {"+s+"}"}function Gte(t){for(var e=0;e<t.length;e++)if(X4(t[e],`
`)>=0)return!1;return!0}function qte(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=$r.call(Array(t.indent+1)," ");else return null;return{base:n,prev:$r.call(Array(e+1),n)}}function Bx(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+$r.call(t,","+n)+`
`+e.prev}function jf(t,e){var n=Ux(t),r=[];if(n){r.length=t.length;for(var s=0;s<t.length;s++)r[s]=us(t,s)?e(t[s],t):""}var i=typeof h0=="function"?h0(t):[],o;if(lc){o={};for(var a=0;a<i.length;a++)o["$"+i[a]]=i[a]}for(var l in t)us(t,l)&&(n&&String(Number(l))===l&&l<t.length||lc&&o["$"+l]instanceof Symbol||(H4.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof h0=="function")for(var u=0;u<i.length;u++)K4.call(t,i[u])&&r.push("["+e(i[u])+"]: "+e(t[i[u]],t));return r}var Wte=Mv,Hte=Sc,Lv=function(t,e,n){for(var r=t,s;(s=r.next)!=null;r=s)if(s.key===e)return r.next=s.next,n||(s.next=t.next,t.next=s),s},Kte=function(t,e){if(t){var n=Lv(t,e);return n&&n.value}},Qte=function(t,e,n){var r=Lv(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},Yte=function(t,e){return t?!!Lv(t,e):!1},Jte=function(t,e){if(t)return Lv(t,e,!0)},Xte=function(){var e,n={assert:function(r){if(!n.has(r))throw new Hte("Side channel does not contain "+Wte(r))},delete:function(r){var s=e&&e.next,i=Jte(e,r);return i&&s&&s===i&&(e=void 0),!!i},get:function(r){return Kte(e,r)},has:function(r){return Yte(e,r)},set:function(r,s){e||(e={next:void 0}),Qte(e,r,s)}};return n},e5=Object,Zte=Error,ene=EvalError,tne=RangeError,nne=ReferenceError,rne=SyntaxError,sne=URIError,ine=Math.abs,one=Math.floor,ane=Math.max,lne=Math.min,cne=Math.pow,une=Math.round,dne=Number.isNaN||function(e){return e!==e},hne=dne,fne=function(e){return hne(e)||e===0?e:e<0?-1:1},pne=Object.getOwnPropertyDescriptor,$p=pne;if($p)try{$p([],"length")}catch{$p=null}var t5=$p,Up=Object.defineProperty||!1;if(Up)try{Up({},"a",{value:1})}catch{Up=!1}var mne=Up,p0,DC;function gne(){return DC||(DC=1,p0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[n]=s;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==s||a.enumerable!==!0)return!1}return!0}),p0}var m0,jC;function vne(){if(jC)return m0;jC=1;var t=typeof Symbol<"u"&&Symbol,e=gne();return m0=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},m0}var g0,MC;function n5(){return MC||(MC=1,g0=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),g0}var v0,LC;function r5(){if(LC)return v0;LC=1;var t=e5;return v0=t.getPrototypeOf||null,v0}var yne="Function.prototype.bind called on incompatible ",wne=Object.prototype.toString,xne=Math.max,_ne="[object Function]",VC=function(e,n){for(var r=[],s=0;s<e.length;s+=1)r[s]=e[s];for(var i=0;i<n.length;i+=1)r[i+e.length]=n[i];return r},bne=function(e,n){for(var r=[],s=n,i=0;s<e.length;s+=1,i+=1)r[i]=e[s];return r},Ene=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},Tne=function(e){var n=this;if(typeof n!="function"||wne.apply(n)!==_ne)throw new TypeError(yne+n);for(var r=bne(arguments,1),s,i=function(){if(this instanceof s){var h=n.apply(this,VC(r,arguments));return Object(h)===h?h:this}return n.apply(e,VC(r,arguments))},o=xne(0,n.length-r.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(s=Function("binder","return function ("+Ene(a,",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var u=function(){};u.prototype=n.prototype,s.prototype=new u,u.prototype=null}return s},Sne=Tne,Vv=Function.prototype.bind||Sne,iE=Function.prototype.call,y0,FC;function s5(){return FC||(FC=1,y0=Function.prototype.apply),y0}var Pne=typeof Reflect<"u"&&Reflect&&Reflect.apply,Ine=Vv,Cne=s5(),Ane=iE,Rne=Pne,Nne=Rne||Ine.call(Ane,Cne),kne=Vv,One=Sc,Dne=iE,jne=Nne,i5=function(e){if(e.length<1||typeof e[0]!="function")throw new One("a function is required");return jne(kne,Dne,e)},w0,$C;function Mne(){if($C)return w0;$C=1;var t=i5,e=t5,n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),s=Object,i=s.getPrototypeOf;return w0=r&&typeof r.get=="function"?t([r.get]):typeof i=="function"?function(a){return i(a==null?a:s(a))}:!1,w0}var x0,UC;function Lne(){if(UC)return x0;UC=1;var t=n5(),e=r5(),n=Mne();return x0=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:n?function(s){return n(s)}:null,x0}var _0,BC;function Vne(){if(BC)return _0;BC=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Vv;return _0=n.call(t,e),_0}var Te,Fne=e5,$ne=Zte,Une=ene,Bne=tne,zne=nne,cc=rne,Cl=Sc,Gne=sne,qne=ine,Wne=one,Hne=ane,Kne=lne,Qne=cne,Yne=une,Jne=fne,o5=Function,b0=function(t){try{return o5('"use strict"; return ('+t+").constructor;")()}catch{}},Zd=t5,Xne=mne,E0=function(){throw new Cl},Zne=Zd?function(){try{return arguments.callee,E0}catch{try{return Zd(arguments,"callee").get}catch{return E0}}}():E0,La=vne()(),At=Lne(),ere=r5(),tre=n5(),a5=s5(),Ih=iE,el={},nre=typeof Uint8Array>"u"||!At?Te:At(Uint8Array),qo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Te:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Te:ArrayBuffer,"%ArrayIteratorPrototype%":La&&At?At([][Symbol.iterator]()):Te,"%AsyncFromSyncIteratorPrototype%":Te,"%AsyncFunction%":el,"%AsyncGenerator%":el,"%AsyncGeneratorFunction%":el,"%AsyncIteratorPrototype%":el,"%Atomics%":typeof Atomics>"u"?Te:Atomics,"%BigInt%":typeof BigInt>"u"?Te:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Te:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Te:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Te:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$ne,"%eval%":eval,"%EvalError%":Une,"%Float32Array%":typeof Float32Array>"u"?Te:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Te:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Te:FinalizationRegistry,"%Function%":o5,"%GeneratorFunction%":el,"%Int8Array%":typeof Int8Array>"u"?Te:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Te:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Te:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":La&&At?At(At([][Symbol.iterator]())):Te,"%JSON%":typeof JSON=="object"?JSON:Te,"%Map%":typeof Map>"u"?Te:Map,"%MapIteratorPrototype%":typeof Map>"u"||!La||!At?Te:At(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Fne,"%Object.getOwnPropertyDescriptor%":Zd,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Te:Promise,"%Proxy%":typeof Proxy>"u"?Te:Proxy,"%RangeError%":Bne,"%ReferenceError%":zne,"%Reflect%":typeof Reflect>"u"?Te:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Te:Set,"%SetIteratorPrototype%":typeof Set>"u"||!La||!At?Te:At(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Te:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":La&&At?At(""[Symbol.iterator]()):Te,"%Symbol%":La?Symbol:Te,"%SyntaxError%":cc,"%ThrowTypeError%":Zne,"%TypedArray%":nre,"%TypeError%":Cl,"%Uint8Array%":typeof Uint8Array>"u"?Te:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Te:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Te:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Te:Uint32Array,"%URIError%":Gne,"%WeakMap%":typeof WeakMap>"u"?Te:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Te:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Te:WeakSet,"%Function.prototype.call%":Ih,"%Function.prototype.apply%":a5,"%Object.defineProperty%":Xne,"%Object.getPrototypeOf%":ere,"%Math.abs%":qne,"%Math.floor%":Wne,"%Math.max%":Hne,"%Math.min%":Kne,"%Math.pow%":Qne,"%Math.round%":Yne,"%Math.sign%":Jne,"%Reflect.getPrototypeOf%":tre};if(At)try{null.error}catch(t){var rre=At(At(t));qo["%Error.prototype%"]=rre}var sre=function t(e){var n;if(e==="%AsyncFunction%")n=b0("async function () {}");else if(e==="%GeneratorFunction%")n=b0("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=b0("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&At&&(n=At(s.prototype))}return qo[e]=n,n},zC={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ch=Vv,ig=Vne(),ire=Ch.call(Ih,Array.prototype.concat),ore=Ch.call(a5,Array.prototype.splice),GC=Ch.call(Ih,String.prototype.replace),og=Ch.call(Ih,String.prototype.slice),are=Ch.call(Ih,RegExp.prototype.exec),lre=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,cre=/\\(\\)?/g,ure=function(e){var n=og(e,0,1),r=og(e,-1);if(n==="%"&&r!=="%")throw new cc("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new cc("invalid intrinsic syntax, expected opening `%`");var s=[];return GC(e,lre,function(i,o,a,l){s[s.length]=a?GC(l,cre,"$1"):o||i}),s},dre=function(e,n){var r=e,s;if(ig(zC,r)&&(s=zC[r],r="%"+s[0]+"%"),ig(qo,r)){var i=qo[r];if(i===el&&(i=sre(r)),typeof i>"u"&&!n)throw new Cl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:r,value:i}}throw new cc("intrinsic "+e+" does not exist!")},oE=function(e,n){if(typeof e!="string"||e.length===0)throw new Cl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Cl('"allowMissing" argument must be a boolean');if(are(/^%?[^%]*%?$/,e)===null)throw new cc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=ure(e),s=r.length>0?r[0]:"",i=dre("%"+s+"%",n),o=i.name,a=i.value,l=!1,u=i.alias;u&&(s=u[0],ore(r,ire([0,1],u)));for(var h=1,p=!0;h<r.length;h+=1){var f=r[h],m=og(f,0,1),y=og(f,-1);if((m==='"'||m==="'"||m==="`"||y==='"'||y==="'"||y==="`")&&m!==y)throw new cc("property names with quotes must have matching quotes");if((f==="constructor"||!p)&&(l=!0),s+="."+f,o="%"+s+"%",ig(qo,o))a=qo[o];else if(a!=null){if(!(f in a)){if(!n)throw new Cl("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zd&&h+1>=r.length){var x=Zd(a,f);p=!!x,p&&"get"in x&&!("originalValue"in x.get)?a=x.get:a=a[f]}else p=ig(a,f),a=a[f];p&&!l&&(qo[o]=a)}}return a},l5=oE,c5=i5,hre=c5([l5("%String.prototype.indexOf%")]),u5=function(e,n){var r=l5(e,!!n);return typeof r=="function"&&hre(e,".prototype.")>-1?c5([r]):r},fre=oE,Ah=u5,pre=Mv,mre=Sc,qC=fre("%Map%",!0),gre=Ah("Map.prototype.get",!0),vre=Ah("Map.prototype.set",!0),yre=Ah("Map.prototype.has",!0),wre=Ah("Map.prototype.delete",!0),xre=Ah("Map.prototype.size",!0),d5=!!qC&&function(){var e,n={assert:function(r){if(!n.has(r))throw new mre("Side channel does not contain "+pre(r))},delete:function(r){if(e){var s=wre(e,r);return xre(e)===0&&(e=void 0),s}return!1},get:function(r){if(e)return gre(e,r)},has:function(r){return e?yre(e,r):!1},set:function(r,s){e||(e=new qC),vre(e,r,s)}};return n},_re=oE,Fv=u5,bre=Mv,Mf=d5,Ere=Sc,Va=_re("%WeakMap%",!0),Tre=Fv("WeakMap.prototype.get",!0),Sre=Fv("WeakMap.prototype.set",!0),Pre=Fv("WeakMap.prototype.has",!0),Ire=Fv("WeakMap.prototype.delete",!0),Cre=Va?function(){var e,n,r={assert:function(s){if(!r.has(s))throw new Ere("Side channel does not contain "+bre(s))},delete:function(s){if(Va&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Ire(e,s)}else if(Mf&&n)return n.delete(s);return!1},get:function(s){return Va&&s&&(typeof s=="object"||typeof s=="function")&&e?Tre(e,s):n&&n.get(s)},has:function(s){return Va&&s&&(typeof s=="object"||typeof s=="function")&&e?Pre(e,s):!!n&&n.has(s)},set:function(s,i){Va&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Va),Sre(e,s,i)):Mf&&(n||(n=Mf()),n.set(s,i))}};return r}:Mf,Are=Sc,Rre=Mv,Nre=Xte,kre=d5,Ore=Cre,Dre=Ore||kre||Nre,jre=function(){var e,n={assert:function(r){if(!n.has(r))throw new Are("Side channel does not contain "+Rre(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,s){e||(e=Dre()),e.set(r,s)}};return n},Mre=String.prototype.replace,Lre=/%20/g,T0={RFC1738:"RFC1738",RFC3986:"RFC3986"},aE={default:T0.RFC3986,formatters:{RFC1738:function(t){return Mre.call(t,Lre,"+")},RFC3986:function(t){return String(t)}},RFC1738:T0.RFC1738,RFC3986:T0.RFC3986},Vre=aE,S0=Object.prototype.hasOwnProperty,No=Array.isArray,Nr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Fre=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(No(r)){for(var s=[],i=0;i<r.length;++i)typeof r[i]<"u"&&s.push(r[i]);n.obj[n.prop]=s}}},h5=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(r[s]=e[s]);return r},$re=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(No(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!S0.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var s=e;return No(e)&&!No(n)&&(s=h5(e,r)),No(e)&&No(n)?(n.forEach(function(i,o){if(S0.call(e,o)){var a=e[o];a&&typeof a=="object"&&i&&typeof i=="object"?e[o]=t(a,i,r):e.push(i)}else e[o]=i}),e):Object.keys(n).reduce(function(i,o){var a=n[o];return S0.call(i,o)?i[o]=t(i[o],a,r):i[o]=a,i},s)},Ure=function(e,n){return Object.keys(n).reduce(function(r,s){return r[s]=n[s],r},e)},Bre=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},P0=1024,zre=function(e,n,r,s,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=P0){for(var u=o.length>=P0?o.slice(l,l+P0):o,h=[],p=0;p<u.length;++p){var f=u.charCodeAt(p);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===Vre.RFC1738&&(f===40||f===41)){h[h.length]=u.charAt(p);continue}if(f<128){h[h.length]=Nr[f];continue}if(f<2048){h[h.length]=Nr[192|f>>6]+Nr[128|f&63];continue}if(f<55296||f>=57344){h[h.length]=Nr[224|f>>12]+Nr[128|f>>6&63]+Nr[128|f&63];continue}p+=1,f=65536+((f&1023)<<10|u.charCodeAt(p)&1023),h[h.length]=Nr[240|f>>18]+Nr[128|f>>12&63]+Nr[128|f>>6&63]+Nr[128|f&63]}a+=h.join("")}return a},Gre=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],s=0;s<n.length;++s)for(var i=n[s],o=i.obj[i.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],h=o[u];typeof h=="object"&&h!==null&&r.indexOf(h)===-1&&(n.push({obj:o,prop:u}),r.push(h))}return Fre(n),e},qre=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Wre=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Hre=function(e,n){return[].concat(e,n)},Kre=function(e,n){if(No(e)){for(var r=[],s=0;s<e.length;s+=1)r.push(n(e[s]));return r}return n(e)},f5={arrayToObject:h5,assign:Ure,combine:Hre,compact:Gre,decode:Bre,encode:zre,isBuffer:Wre,isRegExp:qre,maybeMap:Kre,merge:$re},p5=jre,Bp=f5,ud=aE,Qre=Object.prototype.hasOwnProperty,m5={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Mr=Array.isArray,Yre=Array.prototype.push,g5=function(t,e){Yre.apply(t,Mr(e)?e:[e])},Jre=Date.prototype.toISOString,WC=ud.default,Et={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Bp.encode,encodeValuesOnly:!1,format:WC,formatter:ud.formatters[WC],indices:!1,serializeDate:function(e){return Jre.call(e)},skipNulls:!1,strictNullHandling:!1},Xre=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},I0={},Zre=function t(e,n,r,s,i,o,a,l,u,h,p,f,m,y,x,E,w,b){for(var _=e,C=b,O=0,M=!1;(C=C.get(I0))!==void 0&&!M;){var P=C.get(e);if(O+=1,typeof P<"u"){if(P===O)throw new RangeError("Cyclic object value");M=!0}typeof C.get(I0)>"u"&&(O=0)}if(typeof h=="function"?_=h(n,_):_ instanceof Date?_=m(_):r==="comma"&&Mr(_)&&(_=Bp.maybeMap(_,function(K){return K instanceof Date?m(K):K})),_===null){if(o)return u&&!E?u(n,Et.encoder,w,"key",y):n;_=""}if(Xre(_)||Bp.isBuffer(_)){if(u){var S=E?n:u(n,Et.encoder,w,"key",y);return[x(S)+"="+x(u(_,Et.encoder,w,"value",y))]}return[x(n)+"="+x(String(_))]}var I=[];if(typeof _>"u")return I;var A;if(r==="comma"&&Mr(_))E&&u&&(_=Bp.maybeMap(_,u)),A=[{value:_.length>0?_.join(",")||null:void 0}];else if(Mr(h))A=h;else{var N=Object.keys(_);A=p?N.sort(p):N}var j=l?n.replace(/\./g,"%2E"):n,k=s&&Mr(_)&&_.length===1?j+"[]":j;if(i&&Mr(_)&&_.length===0)return k+"[]";for(var J=0;J<A.length;++J){var ue=A[J],ne=typeof ue=="object"&&typeof ue.value<"u"?ue.value:_[ue];if(!(a&&ne===null)){var de=f&&l?ue.replace(/\./g,"%2E"):ue,F=Mr(_)?typeof r=="function"?r(k,de):k:k+(f?"."+de:"["+de+"]");b.set(e,O);var U=p5();U.set(I0,b),g5(I,t(ne,F,r,s,i,o,a,l,r==="comma"&&E&&Mr(_)?null:u,h,p,f,m,y,x,E,w,U))}}return I},ese=function(e){if(!e)return Et;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||Et.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=ud.default;if(typeof e.format<"u"){if(!Qre.call(ud.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var s=ud.formatters[r],i=Et.filter;(typeof e.filter=="function"||Mr(e.filter))&&(i=e.filter);var o;if(e.arrayFormat in m5?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Et.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Et.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Et.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Et.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Et.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Et.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Et.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Et.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Et.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Et.encodeValuesOnly,filter:i,format:r,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Et.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Et.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Et.strictNullHandling}},tse=function(t,e){var n=t,r=ese(e),s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Mr(r.filter)&&(i=r.filter,s=i);var o=[];if(typeof n!="object"||n===null)return"";var a=m5[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);for(var u=p5(),h=0;h<s.length;++h){var p=s[h];r.skipNulls&&n[p]===null||g5(o,Zre(n[p],p,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var f=o.join(r.delimiter),m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""},uc=f5,zx=Object.prototype.hasOwnProperty,nse=Array.isArray,lt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:uc.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},rse=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},v5=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},sse="utf8=%26%2310003%3B",ise="utf8=%E2%9C%93",ose=function(e,n){var r={__proto__:null},s=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=n.parameterLimit===1/0?void 0:n.parameterLimit,o=s.split(n.delimiter,i),a=-1,l,u=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===ise?u="utf-8":o[l]===sse&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],p=h.indexOf("]="),f=p===-1?h.indexOf("="):p+1,m,y;f===-1?(m=n.decoder(h,lt.decoder,u,"key"),y=n.strictNullHandling?null:""):(m=n.decoder(h.slice(0,f),lt.decoder,u,"key"),y=uc.maybeMap(v5(h.slice(f+1),n),function(E){return n.decoder(E,lt.decoder,u,"value")})),y&&n.interpretNumericEntities&&u==="iso-8859-1"&&(y=rse(y)),h.indexOf("[]=")>-1&&(y=nse(y)?[y]:y);var x=zx.call(r,m);x&&n.duplicates==="combine"?r[m]=uc.combine(r[m],y):(!x||n.duplicates==="last")&&(r[m]=y)}return r},ase=function(t,e,n,r){for(var s=r?e:v5(e,n),i=t.length-1;i>=0;--i){var o,a=t[i];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(s===""||n.strictNullHandling&&s===null)?[]:[].concat(s);else{o=n.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,h=parseInt(u,10);!n.parseArrays&&u===""?o={0:s}:!isNaN(h)&&a!==u&&String(h)===u&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(o=[],o[h]=s):u!=="__proto__"&&(o[u]=s)}s=o}return s},lse=function(e,n,r,s){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(i),u=l?i.slice(0,l.index):i,h=[];if(u){if(!r.plainObjects&&zx.call(Object.prototype,u)&&!r.allowPrototypes)return;h.push(u)}for(var p=0;r.depth>0&&(l=a.exec(i))!==null&&p<r.depth;){if(p+=1,!r.plainObjects&&zx.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(l[1])}if(l){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");h.push("["+i.slice(l.index)+"]")}return ase(h,n,r,s)}},cse=function(e){if(!e)return lt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?lt.charset:e.charset,r=typeof e.duplicates>"u"?lt.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:lt.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:lt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:lt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:lt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:lt.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:lt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:lt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:lt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:lt.decoder,delimiter:typeof e.delimiter=="string"||uc.isRegExp(e.delimiter)?e.delimiter:lt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:lt.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:lt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:lt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:lt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:lt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:lt.strictNullHandling}},use=function(t,e){var n=cse(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?ose(t,n):t,s=n.plainObjects?Object.create(null):{},i=Object.keys(r),o=0;o<i.length;++o){var a=i[o],l=lse(a,r[a],n,typeof t=="string");s=uc.merge(s,l,n)}return n.allowSparse===!0?s:uc.compact(s)},dse=tse,hse=use,fse=aE,pse={formats:fse,parse:hse,stringify:dse};const lE=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders"];function y5(t){return t&&typeof t=="object"&&lE.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function $v(t,e){return pse.stringify(t,{serializeDate:n=>Math.floor(n.getTime()/1e3).toString(),arrayFormat:e=="v2"?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}const Gx=(()=>{const t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{const n=e.replace(/["\n\r\u2028\u2029]/g,r=>t[r]);return r=>n.replace(/\{([\s\S]+?)\}/g,(s,i)=>encodeURIComponent(r[i]||""))}})();function mse(t){const e=t.match(/\{\w+\}/g);return e?e.map(n=>n.replace(/[{}]/g,"")):[]}function cE(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!y5(t[0]))return t.shift();const e=Object.keys(t[0]),n=e.filter(r=>lE.includes(r));return n.length>0&&n.length!==e.length&&ag(`Options found in arguments (${n.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function w5(t){const e={host:null,headers:{},settings:{}};if(t.length>0){const n=t[t.length-1];if(typeof n=="string")e.authenticator=qx(t.pop());else if(y5(n)){const r=Object.assign({},t.pop()),s=Object.keys(r).filter(i=>!lE.includes(i));if(s.length&&ag(`Invalid options found (${s.join(", ")}); ignoring.`),r.apiKey&&(e.authenticator=qx(r.apiKey)),r.idempotencyKey&&(e.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(e.headers["Stripe-Account"]=r.stripeAccount),r.stripeContext){if(e.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=r.stripeContext}if(r.apiVersion&&(e.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(e.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(e.settings.timeout=r.timeout),r.host&&(e.host=r.host),r.authenticator){if(r.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof r.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=r.authenticator}r.additionalHeaders&&(e.headers=r.additionalHeaders)}}return e}function gse(t){const e=this,n=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...r){e.apply(this,r)};return Object.assign(n,e),n.prototype=Object.create(e.prototype),Object.assign(n.prototype,t),n}function C0(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,n)=>(t[n]!=null&&(e[n]=t[n]),e),{})}function vse(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,n)=>(e[yse(n)]=t[n],e),{}):t}function yse(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function uE(t,e){return e?t.then(n=>{setTimeout(()=>{e(null,n)},0)},n=>{setTimeout(()=>{e(n,null)},0)}):t}function wse(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function ag(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function xse(t){const e=typeof t;return(e==="function"||e==="object")&&!!t}function _se(t){const e={},n=(r,s)=>{Object.entries(r).forEach(([i,o])=>{const a=s?`${s}[${i}]`:i;if(xse(o)){if(!(o instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(o,"data"))return n(o,a);e[a]=o}else e[a]=String(o)})};return n(t,null),e}function A0(t,e,n){if(!Number.isInteger(e)){if(n!==void 0)return n;throw new Error(`${t} must be an integer`)}return e}function bse(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}function qx(t){const e=n=>(n.headers.Authorization="Bearer "+t,Promise.resolve());return e._apiKey=t,e}function Ese(t,e){return this[t]instanceof Date?Math.floor(this[t].getTime()/1e3).toString():e}function Tse(t){return JSON.stringify(t,Ese)}function dE(t){return t&&t.startsWith("/v2")?"v2":"v1"}const Sse=60;class dd{constructor(e,n){this._stripe=e,this._maxBufferedRequestMetric=n}_addHeadersDirectlyToObject(e,n){e.requestId=n["request-id"],e.stripeAccount=e.stripeAccount||n["stripe-account"],e.apiVersion=e.apiVersion||n["stripe-version"],e.idempotencyKey=e.idempotencyKey||n["idempotency-key"]}_makeResponseEvent(e,n,r){const s=Date.now(),i=s-e.request_start_time;return C0({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:n,request_id:this._getRequestId(r),elapsed:i,request_start_time:e.request_start_time,request_end_time:s})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,n,r){return s=>{const i=s.getHeaders(),o=()=>{const l=this._makeResponseEvent(e,s.getStatusCode(),i);this._stripe._emitter.emit("response",l),this._recordRequestMetrics(this._getRequestId(i),l.elapsed,n)},a=s.toStream(o);return this._addHeadersDirectlyToObject(a,i),r(null,a)}}_jsonResponseHandler(e,n,r,s){return i=>{const o=i.getHeaders(),a=this._getRequestId(o),l=i.getStatusCode(),u=this._makeResponseEvent(e,l,o);this._stripe._emitter.emit("response",u),i.toJSON().then(h=>{if(h.error){let p;throw typeof h.error=="string"&&(h.error={type:h.error,message:h.error_description}),h.error.headers=o,h.error.statusCode=l,h.error.requestId=a,l===401?p=new eE(h.error):l===403?p=new U4(h.error):l===429?p=new tE(h.error):n==="v2"?p=F4(h.error):p=jv(h.error),p}return h},h=>{throw new Z1({message:"Invalid JSON received from the Stripe API",exception:h,requestId:o["request-id"]})}).then(h=>{this._recordRequestMetrics(a,u.elapsed,r);const p=i.getRawResponse();this._addHeadersDirectlyToObject(p,o),Object.defineProperty(h,"lastResponse",{enumerable:!1,writable:!1,value:p}),s(null,h)},h=>s(h,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,n,r,s){return s&&n===0&&Qn.CONNECTION_CLOSED_ERROR_CODES.includes(s.code)?!0:n>=r?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,n=null){const r=this._stripe.getInitialNetworkRetryDelay(),s=this._stripe.getMaxNetworkRetryDelay();let i=Math.min(r*Math.pow(2,e-1),s);return i*=.5*(1+Math.random()),i=Math.max(r,i),Number.isInteger(n)&&n<=Sse&&(i=Math.max(i,n)),i*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,n,r){const s=this._getMaxNetworkRetries(n),i=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(r==="v2"){if(e==="POST"||e==="DELETE")return i()}else if(r==="v1"&&e==="POST"&&s>0)return i();return null}_makeHeaders({contentType:e,contentLength:n,apiVersion:r,clientUserAgent:s,method:i,userSuppliedHeaders:o,userSuppliedSettings:a,stripeAccount:l,stripeContext:u,apiMode:h}){const p={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(h),"X-Stripe-Client-User-Agent":s,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":l,"Stripe-Context":u,"Idempotency-Key":this._defaultIdempotencyKey(i,a,h)},f=i=="POST"||i=="PUT"||i=="PATCH";return(f||n)&&(f||ag(`${i} method had non-zero contentLength but no payload is expected for this verb`),p["Content-Length"]=n),Object.assign(C0(p),vse(o))}_getUserAgentString(e){const n=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${n} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,n,r){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)ag("Request metrics buffer is full, dropping telemetry message.");else{const s={request_id:e,request_duration_ms:n};r&&r.length>0&&(s.usage=r),this._stripe._prevRequestMetrics.push(s)}}_rawRequest(e,n,r,s){return new Promise((o,a)=>{let l;try{const m=e.toUpperCase();if(m!=="POST"&&r&&Object.keys(r).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");const y=[].slice.call([r,s]),x=cE(y),E=Object.assign({},x),w=w5(y),b=w.headers,_=w.authenticator;l={requestMethod:m,requestPath:n,bodyData:E,queryData:{},authenticator:_,headers:b,host:null,streaming:!1,settings:{},usage:["raw_request"]}}catch(m){a(m);return}function u(m,y){m?a(m):o(y)}const{headers:h,settings:p}=l,f=l.authenticator;this._request(l.requestMethod,l.host,n,l.bodyData,f,{headers:h,settings:p,streaming:l.streaming},l.usage,u)})}_request(e,n,r,s,i,o,a=[],l,u=null){var h;let p;i=(h=i??this._stripe._authenticator)!==null&&h!==void 0?h:null;const f=dE(r),m=(E,w,b,_,C)=>setTimeout(E,this._getSleepTimeInMS(_,C),w,b,_+1),y=(E,w,b)=>{const _=o.settings&&o.settings.timeout&&Number.isInteger(o.settings.timeout)&&o.settings.timeout>=0?o.settings.timeout:this._stripe.getApiField("timeout"),C={host:n||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:r,method:e,headers:Object.assign({},w),body:p,protocol:this._stripe.getApiField("protocol")};i(C).then(()=>{const O=this._stripe.getApiField("httpClient").makeRequest(C.host,C.port,C.path,C.method,C.headers,C.body,C.protocol,_),M=Date.now(),P=C0({api_version:E,account:w["Stripe-Account"],idempotency_key:w["Idempotency-Key"],method:e,path:r,request_start_time:M}),S=b||0,I=this._getMaxNetworkRetries(o.settings||{});this._stripe._emitter.emit("request",P),O.then(A=>dd._shouldRetry(A,S,I)?m(y,E,w,S,A.getHeaders()["retry-after"]):o.streaming&&A.getStatusCode()<400?this._streamingResponseHandler(P,a,l)(A):this._jsonResponseHandler(P,f,a,l)(A)).catch(A=>{if(dd._shouldRetry(null,S,I,A))return m(y,E,w,S,null);{const N=A.code&&A.code===Qn.TIMEOUT_ERROR_CODE;return l(new B4({message:N?`Request aborted due to timeout being reached (${_}ms)`:dd._generateConnectionErrorMessage(S),detail:A}))}})}).catch(O=>{throw new rn({message:"Unable to authenticate the request",exception:O})})},x=(E,w)=>{if(E)return l(E);p=w,this._stripe.getClientUserAgent(b=>{const _=this._stripe.getApiField("version"),C=this._makeHeaders({contentType:f=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:p.length,apiVersion:_,clientUserAgent:b,method:e,userSuppliedHeaders:o.headers,userSuppliedSettings:o.settings,stripeAccount:f=="v2"?null:this._stripe.getApiField("stripeAccount"),stripeContext:f=="v2"?this._stripe.getApiField("stripeContext"):null,apiMode:f});y(_,C,0)})};if(u)u(e,s,o.headers,x);else{let E;f=="v2"?E=s?Tse(s):"":E=$v(s||{},f),x(null,E)}}}class x5{constructor(e,n,r,s){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=n,this.spec=r,this.stripeResource=s}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");const n=_5(this.requestArgs);if(this.index<e.data.length){const r=n?e.data.length-1-this.index:this.index,s=e.data[r];return this.index+=1,{value:s,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);const r=await this.pagePromise;return this.iterate(r)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;const e=(async()=>{const n=await this._next();return this.promiseCache.currentPromise=null,n})();return this.promiseCache.currentPromise=e,e}}class Pse extends x5{getNextPage(e){const n=_5(this.requestArgs),r=Ose(e,n);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[n?"ending_before":"starting_after"]:r})}}class Ise extends x5{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class Cse{constructor(e,n,r,s){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=n,this.spec=r,this.stripeResource=s}async turnPage(){const e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;const n=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(n.next_page_url),this.currentPageIterator=Promise.resolve(n.data[Symbol.iterator]()),this.currentPageIterator}async next(){{const r=(await this.currentPageIterator).next();if(!r.done)return{done:!1,value:r.value}}const e=await this.turnPage();if(!e)return{done:!0,value:void 0};const n=e.next();return n.done?{done:!0,value:void 0}:{done:!1,value:n.value}}}const Ase=(t,e,n,r)=>{const s=dE(n.fullPath||n.path);return s!=="v2"&&n.methodType==="search"?R0(new Ise(r,e,n,t)):s!=="v2"&&n.methodType==="list"?R0(new Pse(r,e,n,t)):s==="v2"&&n.methodType==="list"?R0(new Cse(r,e,n,t)):null},R0=t=>{const e=Dse((...s)=>t.next(...s)),n=jse(e),r={autoPagingEach:e,autoPagingToArray:n,next:()=>t.next(),return:()=>({}),[Rse()]:()=>r};return r};function Rse(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function Nse(t){if(t.length<2)return null;const e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function kse(t){if(t.length===0)return;const e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(r,s){const i=e(r);s(i)}}function Ose(t,e){const n=e?0:t.data.length-1,r=t.data[n],s=r&&r.id;if(!s)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return s}function Dse(t){return function(){const n=[].slice.call(arguments),r=kse(n),s=Nse(n);if(n.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${n}`);const i=Mse(t,r);return uE(i,s)}}function jse(t){return function(n,r){const s=n&&n.limit;if(!s)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(s>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");const i=new Promise((o,a)=>{const l=[];t(u=>{if(l.push(u),l.length>=s)return!1}).then(()=>{o(l)}).catch(a)});return uE(i,r)}}function Mse(t,e){return new Promise((n,r)=>{function s(i){if(i.done){n();return}const o=i.value;return new Promise(a=>{e(o,a)}).then(a=>a===!1?s({done:!0,value:void 0}):t().then(s))}t().then(s).catch(r)})}function _5(t){const e=[].slice.call(t);return!!cE(e).ending_before}function Lse(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){const n=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=mse(t.fullPath||this.createResourcePathWithSymbols(t.path||""));const r=uE(this._makeRequest(e,t,{}),n);return Object.assign(r,Ase(this,e,t,r)),r}}D.extend=gse;D.method=Lse;D.MAX_BUFFERED_REQUEST_METRICS=100;function D(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Gx(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=Gx(this.path),this.initialize(...arguments)}D.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){const n=[this.basePath(e),this.path(e)];if(typeof t=="function"){const r=t(e);r&&n.push(r)}else n.push(t);return this._joinUrlParts(n)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,n){var r;const s=(e.method||"GET").toUpperCase(),i=e.usage||[],o=e.urlParams||[],a=e.encode||(P=>P),l=!!e.fullPath,u=Gx(l?e.fullPath:e.path||""),h=l?e.fullPath:this.createResourcePathWithSymbols(e.path),p=[].slice.call(t),f=o.reduce((P,S)=>{const I=p.shift();if(typeof I!="string")throw new Error(`Stripe: Argument "${S}" must be a string, but got: ${I} (on API request to \`${s} ${h}\`)`);return P[S]=I,P},{}),m=cE(p),y=a(Object.assign({},m,n)),x=w5(p),E=x.host||e.host,w=!!e.streaming;if(p.filter(P=>P!=null).length)throw new Error(`Stripe: Unknown arguments (${p}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${s} \`${h}\`)`);const b=l?u(f):this.createFullPath(u,f),_=Object.assign(x.headers,e.headers);e.validator&&e.validator(y,{headers:_});const C=e.method==="GET"||e.method==="DELETE";return{requestMethod:s,requestPath:b,bodyData:C?null:y,queryData:C?y:{},authenticator:(r=x.authenticator)!==null&&r!==void 0?r:null,headers:_,host:E??null,streaming:w,settings:x.settings,usage:i}},_makeRequest(t,e,n){return new Promise((r,s)=>{var i;let o;try{o=this._getRequestOpts(t,e,n)}catch(f){s(f);return}function a(f,m){f?s(f):r(e.transformResponseData?e.transformResponseData(m):m)}const l=Object.keys(o.queryData).length===0,u=[o.requestPath,l?"":"?",$v(o.queryData,dE(o.requestPath))].join(""),{headers:h,settings:p}=o;this._stripe._requestSender._request(o.requestMethod,o.host,u,o.bodyData,o.authenticator,{headers:h,settings:p,streaming:o.streaming},o.usage,a,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};function HC(t){const e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(h,p,f,m,y,x){try{this.signature.verifyHeader(h,p,f,m||e.DEFAULT_TOLERANCE,y,x)}catch(w){throw w instanceof V4&&(w.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),w}return h instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(h)):JSON.parse(h)},async constructEventAsync(h,p,f,m,y,x){return await this.signature.verifyHeaderAsync(h,p,f,m||e.DEFAULT_TOLERANCE,y,x),h instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(h)):JSON.parse(h)},generateTestHeaderString:function(h){const p=u(h),f=p.signature||p.cryptoProvider.computeHMACSignature(p.payloadString,p.secret);return p.generateHeaderString(f)},generateTestHeaderStringAsync:async function(h){const p=u(h),f=p.signature||await p.cryptoProvider.computeHMACSignatureAsync(p.payloadString,p.secret);return p.generateHeaderString(f)}},n={EXPECTED_SCHEME:"v1",verifyHeader(h,p,f,m,y,x){const{decodedHeader:E,decodedPayload:w,details:b,suspectPayloadType:_}=s(h,p,this.EXPECTED_SCHEME),C=/\s/.test(f);y=y||l();const O=y.computeHMACSignature(r(w,b),f);return i(w,E,b,O,m,_,C,x),!0},async verifyHeaderAsync(h,p,f,m,y,x){const{decodedHeader:E,decodedPayload:w,details:b,suspectPayloadType:_}=s(h,p,this.EXPECTED_SCHEME),C=/\s/.test(f);y=y||l();const O=await y.computeHMACSignatureAsync(r(w,b),f);return i(w,E,b,O,m,_,C,x)}};function r(h,p){return`${p.timestamp}.${h}`}function s(h,p,f){if(!h)throw new ii(p,h,{message:"No webhook payload was provided."});const m=typeof h!="string"&&!(h instanceof Uint8Array),y=new TextDecoder("utf8"),x=h instanceof Uint8Array?y.decode(h):h;if(Array.isArray(p))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(p==null||p=="")throw new ii(p,h,{message:"No stripe-signature header value was provided."});const E=p instanceof Uint8Array?y.decode(p):p,w=o(E,f);if(!w||w.timestamp===-1)throw new ii(E,x,{message:"Unable to extract timestamp and signatures from header"});if(!w.signatures.length)throw new ii(E,x,{message:"No signatures found with expected scheme"});return{decodedPayload:x,decodedHeader:E,details:w,suspectPayloadType:m}}function i(h,p,f,m,y,x,E,w){const b=!!f.signatures.filter(t.secureCompare.bind(t,m)).length,_=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,C=E?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!b)throw x?new ii(p,h,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+_+`
`+C}):new ii(p,h,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+_+`
`+C});const O=Math.floor((typeof w=="number"?w:Date.now())/1e3)-f.timestamp;if(y>0&&O>y)throw new ii(p,h,{message:"Timestamp outside the tolerance zone"});return!0}function o(h,p){return typeof h!="string"?null:h.split(",").reduce((f,m)=>{const y=m.split("=");return y[0]==="t"&&(f.timestamp=parseInt(y[1],10)),y[0]===p&&f.signatures.push(y[1]),f},{timestamp:-1,signatures:[]})}let a=null;function l(){return a||(a=t.createDefaultCryptoProvider()),a}function u(h){if(!h)throw new rn({message:"Options are required"});const p=Math.floor(h.timestamp)||Math.floor(Date.now()/1e3),f=h.scheme||n.EXPECTED_SCHEME,m=h.cryptoProvider||l(),y=`${p}.${h.payload}`,x=E=>`t=${p},${f}=${E}`;return Object.assign(Object.assign({},h),{timestamp:p,scheme:f,cryptoProvider:m,payloadString:y,generateHeaderString:x})}return e.signature=n,e}const Vse="2024-12-18.acacia";function Fse(t,e){for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const r=n[0].toLowerCase()+n.substring(1),s=new e[n](t);this[r]=s}}function et(t,e){return function(n){return new Fse(n,e)}}const yo=D.method,$se=D.extend({retrieve:yo({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:yo({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:yo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:yo({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:yo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:yo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:yo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),KC=D.method,Use=D.extend({retrieve:KC({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:KC({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),Fa=D.method,Bse=D.extend({create:Fa({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:Fa({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:Fa({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:Fa({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:Fa({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:Fa({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),wo=D.method,zse=D.extend({create:wo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:wo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:wo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:wo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:wo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:wo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:wo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),uu=D.method,Gse=D.extend({retrieve:uu({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:uu({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:uu({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:uu({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:uu({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),N0=D.method,qse=D.extend({create:N0({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:N0({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:N0({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),Lf=D.method,Wse=D.extend({create:Lf({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Lf({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Lf({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Lf({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),du=D.method,Hse=D.extend({deliverCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:du({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),Vf=D.method,Kse=D.extend({create:Vf({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:Vf({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:Vf({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:Vf({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),Ff=D.method,Qse=D.extend({create:Ff({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:Ff({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:Ff({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:Ff({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),hu=D.method,Yse=D.extend({create:hu({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:hu({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:hu({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:hu({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:hu({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),Jse=D.method,Xse=D.extend({create:Jse({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),Zse=D.method,eie=D.extend({create:Zse({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),tie=D.method,nie=D.extend({retrieve:tie({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),QC=D.method,rie=D.extend({retrieve:QC({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:QC({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),$a=D.method,sie=D.extend({create:$a({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:$a({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:$a({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:$a({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:$a({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:$a({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),k0=D.method,iie=D.extend({create:k0({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:k0({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:k0({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),oie=D.method,aie=D.extend({fundCashBalance:oie({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),O0=D.method,lie=D.extend({create:O0({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:O0({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:O0({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),fu=D.method,cie=D.extend({create:fu({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:fu({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:fu({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:fu({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:fu({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),YC=D.method,uie=D.extend({retrieve:YC({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:YC({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),Zs=D.method,die=D.extend({create:Zs({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:Zs({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:Zs({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:Zs({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:Zs({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:Zs({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:Zs({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:Zs({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),D0=D.method,hie=D.extend({retrieve(...t){return D0({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:n=>this.addFetchRelatedObjectIfNeeded(n)}).apply(this,t)},list(...t){return D0({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:n=>Object.assign(Object.assign({},n),{data:n.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,t)},addFetchRelatedObjectIfNeeded(t){return!t.related_object||!t.related_object.url?t:Object.assign(Object.assign({},t),{fetchRelatedObject:()=>D0({method:"GET",fullPath:t.related_object.url}).apply(this,[{stripeAccount:t.context}])})}}),$f=D.method,fie=D.extend({create:$f({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:$f({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:$f({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:$f({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),Ua=D.method,pie=D.extend({create:Ua({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Ua({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Ua({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Ua({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:Ua({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Ua({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),j0=D.method,mie=D.extend({fail:j0({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:j0({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:j0({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),Uf=D.method,gie=D.extend({create:Uf({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Uf({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Uf({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Uf({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),pu=D.method,vie=D.extend({create:pu({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:pu({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:pu({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:pu({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:pu({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),yie=D.method,wie=D.extend({create:yie({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),xie=D.method,_ie=D.extend({create:xie({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),bie=D.method,Eie=D.extend({create:bie({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),Tie=D.method,Sie=D.extend({create:Tie({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),Pie=D.method,Iie=D.extend({create:Pie({method:"POST",fullPath:"/v1/billing/meter_events"})}),Cie=D.method,Aie=D.extend({create:Cie({method:"POST",fullPath:"/v2/billing/meter_events"})}),xo=D.method,Rie=D.extend({create:xo({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:xo({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:xo({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:xo({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:xo({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:xo({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:xo({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),mu=D.method,Nie=D.extend({create:mu({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:mu({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:mu({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:mu({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:mu({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),Bf=D.method,kie=D.extend({update:Bf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Bf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Bf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Bf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),zf=D.method,Oie=D.extend({create:zf({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:zf({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:zf({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:zf({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),Gf=D.method,Die=D.extend({update:Gf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Gf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Gf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Gf({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),qf=D.method,jie=D.extend({create:qf({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:qf({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:qf({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:qf({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),M0=D.method,Mie=D.extend({activate:M0({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:M0({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:M0({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),Wf=D.method,Lie=D.extend({create:Wf({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Wf({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Wf({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Wf({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),JC=D.method,Vie=D.extend({retrieve:JC({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:JC({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),XC=D.method,Fie=D.extend({retrieve:XC({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:XC({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),$ie=D.method,Uie=D.extend({presentPaymentMethod:$ie({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),kr=D.method,Bie=D.extend({create:kr({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:kr({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:kr({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:kr({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:kr({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),zie=D.method,Gie=D.extend({create:zie({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),ZC=D.method,qie=D.extend({retrieve:ZC({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:ZC({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),Wie=D.method,Hie=D.extend({create:Wie({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),eA=D.method,Kie=D.extend({retrieve:eA({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:eA({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),Qie=D.method,Yie=D.extend({expire:Qie({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),Hf=D.method,Jie=D.extend({create:Hf({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Hf({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Hf({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Hf({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),L0=D.method,Xie=D.extend({create:L0({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:L0({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:L0({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),tA=D.method,Zie=D.extend({retrieve:tA({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:tA({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),V0=D.method,eoe=D.extend({create:V0({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:V0({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:V0({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),nA=D.method,toe=D.extend({retrieve:nA({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:nA({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),Kf=D.method,noe=D.extend({create:Kf({method:"POST",fullPath:"/v1/apps/secrets"}),list:Kf({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Kf({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Kf({method:"GET",fullPath:"/v1/apps/secrets/find"})}),roe=D.method,soe=D.extend({create:roe({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),Ba=D.method,ioe=D.extend({create:Ba({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Ba({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:Ba({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:Ba({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Ba({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Ba({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),rA=D.method,ooe=D.extend({create:rA({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:rA({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),sA=D.method,aoe=D.extend({retrieve:sA({method:"GET",fullPath:"/v1/tax/settings"}),update:sA({method:"POST",fullPath:"/v1/tax/settings"})}),iA=D.method,loe=D.extend({retrieve:iA({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:iA({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),gu=D.method,coe=D.extend({create:gu({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:gu({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:gu({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:gu({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:gu({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),F0=D.method,uoe=D.extend({retrieve:F0({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:F0({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:F0({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),oA=D.method,doe=D.extend({retrieve:oA({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:oA({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),$0=D.method,hoe=D.extend({createForceCapture:$0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:$0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:$0({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),aA=D.method,foe=D.extend({retrieve:aA({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:aA({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),U0=D.method,poe=D.extend({retrieve:U0({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:U0({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:U0({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),Qf=D.method,moe=D.extend({retrieve:Qf({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Qf({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Qf({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Qf({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),lA=D.method,goe=D.extend({retrieve:lA({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:lA({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),Yf=D.method,voe=D.extend({create:Yf({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Yf({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Yf({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Yf({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),vu=D.method,yoe=D.extend({create:vu({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:vu({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:vu({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:vu({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:vu({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),cA=D.method,woe=D.extend({retrieve:cA({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:cA({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),za=D.method,xoe=D.extend({create:za({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:za({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:za({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:za({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:za({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:za({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),at=D.method,uA=D.extend({create:at({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?at({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),at({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:at({method:"POST",fullPath:"/v1/accounts/{account}"}),list:at({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:at({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:at({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:at({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:at({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:at({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:at({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:at({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:at({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:at({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:at({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:at({method:"GET",fullPath:"/v1/account"}),retrieveCapability:at({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:at({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:at({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:at({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:at({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:at({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),_oe=D.method,boe=D.extend({create:_oe({method:"POST",fullPath:"/v1/account_links"})}),Eoe=D.method,Toe=D.extend({create:Eoe({method:"POST",fullPath:"/v1/account_sessions"})}),Jf=D.method,Soe=D.extend({create:Jf({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:Jf({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:Jf({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:Jf({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),Ga=D.method,Poe=D.extend({retrieve:Ga({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Ga({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Ga({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Ga({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Ga({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Ga({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),Ioe=D.method,Coe=D.extend({retrieve:Ioe({method:"GET",fullPath:"/v1/balance"})}),dA=D.method,Aoe=D.extend({retrieve:dA({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:dA({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),qa=D.method,Roe=D.extend({create:qa({method:"POST",fullPath:"/v1/charges"}),retrieve:qa({method:"GET",fullPath:"/v1/charges/{charge}"}),update:qa({method:"POST",fullPath:"/v1/charges/{charge}"}),list:qa({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:qa({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:qa({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),Noe=D.method,koe=D.extend({retrieve:Noe({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),hA=D.method,Ooe=D.extend({retrieve:hA({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:hA({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),yu=D.method,Doe=D.extend({create:yu({method:"POST",fullPath:"/v1/coupons"}),retrieve:yu({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:yu({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:yu({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:yu({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),ei=D.method,joe=D.extend({create:ei({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:ei({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:ei({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:ei({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:ei({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:ei({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:ei({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:ei({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),Moe=D.method,Loe=D.extend({create:Moe({method:"POST",fullPath:"/v1/customer_sessions"})}),Ve=D.method,Voe=D.extend({create:Ve({method:"POST",fullPath:"/v1/customers"}),retrieve:Ve({method:"GET",fullPath:"/v1/customers/{customer}"}),update:Ve({method:"POST",fullPath:"/v1/customers/{customer}"}),list:Ve({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:Ve({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:Ve({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:Ve({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:Ve({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:Ve({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:Ve({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:Ve({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:Ve({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:Ve({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:Ve({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:Ve({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:Ve({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:Ve({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:Ve({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:Ve({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:Ve({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:Ve({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:Ve({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:Ve({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:Ve({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:Ve({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:Ve({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:Ve({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:Ve({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),Xf=D.method,Foe=D.extend({retrieve:Xf({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Xf({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Xf({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Xf({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),fA=D.method,$oe=D.extend({create:fA({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:fA({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),pA=D.method,Uoe=D.extend({retrieve:pA({method:"GET",fullPath:"/v1/events/{id}"}),list:pA({method:"GET",fullPath:"/v1/events",methodType:"list"})}),mA=D.method,Boe=D.extend({retrieve:mA({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:mA({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),Zf=D.method,zoe=D.extend({create:Zf({method:"POST",fullPath:"/v1/file_links"}),retrieve:Zf({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Zf({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Zf({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),Goe=(t,e,n)=>{const r=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();n["Content-Type"]=`multipart/form-data; boundary=${r}`;const s=new TextEncoder;let i=new Uint8Array(0);const o=s.encode(`\r
`);function a(h){const p=i,f=h instanceof Uint8Array?h:new Uint8Array(s.encode(h));i=new Uint8Array(p.length+f.length+2),i.set(p),i.set(f,p.length),i.set(o,i.length-2)}function l(h){return`"${h.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const u=_se(e);for(const h in u){if(!Object.prototype.hasOwnProperty.call(u,h))continue;const p=u[h];if(a(`--${r}`),Object.prototype.hasOwnProperty.call(p,"data")){const f=p;a(`Content-Disposition: form-data; name=${l(h)}; filename=${l(f.name||"blob")}`),a(`Content-Type: ${f.type||"application/octet-stream"}`),a(""),a(f.data)}else a(`Content-Disposition: form-data; name=${l(h)}`),a(""),a(p)}return a(`--${r}--`),i};function qoe(t,e,n,r){if(e=e||{},t!=="POST")return r(null,$v(e));this._stripe._platformFunctions.tryBufferData(e).then(s=>{const i=Goe(t,s,n);return r(null,i)}).catch(s=>r(s,null))}const B0=D.method,Woe=D.extend({create:B0({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:B0({method:"GET",fullPath:"/v1/files/{file}"}),list:B0({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:qoe}),wu=D.method,Hoe=D.extend({create:wu({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:wu({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:wu({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:wu({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:wu({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),ep=D.method,Koe=D.extend({retrieve:ep({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:ep({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:ep({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:ep({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),bt=D.method,Qoe=D.extend({create:bt({method:"POST",fullPath:"/v1/invoices"}),retrieve:bt({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:bt({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:bt({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:bt({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),createPreview:bt({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:bt({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:bt({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),retrieveUpcoming:bt({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:bt({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:bt({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),Yoe=D.method,Joe=D.extend({retrieve:Yoe({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),gA=D.method,z0="connect.stripe.com",Xoe=D.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let n="oauth/authorize";return e.express&&(n=`express/${n}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${z0}/${n}?${$v(t)}`},token:gA({method:"POST",path:"oauth/token",host:z0}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),gA({method:"POST",path:"oauth/deauthorize",host:z0}).apply(this,[t,...e])}}),ur=D.method,Zoe=D.extend({create:ur({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:ur({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:ur({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:ur({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:ur({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),xu=D.method,eae=D.extend({create:xu({method:"POST",fullPath:"/v1/payment_links"}),retrieve:xu({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:xu({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:xu({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:xu({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),tp=D.method,tae=D.extend({create:tp({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:tp({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:tp({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:tp({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),_u=D.method,nae=D.extend({create:_u({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:_u({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:_u({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:_u({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:_u({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),Wa=D.method,rae=D.extend({create:Wa({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Wa({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Wa({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Wa({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Wa({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Wa({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),Ha=D.method,sae=D.extend({create:Ha({method:"POST",fullPath:"/v1/payouts"}),retrieve:Ha({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Ha({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Ha({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Ha({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Ha({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),bu=D.method,iae=D.extend({create:bu({method:"POST",fullPath:"/v1/plans"}),retrieve:bu({method:"GET",fullPath:"/v1/plans/{plan}"}),update:bu({method:"POST",fullPath:"/v1/plans/{plan}"}),list:bu({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:bu({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),Eu=D.method,oae=D.extend({create:Eu({method:"POST",fullPath:"/v1/prices"}),retrieve:Eu({method:"GET",fullPath:"/v1/prices/{price}"}),update:Eu({method:"POST",fullPath:"/v1/prices/{price}"}),list:Eu({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Eu({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),Or=D.method,aae=D.extend({create:Or({method:"POST",fullPath:"/v1/products"}),retrieve:Or({method:"GET",fullPath:"/v1/products/{id}"}),update:Or({method:"POST",fullPath:"/v1/products/{id}"}),list:Or({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:Or({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:Or({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:Or({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:Or({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:Or({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:Or({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),np=D.method,lae=D.extend({create:np({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:np({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:np({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:np({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),Dr=D.method,cae=D.extend({create:Dr({method:"POST",fullPath:"/v1/quotes"}),retrieve:Dr({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:Dr({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:Dr({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:Dr({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:Dr({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:Dr({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:Dr({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:Dr({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:Dr({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),Tu=D.method,uae=D.extend({create:Tu({method:"POST",fullPath:"/v1/refunds"}),retrieve:Tu({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Tu({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Tu({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Tu({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),G0=D.method,dae=D.extend({retrieve:G0({method:"GET",fullPath:"/v1/reviews/{review}"}),list:G0({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:G0({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),hae=D.method,fae=D.extend({list:hae({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),_o=D.method,pae=D.extend({create:_o({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:_o({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:_o({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:_o({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:_o({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:_o({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:_o({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),rp=D.method,mae=D.extend({create:rp({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:rp({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:rp({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:rp({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),Su=D.method,gae=D.extend({create:Su({method:"POST",fullPath:"/v1/sources"}),retrieve:Su({method:"GET",fullPath:"/v1/sources/{source}"}),update:Su({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Su({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Su({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),bo=D.method,vae=D.extend({create:bo({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:bo({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:bo({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:bo({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:bo({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:bo({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:bo({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})}),Ka=D.method,yae=D.extend({create:Ka({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Ka({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Ka({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Ka({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Ka({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Ka({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),ti=D.method,wae=D.extend({create:ti({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ti({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ti({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ti({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ti({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ti({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:ti({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ti({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),vA=D.method,xae=D.extend({retrieve:vA({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:vA({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),sp=D.method,_ae=D.extend({create:sp({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:sp({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:sp({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:sp({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),ip=D.method,bae=D.extend({create:ip({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:ip({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:ip({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:ip({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),yA=D.method,Eae=D.extend({create:yA({method:"POST",fullPath:"/v1/tokens"}),retrieve:yA({method:"GET",fullPath:"/v1/tokens/{token}"})}),Pu=D.method,Tae=D.extend({create:Pu({method:"POST",fullPath:"/v1/topups"}),retrieve:Pu({method:"GET",fullPath:"/v1/topups/{topup}"}),update:Pu({method:"POST",fullPath:"/v1/topups/{topup}"}),list:Pu({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:Pu({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),ni=D.method,Sae=D.extend({create:ni({method:"POST",fullPath:"/v1/transfers"}),retrieve:ni({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:ni({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:ni({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:ni({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:ni({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:ni({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:ni({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),Iu=D.method,Pae=D.extend({create:Iu({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Iu({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Iu({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Iu({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Iu({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Iae=et("apps",{Secrets:noe}),Cae=et("billing",{Alerts:Bse,CreditBalanceSummary:nie,CreditBalanceTransactions:rie,CreditGrants:sie,MeterEventAdjustments:wie,MeterEvents:Iie,Meters:Rie}),Aae=et("billingPortal",{Configurations:Qse,Sessions:soe}),Rae=et("checkout",{Sessions:ioe}),Nae=et("climate",{Orders:Nie,Products:Fie,Suppliers:loe}),kae=et("entitlements",{ActiveEntitlements:Use,Features:fie}),Oae=et("financialConnections",{Accounts:$se,Sessions:ooe,Transactions:foe}),Dae=et("forwarding",{Requests:eoe}),jae=et("identity",{VerificationReports:woe,VerificationSessions:xoe}),Mae=et("issuing",{Authorizations:Gse,Cardholders:Wse,Cards:Kse,Disputes:cie,PersonalizationDesigns:Lie,PhysicalBundles:Vie,Tokens:uoe,Transactions:poe}),Lae=et("radar",{EarlyFraudWarnings:uie,ValueListItems:voe,ValueLists:yoe}),Vae=et("reporting",{ReportRuns:Xie,ReportTypes:Zie}),Fae=et("sigma",{ScheduledQueryRuns:toe}),$ae=et("tax",{Calculations:qse,Registrations:Jie,Settings:aoe,Transactions:moe}),Uae=et("terminal",{Configurations:Yse,ConnectionTokens:eie,Locations:vie,Readers:Bie}),Bae=et("testHelpers",{ConfirmationTokens:Xse,Customers:aie,Refunds:Yie,TestClocks:coe,Issuing:et("issuing",{Authorizations:zse,Cards:Hse,PersonalizationDesigns:Mie,Transactions:hoe}),Terminal:et("terminal",{Readers:Uie}),Treasury:et("treasury",{InboundTransfers:mie,OutboundPayments:kie,OutboundTransfers:Die,ReceivedCredits:Gie,ReceivedDebits:Hie})}),zae=et("treasury",{CreditReversals:iie,DebitReversals:lie,FinancialAccounts:pie,InboundTransfers:gie,OutboundPayments:Oie,OutboundTransfers:jie,ReceivedCredits:qie,ReceivedDebits:Kie,TransactionEntries:doe,Transactions:goe}),Gae=et("v2",{Billing:et("billing",{MeterEventAdjustments:_ie,MeterEventSession:Eie,MeterEventStream:Sie,MeterEvents:Aie}),Core:et("core",{EventDestinations:die,Events:hie})}),op=Object.freeze(Object.defineProperty({__proto__:null,Account:uA,AccountLinks:boe,AccountSessions:Toe,Accounts:uA,ApplePayDomains:Soe,ApplicationFees:Poe,Apps:Iae,Balance:Coe,BalanceTransactions:Aoe,Billing:Cae,BillingPortal:Aae,Charges:Roe,Checkout:Rae,Climate:Nae,ConfirmationTokens:koe,CountrySpecs:Ooe,Coupons:Doe,CreditNotes:joe,CustomerSessions:Loe,Customers:Voe,Disputes:Foe,Entitlements:kae,EphemeralKeys:$oe,Events:Uoe,ExchangeRates:Boe,FileLinks:zoe,Files:Woe,FinancialConnections:Oae,Forwarding:Dae,Identity:jae,InvoiceItems:Hoe,InvoiceRenderingTemplates:Koe,Invoices:Qoe,Issuing:Mae,Mandates:Joe,OAuth:Xoe,PaymentIntents:Zoe,PaymentLinks:eae,PaymentMethodConfigurations:tae,PaymentMethodDomains:nae,PaymentMethods:rae,Payouts:sae,Plans:iae,Prices:oae,Products:aae,PromotionCodes:lae,Quotes:cae,Radar:Lae,Refunds:uae,Reporting:Vae,Reviews:dae,SetupAttempts:fae,SetupIntents:pae,ShippingRates:mae,Sigma:Fae,Sources:gae,SubscriptionItems:vae,SubscriptionSchedules:yae,Subscriptions:wae,Tax:$ae,TaxCodes:xae,TaxIds:_ae,TaxRates:bae,Terminal:Uae,TestHelpers:Bae,Tokens:Eae,Topups:Tae,Transfers:Sae,Treasury:zae,V2:Gae,WebhookEndpoints:Pae},Symbol.toStringTag,{value:"Module"})),wA="api.stripe.com",xA="443",_A="/v1/",bA=Vse,EA=8e4,TA=5,SA=.5,qae=["name","version","url","partner_id"],PA=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],Wae=t=>new dd(t,D.MAX_BUFFERED_REQUEST_METRICS);function Hae(t,e=Wae){r.PACKAGE_VERSION="17.5.0",r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},bse()),r.StripeResource=D,r.resources=op,r.HttpClient=Qn,r.HttpClientResponse=M4,r.CryptoProvider=L4;function n(s=t){return HC(s)}r.webhooks=Object.assign(n,HC(t));function r(s,i={}){if(!(this instanceof r))return new r(s,i);const o=this._getPropsFromConfig(i);this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);const a=o.httpAgent||null;this._api={host:o.host||wA,port:o.port||xA,protocol:o.protocol||"https",basePath:_A,version:o.apiVersion||bA,timeout:A0("timeout",o.timeout,EA),maxNetworkRetries:A0("maxNetworkRetries",o.maxNetworkRetries,2),agent:a,httpClient:o.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:o.stripeAccount||null,stripeContext:o.stripeContext||null};const l=o.typescript||!1;l!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=l),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setAuthenticator(s,o.authenticator),this.errors=_C,this.webhooks=n(),this._prevRequestMetrics=[],this._enableTelemetry=o.telemetry!==!1,this._requestSender=e(this),this.StripeResource=r.StripeResource}return r.errors=_C,r.createNodeHttpClient=t.createNodeHttpClient,r.createFetchHttpClient=t.createFetchHttpClient,r.createNodeCryptoProvider=t.createNodeCryptoProvider,r.createSubtleCryptoProvider=t.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(s,i,o,a){return this._requestSender._rawRequest(s,i,o,a)},_setAuthenticator(s,i){if(s&&i)throw new Error("Can't specify both apiKey and authenticator");if(!s&&!i)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=s?qx(s):i},_setAppInfo(s){if(s&&typeof s!="object")throw new Error("AppInfo must be an object.");if(s&&!s.name)throw new Error("AppInfo.name is required");s=s||{},this._appInfo=qae.reduce((i,o)=>(typeof s[o]=="string"&&(i=i||{},i[o]=s[o]),i),void 0)},_setApiField(s,i){this._api[s]=i},getApiField(s){return this._api[s]},setClientId(s){this._clientId=s},getClientId(){return this._clientId},getConstant:s=>{switch(s){case"DEFAULT_HOST":return wA;case"DEFAULT_PORT":return xA;case"DEFAULT_BASE_PATH":return _A;case"DEFAULT_API_VERSION":return bA;case"DEFAULT_TIMEOUT":return EA;case"MAX_NETWORK_RETRY_DELAY_SEC":return TA;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return SA}return r[s]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(s,i,o){const a=A0(s,i,o);this._setApiField(s,a)},getMaxNetworkRetryDelay(){return TA},getInitialNetworkRetryDelay(){return SA},getClientUserAgent(s){return this.getClientUserAgentSeeded(r.USER_AGENT,s)},getClientUserAgentSeeded(s,i){this._platformFunctions.getUname().then(o=>{var a;const l={};for(const h in s)Object.prototype.hasOwnProperty.call(s,h)&&(l[h]=encodeURIComponent((a=s[h])!==null&&a!==void 0?a:"null"));l.uname=encodeURIComponent(o||"UNKNOWN");const u=this.getApiField("httpClient");u&&(l.httplib=encodeURIComponent(u.getClientName())),this._appInfo&&(l.application=this._appInfo),i(JSON.stringify(l))})},getAppInfoAsString(){if(!this._appInfo)return"";let s=this._appInfo.name;return this._appInfo.version&&(s+=`/${this._appInfo.version}`),this._appInfo.url&&(s+=` (${this._appInfo.url})`),s},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const s in op)Object.prototype.hasOwnProperty.call(op,s)&&(this[wse(s)]=new op[s](this))},_getPropsFromConfig(s){if(!s)return{};const i=typeof s=="string";if(!(s===Object(s)&&!Array.isArray(s))&&!i)throw new Error("Config must either be an object or a string");if(i)return{apiVersion:s};if(Object.keys(s).filter(l=>!PA.includes(l)).length>0)throw new Error(`Config object may only contain the following: ${PA.join(", ")}`);return s},parseThinEvent(s,i,o,a,l,u){return this.webhooks.constructEvent(s,i,o,a,l,u)}},r}const Kae=Hae(new pte),Qae=new Kae("your_secret_key_here",{apiVersion:"2023-10-16"}),Yae=async t=>{try{return(await Qae.checkout.sessions.retrieve(t)).payment_status==="paid"}catch(e){return console.error("Error checking subscription status:",e),!1}};function Jae(){const t=ht(),{toast:e}=Gn(),[n]=G$(),{user:r,refreshUser:s}=sr(),[i,o]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const l=n.get("session_id");if(!l)throw new Error("No session ID found");if(!await Yae(l))throw new Error("Payment verification failed");s&&await s(),e({title:"Subscription Successful!",description:"Thank you for subscribing. Your account has been upgraded."}),setTimeout(()=>{t("/dashboard")},3e3)}catch(l){console.error("Subscription verification error:",l),e({title:"Verification Failed",description:"There was an issue verifying your subscription. Please contact support.",variant:"destructive"}),setTimeout(()=>{t("/subscription")},3e3)}finally{o(!1)}})()},[t,e,n,s]),c.jsx("div",{className:"container py-16",children:c.jsx("div",{className:"max-w-md mx-auto text-center",children:i?c.jsxs(c.Fragment,{children:[c.jsx(xb,{className:"w-16 h-16 text-primary mx-auto mb-6 animate-spin"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifying Your Subscription"}),c.jsx("p",{className:"text-muted-foreground",children:"Please wait while we verify your payment..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(wb,{className:"w-16 h-16 text-primary mx-auto mb-6 animate-bounce"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Subscription Successful!"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Thank you for subscribing. You will be redirected to the dashboard shortly."})]})})})}function Xae(){const t=ht(),{toast:e}=Gn();return g.useEffect(()=>{e({title:"Subscription Cancelled",description:"Your subscription was not completed. You can try again anytime.",variant:"destructive"})},[e]),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neon-purple to-black p-8 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(gO,{className:"w-24 h-24 text-red-500 mx-auto mb-8"}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Subscription Cancelled"}),c.jsx("p",{className:"text-white/60 text-lg mb-8",children:"Your subscription was not completed. You can try again anytime."}),c.jsx(ee,{onClick:()=>t("/subscription"),className:"bg-neon-green hover:bg-neon-green/90 text-black",children:"Try Again"})]})})}const Zae="AIzaSyDiItOTczdKCepW0lK00uOWPT0_Hnxeil0",ele="AIzaSyAwiGukfOr_iivWBM1YrmseRZNqA5i_vPQ",tle=new Dv(Zae),Rh=tle.getGenerativeModel({model:"gemini-pro"}),b5=t=>{try{if(console.log("Extracting video ID from URL:",t),!t.startsWith("http://")&&!t.startsWith("https://"))throw new Error("URL must start with http:// or https://");const e=new URL(t);let n="";if(e.hostname==="youtu.be"?(n=e.pathname.slice(1),console.log("Extracted video ID from youtu.be format:",n)):e.hostname.includes("youtube.com")&&e.pathname.startsWith("/embed/")?(n=e.pathname.split("/embed/")[1],console.log("Extracted video ID from embed format:",n)):e.hostname.includes("youtube.com")&&(n=e.searchParams.get("v")||"",console.log("Extracted video ID from youtube.com format:",n)),n=n.split("&")[0],n=n.split("?")[0],n=n.split("#")[0],!n||!/^[a-zA-Z0-9_-]{11}$/.test(n))throw new Error("Invalid YouTube video ID. Please check your URL format.");return n}catch(e){throw console.error("Error extracting video ID:",e),e instanceof Error?e.message.includes("Invalid URL")?new Error("Please enter a complete URL including https:// or http://"):e:new Error("Failed to extract video ID from URL")}},E5=async t=>{console.log("Attempting to fetch video details for ID:",t);try{const e=new URL("https://youtube.googleapis.com/youtube/v3/videos");e.searchParams.append("part","snippet"),e.searchParams.append("id",t),e.searchParams.append("key",ele),console.log("Making request to YouTube API...");const n=await fetch(e.toString(),{method:"GET",headers:{Accept:"application/json"}}),r=await n.json();if(console.log("Response status:",n.status),!n.ok)throw r.error?(console.error("YouTube API error details:",JSON.stringify(r.error,null,2)),r.error.code===403?r.error.message.includes("quota")?new Error("YouTube API quota exceeded. Please try again later."):new Error("YouTube API key is not authorized. Please check API key configuration."):r.error.code===400?r.error.message.includes("API key not valid")?new Error("Invalid YouTube API key. Please check your API key configuration in the .env file."):new Error("Invalid request to YouTube API. Please check the video URL."):new Error(`YouTube API error: ${r.error.message||"Unknown error"}`)):new Error(`Failed to fetch video details. Status: ${n.status}`);if(!r.items||r.items.length===0)throw new Error("Video not found on YouTube. Please check the URL and try again.");return console.log("Successfully fetched video details"),{title:r.items[0].snippet.title,description:r.items[0].snippet.description,channelTitle:r.items[0].snippet.channelTitle}}catch(e){throw console.error("Full error details:",e),e instanceof Error?e:new Error("Failed to fetch video details. Please check your YouTube URL and try again.")}},nle=async t=>{try{const e=`Create educational flashcards for studying "${t}". 
    Create exactly 5 flashcards that test understanding of key concepts.
    Return ONLY a JSON array without any markdown formatting or explanation. Each flashcard must have:
    - 'term': a clear question or concept
    - 'definition': a complete and accurate explanation
    
    Example format:
    [{"term": "What is photosynthesis?", "definition": "The process by which plants convert sunlight into chemical energy"}]
    
    Important: Return ONLY the JSON array, no other text or formatting.`,s=(await(await Rh.generateContent(e)).response).text().trim();try{const i=s.replace(/^```json\n|\n```$/g,"").trim(),o=JSON.parse(i);if(!Array.isArray(o))throw new Error("Invalid response format");if(!o.every(l=>typeof l=="object"&&l!==null&&typeof l.term=="string"&&typeof l.definition=="string"))throw new Error("Invalid flashcard format");return o}catch(i){throw console.error("Error parsing flashcards:",i),new Error("Failed to generate valid flashcards. Please try again.")}}catch(e){throw console.error("Error generating flashcards:",e),new Error("Failed to generate flashcards. Please try again.")}},rle=async t=>{try{const e=b5(t),n=await E5(e),r=`Create educational flashcards based on this YouTube video:
    Title: ${n.title}
    Channel: ${n.channelTitle}
    Description: ${n.description}

    Create 5 flashcards that test understanding of the key concepts from this video.
    Format the response as a valid JSON array with exactly this format, no markdown or code blocks:
    [{"term": "question here", "definition": "answer here"}]`,o=(await(await Rh.generateContent(r)).response).text();try{const a=o.replace(/```json\n|\n```/g,"").trim(),l=JSON.parse(a);if(!Array.isArray(l)||!l.every(u=>typeof u=="object"&&"term"in u&&"definition"in u))throw new Error("Invalid response format");return l}catch(a){throw console.error("Error parsing flashcards:",a),new Error("Failed to generate valid flashcards. Please try again.")}}catch(e){throw console.error("Error generating flashcards from YouTube:",e),e instanceof Error?e:new Error("Failed to generate flashcards. Please try again.")}},sle=async t=>{try{const e=b5(t);if(!e)throw new Error("Invalid YouTube URL");const r=`Create 5 multiple choice questions based on this video: "${(await E5(e)).title}"
    
Instructions:
1. Each question must have EXACTLY 4 options
2. IMPORTANT: The correctAnswer must be the FULL TEXT of one of the options, not just A, B, C, or D
3. Include a brief explanation for each answer
4. Format each question like this:
{
  "question": "What is Python?",
  "options": [
    "A programming language",
    "A type of snake",
    "A mathematical concept",
    "A database system"
  ],
  "correctAnswer": "A programming language",
  "explanation": "Python is a high-level programming language..."
}

Return exactly 5 questions in a JSON array.
Do not use any special characters or line breaks in the text fields.
Make sure all quotes are properly escaped.
Remember: correctAnswer must be the EXACT FULL TEXT of the correct option.`,s=await Rh.generateContent(r);if(!s.response)throw new Error("Failed to generate quiz content");const i=s.response.text();console.log("Raw response:",i);try{const a=(l=>{let u=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();try{return JSON.parse(u)}catch{u=u.replace(/\[\s+/g,"[").replace(/\s+\]/g,"]").replace(/{\s+/g,"{").replace(/\s+}/g,"}").replace(/[""]/g,'"').replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/"\s*:\s*/g,'":').replace(/,\s*([\]}])/g,"$1").replace(/\n/g," ");try{return JSON.parse(u)}catch(p){const f=u.match(/\[[\s\S]*\]/);if(f)return JSON.parse(f[0]);throw p}}})(i);if(!Array.isArray(a))throw new Error("Response is not an array");return a.map((l,u)=>{if(!(l!=null&&l.question)||!Array.isArray(l==null?void 0:l.options)||!(l!=null&&l.correctAnswer)||!(l!=null&&l.explanation))throw new Error(`Question ${u+1} is missing required fields`);const h={question:String(l.question).trim(),options:l.options.map(m=>String(m).trim()),correctAnswer:String(l.correctAnswer).trim(),explanation:String(l.explanation).trim()};if(h.options.length!==4)throw new Error(`Question ${u+1} must have exactly 4 options`);if(new Set(h.options).size!==4)throw new Error(`Question ${u+1} has duplicate options`);if(!h.options.includes(h.correctAnswer)&&/^[A-D]$/.test(h.correctAnswer)){const m=h.correctAnswer.charCodeAt(0)-65;m>=0&&m<h.options.length&&(h.correctAnswer=h.options[m])}if(!h.options.includes(h.correctAnswer))throw console.error(`Question ${u+1} validation failed:`,{options:h.options,correctAnswer:h.correctAnswer}),new Error(`Question ${u+1}'s correct answer does not match any option exactly`);return h})}catch(o){throw console.error("Error parsing quiz questions:",o),console.error("Raw response:",i),new Error("Failed to parse quiz response. Please try again.")}}catch(e){throw console.error("Error generating quiz from YouTube:",e),e instanceof Error?e:new Error("Failed to generate quiz. Please try again.")}},ile=async t=>{if(!t)throw new Error("No text provided for summarization");try{const e=`Summarize the following text in a clear and concise way: ${t}`;return(await(await Rh.generateContent(e)).response).text()}catch(e){throw console.error("Error generating summary:",e),new Error("Failed to generate summary. Please try again.")}},ole=async(t,e)=>{const n=e.easy+e.medium+e.hard,r=Math.ceil(n/t.length);try{const s=`Generate a mock test with EXACTLY ${n} multiple-choice questions.

STRICT REQUIREMENTS:
1. EXACT Difficulty Distribution (most important):
   - Easy: ${e.easy} questions
   - Medium: ${e.medium} questions
   - Hard: ${e.hard} questions

2. Topics Distribution:
   Topics: ${t.map(o=>`"${o}"`).join(", ")}
   - Each topic should have ${r} questions (±1)
   - Ensure even distribution across topics

3. Question Format:
   {
     "question": "Clear question text",
     "options": ["Option A", "Option B", "Option C", "Option D"],
     "correctAnswer": "Must match one option exactly",
     "explanation": "Brief explanation",
     "difficulty": "easy|medium|hard",
     "topic": "Must match topic exactly"
   }

CRITICAL VALIDATION RULES:
1. MUST have exactly:
   - ${e.easy} easy questions
   - ${e.medium} medium questions
   - ${e.hard} hard questions
2. Topic names must match exactly (case-sensitive)
3. Each topic must have ${r} questions (±1)
4. Correct answer must match one option exactly
5. All options must be unique and plausible

Return ONLY a JSON array. No other text or formatting.

Example format:
[
  {
    "question": "What is React's virtual DOM?",
    "options": [
      "A lightweight copy of the actual DOM",
      "A browser extension for React",
      "A CSS framework",
      "A JavaScript library"
    ],
    "correctAnswer": "A lightweight copy of the actual DOM",
    "explanation": "Virtual DOM is React's lightweight representation of the actual DOM",
    "difficulty": "medium",
    "topic": "${t[0]}"
  }
]`;let i=await IA(s,t,e);if(!i){const o=`${s}

IMPORTANT: Focus on EXACT difficulty counts first:
- ${e.easy} easy
- ${e.medium} medium
- ${e.hard} hard`;if(i=await IA(o,t,e),!i)throw new Error("Failed to generate questions with correct distribution after multiple attempts")}return i.map(o=>({...o,id:Date.now().toString()+Math.random().toString(36).substr(2,9)}))}catch(s){throw console.error("Error generating questions:",s),s instanceof Error?s:new Error("Failed to generate questions. Please try again.")}};async function IA(t,e,n,r=3){for(let s=1;s<=r;s++)try{let a=(await(await Rh.generateContent(t)).response).text().trim();a.startsWith("```")&&(a=a.replace(/^```json?\s*/,"").replace(/\s*```$/,""));const l=JSON.parse(a);if(!ale(l,e,n)){if(s===r)return null;continue}return l}catch{if(s===r)return null;await new Promise(o=>setTimeout(o,1e3))}return null}function ale(t,e,n){const r={easy:0,medium:0,hard:0},s=new Map;e.forEach(l=>s.set(l,0));for(const l of t){if(!l.question||!Array.isArray(l.options)||l.options.length!==4||!l.correctAnswer||!l.options.includes(l.correctAnswer)||!["easy","medium","hard"].includes(l.difficulty)||!e.includes(l.topic))return!1;r[l.difficulty]++,s.set(l.topic,(s.get(l.topic)||0)+1)}if(r.easy!==n.easy||r.medium!==n.medium||r.hard!==n.hard)return!1;const i=t.length,o=Math.floor(i/e.length),a=Math.ceil(i/e.length);for(const l of s.values())if(l<o||l>a)return!1;return!0}const lle="AIzaSyDiItOTczdKCepW0lK00uOWPT0_Hnxeil0",cle=new Dv(lle),ule=cle.getGenerativeModel({model:"gemini-pro"});async function dle(t,e=3){try{const n=t.performance.filter(l=>l.score<70).map(l=>l.topic),r=t.performance.filter(l=>l.score>=70).map(l=>l.topic),s=`You are an AI tutor creating personalized flashcards. Generate ${e} flashcards based on this student profile:

Learning Profile:
- Goals: ${t.goals.map(l=>`${l.topic} (${l.level})`).join(", ")}
- Areas needing improvement: ${n.join(", ")||"None identified"}
- Strong areas: ${r.join(", ")||"None identified"}

Generate flashcards that will help the student learn effectively. Focus more on weak topics if any are identified.

Return the response in this exact JSON format:
{
  "flashcards": [
    {
      "term": "question or concept",
      "definition": "detailed explanation or answer",
      "difficulty": "easy|medium|hard",
      "topic": "relevant subject area"
    }
  ]
}

Make sure the JSON is valid and properly formatted.`,a=(await(await ule.generateContent(s)).response).text();try{const u=JSON.parse(a).flashcards||[];if(!Array.isArray(u)||u.length===0)throw new Error("Invalid flashcards format");return u.map(h=>({term:String(h.term||""),definition:String(h.definition||""),difficulty:h.difficulty||"medium",topic:String(h.topic||"General"),relevanceScore:fle(h,t)}))}catch(l){return console.error("Error parsing AI response:",l),console.log("Raw AI response:",a),hle(e,t)}}catch(n){throw console.error("Error generating personalized flashcards:",n),new Error("Failed to generate personalized flashcards")}}function hle(t,e){const n=e.goals[0]||{topic:"General Learning",level:"beginner"};return Array.from({length:t},(r,s)=>({term:`${n.topic} Concept ${s+1}`,definition:`This is a basic concept in ${n.topic}. Please try generating flashcards again for more specific content.`,difficulty:"medium",topic:n.topic,relevanceScore:50}))}function fle(t,e){let n=50;const r=e.performance.find(i=>i.topic===t.topic);r?n-=r.score/2:n+=20;const s={easy:e.engagementMetrics.preferredLevel==="beginner"?20:-10,medium:e.engagementMetrics.preferredLevel==="intermediate"?20:0,hard:e.engagementMetrics.preferredLevel==="advanced"?20:-10};return n+=s[t.difficulty]||0,Math.max(0,Math.min(100,n))}const ple="AIzaSyDiItOTczdKCepW0lK00uOWPT0_Hnxeil0",mle=new Dv(ple);async function gle(t){try{const e=mle.getGenerativeModel({model:"gemini-pro"}),n=`Based on the user's context, generate 5 personalized topic recommendations.
    User Context:
    - Current Level: ${t.currentLevel}
    - Primary Interests: ${t.userInterests.primaryInterests.join(", ")}
    - Struggling Topics: ${t.userInterests.strugglingTopics.join(", ")}
    - Strong Topics: ${t.userInterests.strongTopics.join(", ")}
    
    Return the recommendations in this exact JSON format without any markdown or code blocks:
    [{"title": "Topic Title", "description": "Topic Description", "matchScore": 85, "difficulty": "medium", "prerequisites": ["topic1", "topic2"], "estimatedTimeMinutes": 30}]`,i=(await(await e.generateContent(n)).response).text();try{const o=i.replace(/```json\n|\n```/g,"").trim(),a=JSON.parse(o);if(!Array.isArray(a)||!a.every(l=>typeof l=="object"&&"title"in l&&"description"in l&&"matchScore"in l&&"difficulty"in l&&"prerequisites"in l&&"estimatedTimeMinutes"in l))throw new Error("Invalid recommendation format");return a.map(l=>({...l,matchScore:Math.min(100,Math.max(0,l.matchScore)),difficulty:l.difficulty}))}catch(o){return console.error("Error parsing recommendations:",o),CA(t)}}catch(e){return console.error("Error generating topic recommendations:",e),CA(t)}}function CA(t){return[{id:"1",name:t.userInterests.primaryInterests[0]||"Getting Started",description:"Introduction to key concepts and fundamentals",matchScore:90,difficulty:"easy",prerequisites:[],estimatedTimeMinutes:30},{id:"2",name:"Building Blocks",description:"Essential components and patterns",matchScore:85,difficulty:"easy",prerequisites:["Getting Started"],estimatedTimeMinutes:45},{id:"3",name:"Common Challenges",description:"Addressing frequent problems and solutions",matchScore:80,difficulty:"medium",prerequisites:["Building Blocks"],estimatedTimeMinutes:60},{id:"4",name:"Advanced Concepts",description:"Deep dive into complex topics",matchScore:75,difficulty:"hard",prerequisites:["Common Challenges"],estimatedTimeMinutes:90}]}const vle={id:"1",goals:[{topic:"Programming",level:"intermediate",description:"Learn Python programming fundamentals and intermediate concepts"}],performance:[{topic:"Variables",score:90,attempts:3,timeSpent:1200,lastAttempt:"2024-01-10T10:00:00Z"},{topic:"Loops",score:60,attempts:2,timeSpent:1800,lastAttempt:"2024-01-09T15:00:00Z"},{topic:"Functions",score:50,attempts:1,timeSpent:900,lastAttempt:"2024-01-08T14:00:00Z"}],engagementMetrics:{totalTimeSpent:3900,preferredLevel:"beginner",completedTopics:["Variables"],skippedTopics:["Classes"]}},yle=({card:t,isFlipped:e,onFlip:n,isPersonalized:r=!1})=>{const s=i=>{switch(i){case"easy":return"text-green-500";case"medium":return"text-yellow-500";case"hard":return"text-red-500";default:return""}};return c.jsx("div",{className:"flashcard-container",onClick:n,children:c.jsxs("div",{className:`flashcard ${e?"flipped":""}`,children:[c.jsx("div",{className:"card-face card-front",children:c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{className:"card-title",children:"Question"}),c.jsx("p",{className:"card-text",children:t.term}),r&&"difficulty"in t&&c.jsxs("span",{className:`mt-4 ${s(t.difficulty)}`,children:["Difficulty: ",t.difficulty]})]})}),c.jsx("div",{className:"card-face card-back",children:c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{className:"card-title",children:"Answer"}),c.jsx("p",{className:"card-text",children:t.definition}),r&&"topic"in t&&c.jsxs("p",{className:"mt-4 text-white/60",children:["Topic: ",t.topic]})]})})]})})},wle=()=>{ht();const[t,e]=g.useState(!1),[n,r]=g.useState("");g.useState("");const[s,i]=g.useState([]),[o,a]=g.useState(0),[l,u]=g.useState(!1),[h,p]=g.useState(!1);g.useState(3);const[f,m]=g.useState([]);g.useState(!1);const[y,x]=g.useState(""),[E,w]=g.useState(!1),[b,_]=g.useState(3),{toast:C}=Gn();g.useEffect(()=>{h&&O()},[h]);const O=async()=>{try{const A={learningGoals:[{id:"1",title:n||"Learning",description:`Master ${n||"the subject"}`,priority:"high",status:"in_progress"}],topicEngagement:[],userInterests:{primaryInterests:n?[n]:[],secondaryInterests:[],strugglingTopics:[],strongTopics:[]},completedTopics:[],currentLevel:"beginner"},N=await gle(A);m(N)}catch(A){console.error("Error loading recommendations:",A),C({title:"Error",description:"Failed to load recommendations",variant:"destructive"})}},M=async A=>{A.preventDefault();try{if(!y.trim()&&!h){C({title:"Error",description:"Please enter some text to generate flashcards.",variant:"destructive"});return}e(!0);let N;if(h)N=await dle(vle,b);else if(E){if(!y.includes("youtube.com")&&!y.includes("youtu.be"))throw new Error("Please enter a valid YouTube URL");N=await rle(y),N=N.slice(0,b)}else N=await nle(y),N=N.slice(0,b);i(N),h||x(""),a(0),u(!1),C({title:"Success!",description:"Flashcards generated successfully."})}catch(N){console.error("Error generating flashcards:",N),C({title:"Error",description:N instanceof Error?N.message:"Failed to generate flashcards. Please try again.",variant:"destructive"}),i([])}finally{e(!1)}},P=()=>{u(!1),a(A=>(A+1)%s.length)},S=()=>{u(!1),a(A=>(A-1+s.length)%s.length)},I=()=>{u(!l)};return c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-500",children:"Flashcards"}),c.jsx("p",{className:"text-lg text-white/60 mb-8",children:"Generate and study flashcards using AI"})]}),c.jsxs("div",{className:"mode-toggles",children:[c.jsxs("button",{className:`mode-toggle ${!h&&!E?"active":""}`,onClick:()=>{p(!1),w(!1)},children:[c.jsx(Rs,{className:"w-5 h-5"}),"Text Mode"]}),c.jsxs("button",{className:`mode-toggle ${E?"active":""}`,onClick:()=>{w(!0),p(!1)},children:[c.jsx(IO,{className:"w-5 h-5"}),"YouTube Mode"]}),c.jsxs("button",{className:`mode-toggle ${h?"active":""}`,onClick:()=>{p(!0),w(!1)},children:[c.jsx(TO,{className:"w-5 h-5"}),"Personalized Mode"]})]}),c.jsxs("form",{onSubmit:M,className:"input-container mb-8",children:[!h&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(fs,{htmlFor:"input",children:E?"YouTube Video URL":"Enter text to generate flashcards"}),c.jsx(Ft,{id:"input",value:y,onChange:A=>x(A.target.value),placeholder:E?"Paste YouTube URL here...":"Enter text or paste content here...",className:"input-field"})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[c.jsx(fs,{children:"Number of cards:"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:()=>_(Math.max(1,b-1)),disabled:b<=1,children:c.jsx(oG,{className:"w-4 h-4"})}),c.jsx("span",{className:"w-8 text-center",children:b}),c.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:()=>_(Math.min(10,b+1)),disabled:b>=10,children:c.jsx(aG,{className:"w-4 h-4"})})]})]}),c.jsx(ee,{type:"submit",className:"w-full mt-4",disabled:t||!y&&!h,children:t?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),"Generating..."]}):c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(gs,{className:"w-5 h-5"}),"Generate Flashcards"]})})]}),s.length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsx("div",{className:"flex justify-center mb-8",children:c.jsx("div",{className:"w-full max-w-2xl",children:c.jsx(yle,{card:s[o],isFlipped:l,onFlip:I,isPersonalized:h},`card-${o}`)})}),c.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[c.jsxs(ee,{onClick:S,disabled:o===0,variant:"outline",children:[c.jsx($8,{className:"w-4 h-4 mr-2"}),"Previous"]}),c.jsxs(ee,{onClick:P,disabled:o===s.length-1,variant:"outline",children:["Next",c.jsx(mO,{className:"w-4 h-4 ml-2"})]})]}),c.jsx("div",{className:"mt-4",children:c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${(o+1)/s.length*100}%`}})})})]}),h&&f.length>0&&c.jsxs("div",{className:"mt-12",children:[c.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[c.jsx(SO,{className:"w-5 h-5"}),"Recommended Topics"]}),c.jsx("div",{className:"recommendations",children:f.map((A,N)=>c.jsxs("div",{className:"recommendation-card",onClick:()=>{r(A.topic),M(new Event("submit"))},children:[c.jsx("h3",{className:"font-semibold mb-2",children:A.topic}),c.jsx("p",{className:"text-sm text-muted-foreground",children:A.reason})]},`${A.topic}-${N}`))})]})]})})},xle=({onSubmit:t,placeholder:e,maxLength:n,maxWords:r,isLink:s,difficulty:i})=>{const[o,a]=g.useState(""),[l,u]=g.useState([]),[h,p]=g.useState("medium"),[f,m]=g.useState(!1),y=E=>r?E.trim().split(/\s+/).length<=r:n?E.length<=n:s?E.startsWith("http://")||E.startsWith("https://"):!0,x=async()=>{if(!o.trim())return;if(!y(o)){alert(r?`Please limit your input to ${r} words`:n?`Please limit your input to ${n} characters`:"Please enter a valid URL");return}const E={role:"user",content:o};u(w=>[...w,E]),a(""),m(!0);try{let w;i?w=await t(o+"|"+h):w=await t(o);const b={role:"assistant",content:w};u(_=>[..._,b])}catch(w){console.error("Error in chat:",w);const b={role:"assistant",content:"Sorry, I encountered an error. Please try again."};u(_=>[..._,b])}finally{m(!1)}};return c.jsxs("div",{className:"flex flex-col h-[80vh] max-w-4xl mx-auto space-y-4",children:[c.jsxs("div",{className:"flex-1 overflow-auto space-y-4 scrollbar-thin scrollbar-thumb-emerald-500/20 scrollbar-track-black/20 p-4",children:[l.map((E,w)=>c.jsx(Pe,{className:`p-4 ${E.role==="assistant"?"bg-black/40 border-emerald-500/20":"bg-emerald-500/10 border-emerald-500/30"}`,children:c.jsxs("div",{className:"flex items-start space-x-3",children:[E.role==="assistant"?c.jsx(gs,{className:"w-6 h-6 text-emerald-400 mt-1"}):c.jsx(PO,{className:"w-6 h-6 text-emerald-400 mt-1"}),c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:"text-zinc-200 whitespace-pre-line",children:E.content})})]})},w)),f&&c.jsx(Pe,{className:"p-4 bg-black/40 border-emerald-500/20",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(gs,{className:"w-6 h-6 text-emerald-400"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(xb,{className:"w-4 h-4 text-emerald-400 animate-spin"}),c.jsx("p",{className:"text-zinc-400",children:"Thinking..."})]})]})})]}),c.jsxs("div",{className:"space-y-4 p-4 bg-black/20 rounded-lg",children:[i&&c.jsx("div",{className:"flex space-x-4",children:["easy","medium","hard"].map(E=>c.jsx(ee,{variant:h===E?"default":"outline",onClick:()=>p(E),className:`capitalize ${h===E?"bg-emerald-500 text-black":"border-emerald-500/20 text-emerald-400"}`,children:E},E))}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(od,{value:o,onChange:E=>a(E.target.value),placeholder:e,className:"flex-1 bg-black/40 border-emerald-500/20 text-zinc-200 placeholder:text-zinc-500 min-h-[100px]"}),c.jsx(ee,{onClick:x,disabled:f,className:"bg-emerald-500 text-black hover:bg-emerald-600 self-end h-10",children:"Send"})]}),(r||n)&&c.jsx("div",{className:"text-sm text-zinc-400 text-right",children:r?`${o.trim().split(/\s+/).length}/${r} words`:`${o.length}/${n} characters`})]})]})},_le=()=>{const{toast:t}=Gn(),e=async n=>{if(!n.trim())return t({title:"Empty Text",description:"Please enter some text to summarize.",variant:"destructive"}),"Please enter some text to summarize.";try{return await ile(n)}catch(r){return console.error("Error in handleSubmit:",r),t({title:"Error",description:"Failed to generate summary. Please try again.",variant:"destructive"}),"Sorry, I couldn't generate a summary. Please try again."}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neon-purple to-black p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-white mb-2 text-center",children:"AI Summary"}),c.jsx("p",{className:"text-zinc-400 text-center mb-8",children:"Enter your text and I'll create a concise summary"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs(Pe,{className:"p-4 bg-black/40 border-emerald-500/20 hover:border-emerald-500/40 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-emerald-400 mb-2",children:[c.jsx(Zo,{className:"w-5 h-5"}),c.jsx("h3",{className:"font-semibold",children:"Smart Summary"})]}),c.jsx("p",{className:"text-zinc-400 text-sm",children:"I'll analyze and summarize your text"})]}),c.jsxs(Pe,{className:"p-4 bg-black/40 border-emerald-500/20 hover:border-emerald-500/40 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-emerald-400 mb-2",children:[c.jsx(Y8,{className:"w-5 h-5"}),c.jsx("h3",{className:"font-semibold",children:"Clear & Concise"})]}),c.jsx("p",{className:"text-zinc-400 text-sm",children:"Get straight to the main points"})]}),c.jsxs(Pe,{className:"p-4 bg-black/40 border-emerald-500/20 hover:border-emerald-500/40 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-emerald-400 mb-2",children:[c.jsx(Q8,{className:"w-5 h-5"}),c.jsx("h3",{className:"font-semibold",children:"Easy to Read"})]}),c.jsx("p",{className:"text-zinc-400 text-sm",children:"Simple and straightforward summaries"})]})]}),c.jsx(xle,{onSubmit:e,placeholder:"Paste your text here (max 250 words)...",maxWords:250})]})})},AA="quiz_performance",ble=t=>{const e=localStorage.getItem(AA),n=e?JSON.parse(e):[];n.push(t),localStorage.setItem(AA,JSON.stringify(n))};function T5({attempt:t,onRetry:e}){const n=t.correctAnswers/t.totalQuestions*100,r=s=>{const i=Math.floor(s/60),o=s%60;return`${i}m ${o}s`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Pe,{className:"p-6 bg-black/40 border-emerald-500/20",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-zinc-200",children:"Quiz Results"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{className:"text-yellow-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Score"}),c.jsxs("p",{className:"text-xl font-bold text-zinc-200",children:[t.score,"/",t.totalQuestions]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Gg,{className:"text-blue-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Accuracy"}),c.jsxs("p",{className:"text-xl font-bold text-zinc-200",children:[n.toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zg,{className:"text-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-zinc-400",children:"Time Taken"}),c.jsx("p",{className:"text-xl font-bold text-zinc-200",children:r(t.timeTaken)})]})]})]}),c.jsx(nr,{value:n,className:"h-2"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-zinc-200",children:"Detailed Review"}),t.answers.map((s,i)=>c.jsxs(Pe,{className:`p-4 border-l-4 bg-black/40 border-emerald-500/20 ${s.isCorrect?"border-l-green-500":"border-l-red-500"}`,children:[c.jsx("p",{className:"font-medium mb-2 text-zinc-200",children:s.question.question}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("p",{className:"text-zinc-300",children:["Your answer: ",c.jsx("span",{className:s.isCorrect?"text-green-500":"text-red-500",children:s.userAnswer})]}),!s.isCorrect&&c.jsxs("p",{className:"text-green-500",children:["Correct answer: ",s.question.correctAnswer]}),c.jsx("p",{className:"text-zinc-400 mt-2",children:s.question.explanation})]})]},i))]}),c.jsx("div",{className:"flex gap-4",children:c.jsx(ee,{onClick:e,variant:"outline",className:"border-emerald-500/20 text-zinc-200 hover:bg-emerald-500/10",children:"Try Another Quiz"})})]})}const Ele=()=>{ht();const{currentUser:t,userProfile:e}=sr(),[n,r]=g.useState(""),[s,i]=g.useState(!1),[o,a]=g.useState([]),[l,u]=g.useState(0),[h,p]=g.useState(null),[f,m]=g.useState(0),[y,x]=g.useState(!1),[E,w]=g.useState(null),[b,_]=g.useState(null),{toast:C}=Gn();g.useEffect(()=>{const P=localStorage.getItem("youtubeQuiz");if(P)try{const S=JSON.parse(P);if(Array.isArray(S)&&S.length>0){a(S),w(Date.now()),localStorage.removeItem("youtubeQuiz");return}}catch(S){console.error("Error parsing stored quiz:",S)}},[]);const O=async P=>{if(P.preventDefault(),!t){C({title:"Authentication Required",description:"Please sign in to generate quizzes.",variant:"destructive"});return}const S=n.trim();if(!S){C({title:"URL Required",description:"Please enter a valid YouTube URL",variant:"destructive"});return}i(!0);try{const I=await sle(S);a(I),w(Date.now()),i(!1)}catch(I){console.error("Error generating quiz:",I),C({title:"Error",description:"Failed to generate quiz. Please try again.",variant:"destructive"}),i(!1)}},M=async()=>{if(!h)return;const P=o[l],S=h===P.correctAnswer;if(S&&m(I=>I+1),l<o.length-1)u(I=>I+1),p(null);else{const I=Date.now(),A=Math.floor((I-(E||I))/1e3),N={id:`${t==null?void 0:t.uid}-${Date.now()}`,userId:(t==null?void 0:t.uid)||"",timestamp:new Date().toISOString(),timeTaken:A,score:f+(S?1:0),totalQuestions:o.length,correctAnswers:f+(S?1:0),answers:o.map((j,k)=>({questionIndex:k,question:j,userAnswer:k===l?h:"",isCorrect:k===l?S:!1}))};try{await ble(N),_(N),x(!0)}catch(j){console.error("Error saving quiz attempt:",j),C({title:"Error",description:"Failed to save quiz results",variant:"destructive"})}}};return y&&b?c.jsx("div",{className:"container py-8 space-y-8",children:c.jsx(T5,{questions:o,score:f,totalTime:E?Math.floor((Date.now()-E)/1e3):0,attempt:b,onTryAgain:()=>{a([]),u(0),p(null),m(0),x(!1),w(null),_(null)}})}):c.jsx("div",{className:"container py-8 space-y-8",children:o.length?c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"mb-8 space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-2xl font-semibold text-white",children:["Question ",l+1," of ",o.length]}),c.jsxs("div",{className:"flex items-center text-[#B3B3B3]",children:[c.jsx(bb,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{children:[E?Math.floor((Date.now()-E)/1e3):0,"s"]})]})]}),c.jsx(nr,{value:(l+1)/o.length*100,className:"h-2",indicatorClassName:"bg-emerald-500"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Pe,{className:"p-6 bg-[#1E1E1E] border-[#333333]",children:[c.jsx("h3",{className:"text-xl font-medium text-white mb-4",children:o[l].question}),c.jsx("div",{className:"space-y-3",children:o[l].options.map((P,S)=>c.jsx("button",{onClick:()=>p(P),className:`w-full p-4 text-left rounded-lg border transition-all ${h===P?"border-emerald-500 bg-emerald-500/10 text-white":"border-[#333333] hover:border-emerald-500/50 text-[#B3B3B3] hover:text-white"}`,children:P},S))})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(ee,{onClick:M,disabled:!h,className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:l===o.length-1?"Finish Quiz":"Next Question"})})]})]}):c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h1",{className:"text-4xl font-bold text-white",children:"AI Video Quiz"}),c.jsx("p",{className:"text-[#B3B3B3]",children:"Test your knowledge from the video content"})]}),c.jsxs("form",{onSubmit:O,className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative flex items-center",children:[c.jsx(Ft,{type:"text",placeholder:"Paste YouTube URL here...",value:n,onChange:P=>r(P.target.value),className:"w-full pr-32 bg-[#1E1E1E] border-[#333333] text-white placeholder-[#666666]"}),c.jsxs(ee,{type:"submit",disabled:s||!n,className:"absolute right-0 bg-emerald-500 hover:bg-emerald-600 text-white",children:[c.jsx(IO,{className:"w-4 h-4 mr-2"}),"Generate Quiz"]})]}),c.jsx("div",{className:"absolute inset-0 rounded-lg transition-opacity duration-500",style:{boxShadow:"0 0 15px rgba(16,185,129,0.1)",pointerEvents:"none",opacity:s?1:0}})]}),s&&c.jsxs("div",{className:"flex items-center justify-center p-8",children:[c.jsx(gs,{className:"w-8 h-8 text-emerald-500 animate-bounce"}),c.jsx("p",{className:"ml-3 text-[#B3B3B3]",children:"Generating quiz questions..."})]})]}),(e==null?void 0:e.recentQuizAttempts)&&e.recentQuizAttempts.length>0&&c.jsxs("div",{className:"mt-12 space-y-4",children:[c.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Recent Attempts"}),c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.recentQuizAttempts.map((P,S)=>c.jsxs("div",{className:"p-6 rounded-lg bg-[#1E1E1E] border border-[#333333] hover:border-emerald-500/50 transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h3",{className:"font-medium text-white truncate",children:P.videoTitle||"YouTube Video Quiz"}),c.jsxs("p",{className:"text-sm text-[#B3B3B3]",children:["Score: ",P.score,"/",P.totalQuestions]})]}),P.score/P.totalQuestions>=.7?c.jsx(B8,{className:"w-5 h-5 text-emerald-500"}):c.jsx(gO,{className:"w-5 h-5 text-red-500"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(nr,{value:P.score/P.totalQuestions*100,className:"h-2",indicatorClassName:P.score/P.totalQuestions>=.7?"bg-emerald-500":"bg-red-500"}),c.jsxs("div",{className:"flex justify-between text-xs text-[#B3B3B3]",children:[c.jsxs("span",{children:["Completed ",new Date(P.completedAt).toLocaleDateString()]}),c.jsxs("span",{children:[Math.round(P.score/P.totalQuestions*100),"%"]})]})]})]},S))})]})]})})};function S5(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hE="Checkbox",[Tle,bce]=Ls(hE),[Sle,Ple]=Tle(hE),P5=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:h,...p}=t,[f,m]=g.useState(null),y=Ne(e,C=>m(C)),x=g.useRef(!1),E=f?h||!!f.closest("form"):!0,[w=!1,b]=va({prop:s,defaultProp:i,onChange:u}),_=g.useRef(w);return g.useEffect(()=>{const C=f==null?void 0:f.form;if(C){const O=()=>b(_.current);return C.addEventListener("reset",O),()=>C.removeEventListener("reset",O)}},[f,b]),c.jsxs(Sle,{scope:n,state:w,disabled:a,children:[c.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":Ui(w)?"mixed":w,"aria-required":o,"data-state":A5(w),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:y,onKeyDown:ie(t.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ie(t.onClick,C=>{b(O=>Ui(O)?!0:!O),E&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})}),E&&c.jsx(Ile,{control:f,bubbles:!x.current,name:r,value:l,checked:w,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Ui(i)?!1:i})]})});P5.displayName=hE;var I5="CheckboxIndicator",C5=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Ple(I5,n);return c.jsx(fn,{present:r||Ui(i.state)||i.state===!0,children:c.jsx(ve.span,{"data-state":A5(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});C5.displayName=I5;var Ile=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=g.useRef(null),a=S5(n),l=eb(e);g.useEffect(()=>{const h=o.current,p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&m){const y=new Event("click",{bubbles:r});h.indeterminate=Ui(n),m.call(h,Ui(n)?!1:n),h.dispatchEvent(y)}},[a,n,r]);const u=g.useRef(Ui(n)?!1:n);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ui(t){return t==="indeterminate"}function A5(t){return Ui(t)?"indeterminate":t?"checked":"unchecked"}var R5=P5,Cle=C5;const N5=g.forwardRef(({className:t,...e},n)=>c.jsx(R5,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(Cle,{className:se("flex items-center justify-center text-current"),children:c.jsx(wc,{className:"h-4 w-4"})})}));N5.displayName=R5.displayName;var k5=["PageUp","PageDown"],O5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],D5={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Pc="Slider",[Wx,Ale,Rle]=lb(Pc),[j5,Ece]=Ls(Pc,[Rle]),[Nle,Uv]=j5(Pc),M5=g.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:h,onValueChange:p=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:y,...x}=t,E=g.useRef(new Set),w=g.useRef(0),_=o==="horizontal"?kle:Ole,[C=[],O]=va({prop:h,defaultProp:u,onChange:N=>{var k;(k=[...E.current][w.current])==null||k.focus(),p(N)}}),M=g.useRef(C);function P(N){const j=Vle(C,N);A(N,j)}function S(N){A(N,w.current)}function I(){const N=M.current[w.current];C[w.current]!==N&&f(C)}function A(N,j,{commit:k}={commit:!1}){const J=Ble(i),ue=zle(Math.round((N-r)/i)*i+r,J),ne=q1(ue,[r,s]);O((de=[])=>{const F=Mle(de,ne,j);if(Ule(F,l*i)){w.current=F.indexOf(ne);const U=String(F)!==String(de);return U&&k&&f(F),U?F:de}else return de})}return c.jsx(Nle,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:w,thumbs:E.current,values:C,orientation:o,form:y,children:c.jsx(Wx.Provider,{scope:t.__scopeSlider,children:c.jsx(Wx.Slot,{scope:t.__scopeSlider,children:c.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:ie(x.onPointerDown,()=>{a||(M.current=C)}),min:r,max:s,inverted:m,onSlideStart:a?void 0:P,onSlideMove:a?void 0:S,onSlideEnd:a?void 0:I,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(s,C.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:j})=>{if(!a){const ue=k5.includes(N.key)||N.shiftKey&&O5.includes(N.key)?10:1,ne=w.current,de=C[ne],F=i*ue*j;A(de+F,ne,{commit:!0})}}})})})})});M5.displayName=Pc;var[L5,V5]=j5(Pc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),kle=g.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...h}=t,[p,f]=g.useState(null),m=Ne(e,_=>f(_)),y=g.useRef(),x=ch(s),E=x==="ltr",w=E&&!i||!E&&i;function b(_){const C=y.current||p.getBoundingClientRect(),O=[0,C.width],P=fE(O,w?[n,r]:[r,n]);return y.current=C,P(_-C.left)}return c.jsx(L5,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:c.jsx(F5,{dir:x,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const C=b(_.clientX);o==null||o(C)},onSlideMove:_=>{const C=b(_.clientX);a==null||a(C)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:_=>{const O=D5[w?"from-left":"from-right"].includes(_.key);u==null||u({event:_,direction:O?-1:1})}})})}),Ole=g.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,h=g.useRef(null),p=Ne(e,h),f=g.useRef(),m=!s;function y(x){const E=f.current||h.current.getBoundingClientRect(),w=[0,E.height],_=fE(w,m?[r,n]:[n,r]);return f.current=E,_(x-E.top)}return c.jsx(L5,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(F5,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const E=y(x.clientY);i==null||i(E)},onSlideMove:x=>{const E=y(x.clientY);o==null||o(E)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:x=>{const w=D5[m?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:w?-1:1})}})})}),F5=g.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,h=Uv(Pc,n);return c.jsx(ve.span,{...u,ref:e,onKeyDown:ie(t.onKeyDown,p=>{p.key==="Home"?(o(p),p.preventDefault()):p.key==="End"?(a(p),p.preventDefault()):k5.concat(O5).includes(p.key)&&(l(p),p.preventDefault())}),onPointerDown:ie(t.onPointerDown,p=>{const f=p.target;f.setPointerCapture(p.pointerId),p.preventDefault(),h.thumbs.has(f)?f.focus():r(p)}),onPointerMove:ie(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&s(p)}),onPointerUp:ie(t.onPointerUp,p=>{const f=p.target;f.hasPointerCapture(p.pointerId)&&(f.releasePointerCapture(p.pointerId),i(p))})})}),$5="SliderTrack",U5=g.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Uv($5,n);return c.jsx(ve.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});U5.displayName=$5;var Hx="SliderRange",B5=g.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Uv(Hx,n),i=V5(Hx,n),o=g.useRef(null),a=Ne(e,o),l=s.values.length,u=s.values.map(f=>G5(f,s.min,s.max)),h=l>1?Math.min(...u):0,p=100-Math.max(...u);return c.jsx(ve.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:h+"%",[i.endEdge]:p+"%"}})});B5.displayName=Hx;var Kx="SliderThumb",z5=g.forwardRef((t,e)=>{const n=Ale(t.__scopeSlider),[r,s]=g.useState(null),i=Ne(e,a=>s(a)),o=g.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(Dle,{...t,ref:i,index:o})}),Dle=g.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Uv(Kx,n),a=V5(Kx,n),[l,u]=g.useState(null),h=Ne(e,b=>u(b)),p=l?o.form||!!l.closest("form"):!0,f=eb(l),m=o.values[r],y=m===void 0?0:G5(m,o.min,o.max),x=Lle(r,o.values.length),E=f==null?void 0:f[a.size],w=E?Fle(E,y,a.direction):0;return g.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${w}px)`},children:[c.jsx(Wx.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(ve.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:m===void 0?{display:"none"}:t.style,onFocus:ie(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),p&&c.jsx(jle,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});z5.displayName=Kx;var jle=t=>{const{value:e,...n}=t,r=g.useRef(null),s=S5(e);return g.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&l){const u=new Event("input",{bubbles:!0});l.call(i,e),i.dispatchEvent(u)}},[s,e]),c.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function Mle(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function G5(t,e,n){const i=100/(n-e)*(t-e);return q1(i,[0,100])}function Lle(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Vle(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function Fle(t,e,n){const r=t/2,i=fE([0,50],[0,r]);return(r-i(e)*n)*n}function $le(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Ule(t,e){if(e>0){const n=$le(t);return Math.min(...n)>=e}return!0}function fE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Ble(t){return(String(t).split(".")[1]||"").length}function zle(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var q5=M5,Gle=U5,qle=B5,Wle=z5;const W5=g.forwardRef(({className:t,...e},n)=>c.jsxs(q5,{ref:n,className:se("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(Gle,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(qle,{className:"absolute h-full bg-primary"})}),c.jsx(Wle,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));W5.displayName=q5.displayName;const Hle=[{id:"js",name:"JavaScript",description:"Core JavaScript concepts and modern features",subtopics:["Basics","ES6+","Async Programming","DOM Manipulation"]},{id:"react",name:"React",description:"React fundamentals and advanced concepts",subtopics:["Components","Hooks","State Management","Performance"]},{id:"ts",name:"TypeScript",description:"TypeScript fundamentals and best practices",subtopics:["Types","Interfaces","Generics","Advanced Types"]}];function Kle({onTestGenerated:t,isLoading:e}){const[n,r]=g.useState([]),[s,i]=g.useState(30),{toast:o}=Gn(),a=()=>{if(n.length===0){o({title:"No Topics Selected",description:"Please select at least one topic for the test.",variant:"destructive"});return}t(n,s)};return c.jsx(Pe,{className:"p-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rs,{className:"h-6 w-6"}),c.jsx("h2",{className:"text-2xl font-bold",children:"Generate Mock Test"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select Topics"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:Hle.map(l=>c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(N5,{id:l.id,checked:n.includes(l.id),onCheckedChange:u=>{r(h=>u?[...h,l.id]:h.filter(p=>p!==l.id))},disabled:e}),c.jsxs("div",{className:"grid gap-1.5 leading-none",children:[c.jsx(fs,{htmlFor:l.id,children:l.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]})]},l.id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(bb,{className:"h-5 w-5"}),c.jsxs("h3",{className:"text-lg font-medium",children:["Test Duration: ",s," minutes"]})]}),c.jsx(W5,{value:[s],onValueChange:([l])=>i(l),min:15,max:60,step:15,className:"w-full max-w-xs",disabled:e})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(ee,{onClick:a,disabled:n.length===0||e,className:"w-full max-w-xs",children:e?c.jsxs(c.Fragment,{children:[c.jsx(xb,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Test..."]}):"Generate Test"}),n.length===0&&c.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[c.jsx(U8,{className:"h-4 w-4"}),c.jsx("span",{children:"Select at least one topic to generate a test"})]})]})]})]})})}try{NM(Ea).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")})}catch(t){console.warn("Error enabling persistence:",t)}const Qle="mockTests",Yle="mockTestAttempts",q0=async(t,e)=>{try{const r=await ole(t,{easy:e==="easy"?3:0,medium:e==="medium"?4:0,hard:e==="hard"?3:0});if(!r||r.length===0)throw new Error("Failed to generate questions");return r}catch(n){throw console.error("Error generating questions:",n),new Error("Failed to generate quiz questions. Please try again.")}},Jle=async(t,e,n)=>{try{const r=await q0(t,"easy"),s=await q0(t,"medium"),i=await q0(t,"hard"),o=[...r.slice(0,3),...s.slice(0,4),...i.slice(0,3)],a={id:"",userId:n,title:`Mock Test - ${t.join(", ")}`,description:`A ${e}-minute mock test covering ${t.join(", ")}`,topics:t,questions:o,duration:e,createdAt:Date.now()},l=Eh(CM(Ea,Qle));return await T1(l,{...a,id:l.id}),{...a,id:l.id}}catch(r){throw console.error("Error generating mock test:",r),r}},Xle=async t=>{try{const e=Eh(CM(Ea,Yle));await T1(e,{...t,id:e.id,timestamp:new Date().toISOString()})}catch(e){throw console.error("Error saving mock test attempt:",e),e}},Zle=(t,e)=>{try{const n=new Map(e.map(s=>[s.questionId,s])),r=new Map;return t.forEach(s=>{const i=s.topic,o=n.get(s.id),a=r.get(i)||{total:0,correct:0,totalTime:0};a.total+=1,o&&(o.isCorrect&&(a.correct+=1),a.totalTime+=o.timeSpent),r.set(i,a)}),Array.from(r.entries()).map(([s,i])=>({topic:s,totalQuestions:i.total,correctAnswers:i.correct,accuracy:i.correct/i.total*100,averageTimePerQuestion:i.totalTime/i.total}))}catch(n){throw console.error("Error calculating topic performance:",n),new Error("Failed to calculate topic performance")}};function ece(){const[t,e]=g.useState(null),[n,r]=g.useState(0),[s,i]=g.useState(null),[o,a]=g.useState([]),[l,u]=g.useState(null),[h,p]=g.useState(null),[f,m]=g.useState(!1),[y,x]=g.useState(null),[E,w]=g.useState(!1),{toast:b}=Gn(),{currentUser:_,userProfile:C}=sr();g.useEffect(()=>()=>{e(null),x(null),m(!1),a([]),i(null),u(null),p(null)},[]),g.useEffect(()=>{if(t&&l&&h!==null){const A=setInterval(()=>{const N=Date.now(),j=Math.floor((N-l)/1e3),k=Math.max(0,t.duration*60-j);p(k),k===0&&!f&&S()},1e3);return()=>clearInterval(A)}},[t,l,h,f]);const O=async(A,N)=>{if(!_){b({title:"Login Required",description:"Please log in to take a mock test.",variant:"destructive"});return}w(!0);try{const j=await Jle(A,N,_.uid);e(j),u(Date.now()),p(j.duration*60),r(0),i(null),a([]),m(!1),x(null),b({title:"Test Started",description:`You have ${j.duration} minutes to complete ${j.questions.length} questions.`})}catch(j){console.error("Error generating test:",j),b({title:"Error",description:"Failed to generate test. Please try again.",variant:"destructive"})}finally{w(!1)}},M=A=>{s||(i(A),b({title:"Answer Selected",description:"Click 'Next Question' to continue."}))},P=()=>{if(!t||s===null)return;const A=Date.now(),N=l+o.reduce((J,ue)=>J+ue.timeSpent*1e3,0),j=Math.floor((A-N)/1e3),k={questionId:t.questions[n].id,userAnswer:s,isCorrect:s===t.questions[n].correctAnswer,timeSpent:j};a(J=>[...J,k]),n<t.questions.length-1?(r(J=>J+1),i(null)):S()},S=async()=>{if(!t||!l||!_)return;const A=Date.now(),N=Math.floor((A-l)/1e3),j=t.questions.map((ue,ne)=>{const de=o[ne];return de||{questionId:ue.id,userAnswer:"",isCorrect:!1,timeSpent:0}}),k=j.filter(ue=>ue.isCorrect).length/t.questions.length*100,J={id:"",userId:_.uid,testId:t.id,startTime:l,endTime:A,timestamp:Date.now(),score:k,questions:j,topicPerformance:Zle(t.questions,j),overallScore:k,totalTime:N};try{await Xle(J),x(J),m(!0),b({title:"Test Completed!",description:`Your score: ${Math.round(k)}%`})}catch{b({title:"Error",description:"Failed to save test results. Please try again.",variant:"destructive"})}},I=A=>{if(A===null)return"--:--";const N=Math.floor(A/60),j=A%60;return`${N.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`};return t?y?c.jsx("div",{className:"container mx-auto py-6 space-y-6",children:c.jsx(T5,{attempt:{id:y.id,timestamp:y.startTime,timeTaken:y.totalTime,score:y.overallScore,totalQuestions:t.questions.length,correctAnswers:y.questions.filter(A=>A.isCorrect).length,answers:y.questions.map((A,N)=>({questionIndex:N,userAnswer:A.userAnswer,isCorrect:A.isCorrect,question:t.questions[N]})),topicPerformance:y.topicPerformance},onRetry:()=>{e(null),x(null)}})}):c.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(bb,{className:"w-5 h-5"}),c.jsx("span",{className:"text-lg font-semibold",children:I(h)})]}),c.jsx(nr,{value:n/t.questions.length*100}),c.jsxs("span",{className:"text-sm",children:["Question ",n+1," of ",t.questions.length]})]}),c.jsxs(Pe,{className:"p-6 space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold",children:t.questions[n].question}),c.jsx("div",{className:"space-y-4",children:t.questions[n].options.map((A,N)=>c.jsx(ee,{variant:s===A?"default":"outline",className:"w-full justify-start text-left",onClick:()=>M(A),disabled:s!==null&&s!==A,children:A},N))}),s&&c.jsx(ee,{className:"w-full",onClick:P,children:n<t.questions.length-1?"Next Question":"Finish Test"})]}),h!==null&&h<300&&c.jsxs("div",{className:"flex items-center space-x-2 text-yellow-500",children:[c.jsx(fG,{className:"w-5 h-5"}),c.jsx("span",{children:"Less than 5 minutes remaining!"})]})]}):c.jsx("div",{className:"container mx-auto py-6",children:c.jsx(Kle,{onTestGenerated:O,isLoading:E})})}const tce=new pz;function nce(){const{currentUser:t}=sr();return t?c.jsx(H_,{to:"/dashboard",replace:!0}):c.jsx(BZ,{})}function rce(){return g.useEffect(()=>{document.documentElement.classList.add("dark")},[]),c.jsx(gz,{client:tce,children:c.jsx(MX,{children:c.jsx(ku,{children:c.jsx(F$,{children:c.jsxs("div",{className:"min-h-screen bg-[#060913]",children:[c.jsx(YX,{}),c.jsx(iZ,{children:c.jsx("div",{className:"pt-16",children:c.jsxs(N$,{children:[c.jsx(pe,{path:"/",element:c.jsx(nce,{})}),c.jsx(pe,{path:"/login",element:c.jsx(lZ,{})}),c.jsx(pe,{path:"/register",element:c.jsx(fZ,{})}),c.jsx(pe,{path:"/dashboard",element:c.jsx(xe,{children:c.jsx(Hee,{})})}),c.jsx(pe,{path:"/leaderboard",element:c.jsxs(xe,{children:[c.jsx(Kee,{})," // Update import to default import"]})}),c.jsx(pe,{path:"/profile",element:c.jsx(xe,{children:c.jsx(Yee,{})})}),c.jsx(pe,{path:"/ai",element:c.jsx(xe,{children:c.jsx(Jee,{})})}),c.jsx(pe,{path:"/subscription",element:c.jsx(xe,{children:c.jsx(cte,{})})}),c.jsx(pe,{path:"/subscription/success",element:c.jsx(xe,{children:c.jsx(Jae,{})})}),c.jsx(pe,{path:"/subscription/cancel",element:c.jsx(xe,{children:c.jsx(Xae,{})})}),c.jsx(pe,{path:"/flashcards",element:c.jsx(xe,{children:c.jsx(wle,{})})}),c.jsx(pe,{path:"/summary",element:c.jsx(xe,{children:c.jsx(_le,{})})}),c.jsx(pe,{path:"/quiz",element:c.jsx(xe,{children:c.jsx(Ele,{})})}),c.jsx(pe,{path:"/mock-test",element:c.jsx(xe,{children:c.jsx(ece,{})})}),c.jsx(pe,{path:"/courses",element:c.jsx(xe,{children:c.jsx(jZ,{})})}),c.jsx(pe,{path:"/course/:courseId",element:c.jsx(eC,{})}),c.jsx(pe,{path:"/courses/nodejs-backend",element:c.jsx(xe,{children:c.jsx(Be,{title:"Node.js Backend Development",description:"Learn to build scalable backend services with Node.js. Master Express.js, MongoDB, RESTful APIs, and more.",topics:["Express.js Framework","MongoDB & Mongoose","RESTful API Design","Authentication & Authorization","Error Handling","Testing & Debugging","Deployment & DevOps","Performance Optimization"],chapters:[{id:1,title:"Introduction to Node.js",description:"Learn the basics of Node.js and its ecosystem",duration:"45 minutes",videoUrl:"https://example.com/videos/nodejs-intro",completed:!1,quiz:{questions:[{question:"What is Node.js?",options:["A browser-based JavaScript runtime","A server-side JavaScript runtime","A database management system","A front-end framework"],correctAnswer:1},{question:"What is npm?",options:["Node Package Manager","New Project Manager","Node Process Monitor","Node Project Module"],correctAnswer:0}]}},{id:2,title:"Express.js Fundamentals",description:"Build web applications with Express.js",duration:"1 hour",videoUrl:"https://example.com/videos/expressjs",completed:!1,quiz:{questions:[{question:"What is middleware in Express.js?",options:["A database connection","A function that has access to request and response objects","A routing mechanism","A template engine"],correctAnswer:1}]}},{id:3,title:"Database Integration",description:"Work with MongoDB and Mongoose",duration:"1.5 hours",videoUrl:"https://example.com/videos/mongodb",completed:!1,quiz:{questions:[{question:"What is MongoDB?",options:["A SQL database","A NoSQL database","A file system","A caching system"],correctAnswer:1}]}},{id:4,title:"API Development",description:"Create RESTful APIs",duration:"2 hours",videoUrl:"https://example.com/videos/rest-api",completed:!1,quiz:{questions:[{question:"What is REST?",options:["A programming language","A database","An architectural style for APIs","A framework"],correctAnswer:2}]}}]})})}),c.jsx(pe,{path:"/courses/machine-learning",element:c.jsx(xe,{children:c.jsx(Be,{title:"Machine Learning Basics",description:"Get started with machine learning algorithms and concepts. Learn about data preprocessing, model training, and evaluation.",topics:["Data Preprocessing","Supervised Learning","Unsupervised Learning","Model Evaluation","Feature Engineering","Neural Networks","Deep Learning","Model Deployment"],chapters:[{id:1,title:"Introduction to ML",description:"Understanding machine learning concepts",duration:"1 hour",completed:!1,videoUrl:"https://example.com/ml-intro"},{id:2,title:"Data Preparation",description:"Learn data preprocessing techniques",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/data-prep"},{id:3,title:"Model Training",description:"Train and evaluate ML models",duration:"2 hours",completed:!1,videoUrl:"https://example.com/model-training"},{id:4,title:"Advanced Topics",description:"Deep learning and deployment",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/advanced-ml"}]})})}),c.jsx(pe,{path:"/courses/aws-cloud",element:c.jsx(xe,{children:c.jsx(Be,{title:"AWS Cloud Computing",description:"Master cloud computing with Amazon Web Services. Learn about EC2, S3, Lambda, and more.",topics:["AWS Fundamentals","EC2 & Virtual Machines","S3 Storage Solutions","Lambda Functions","Database Services","Networking & Security","Monitoring & Logging","Cost Management"],chapters:[{id:1,title:"AWS Basics",description:"Introduction to AWS services",duration:"1 hour",completed:!1,videoUrl:"https://example.com/aws-basics"},{id:2,title:"Compute Services",description:"Work with EC2 and Lambda",duration:"2 hours",completed:!1,videoUrl:"https://example.com/aws-compute"},{id:3,title:"Storage & Database",description:"Learn S3 and RDS",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/aws-storage"},{id:4,title:"DevOps on AWS",description:"CI/CD and deployment",duration:"2 hours",completed:!1,videoUrl:"https://example.com/aws-devops"}]})})}),c.jsx(pe,{path:"/courses/mobile-dev",element:c.jsx(xe,{children:c.jsx(Be,{title:"Mobile App Development",description:"Learn to build mobile apps with React Native, Flutter, or native iOS and Android development.",topics:["Mobile App Fundamentals","React Native Development","Flutter Development","Native iOS Development","Native Android Development","Mobile App Design","Mobile App Testing","Mobile App Deployment"],chapters:[{id:1,title:"Introduction to Mobile App Development",description:"Learn the basics of mobile app development",duration:"1 hour",completed:!1,videoUrl:"https://example.com/mobile-dev-intro"},{id:2,title:"React Native Fundamentals",description:"Build mobile apps with React Native",duration:"2 hours",completed:!1,videoUrl:"https://example.com/react-native"},{id:3,title:"Flutter Fundamentals",description:"Build mobile apps with Flutter",duration:"2 hours",completed:!1,videoUrl:"https://example.com/flutter"},{id:4,title:"Native Mobile App Development",description:"Build native mobile apps for iOS and Android",duration:"3 hours",completed:!1,videoUrl:"https://example.com/native-mobile-dev"}]})})}),c.jsx(pe,{path:"/courses/devops",element:c.jsx(xe,{children:c.jsx(Be,{title:"DevOps Essentials",description:"Learn the fundamentals of DevOps and how to implement it in your organization.",topics:["DevOps Fundamentals","Agile Development","Continuous Integration","Continuous Deployment","Continuous Monitoring","Infrastructure as Code","Containerization","Orchestration"],chapters:[{id:1,title:"Introduction to DevOps",description:"Learn the basics of DevOps",duration:"1 hour",completed:!1,videoUrl:"https://example.com/devops-intro"},{id:2,title:"Agile Development",description:"Learn Agile development methodologies",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/agile-dev"},{id:3,title:"CI/CD Pipelines",description:"Learn to implement CI/CD pipelines",duration:"2 hours",completed:!1,videoUrl:"https://example.com/cicd"},{id:4,title:"Infrastructure as Code",description:"Learn to manage infrastructure with code",duration:"2 hours",completed:!1,videoUrl:"https://example.com/iac"}]})})}),c.jsx(pe,{path:"/courses/cyber-security",element:c.jsx(xe,{children:c.jsx(Be,{title:"Cybersecurity Fundamentals",description:"Learn the basics of cybersecurity and how to protect your organization from cyber threats.",topics:["Cybersecurity Fundamentals","Network Security","Cloud Security","Endpoint Security","Application Security","Data Security","Compliance and Risk Management","Incident Response"],chapters:[{id:1,title:"Introduction to Cybersecurity",description:"Learn the basics of cybersecurity",duration:"1 hour",completed:!1,videoUrl:"https://example.com/cybersecurity-intro"},{id:2,title:"Network Security",description:"Learn to secure your network",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/network-security"},{id:3,title:"Cloud Security",description:"Learn to secure your cloud infrastructure",duration:"2 hours",completed:!1,videoUrl:"https://example.com/cloud-security"},{id:4,title:"Endpoint Security",description:"Learn to secure your endpoints",duration:"2 hours",completed:!1,videoUrl:"https://example.com/endpoint-security"}]})})}),c.jsx(pe,{path:"/courses/blockchain",element:c.jsx(xe,{children:c.jsx(Be,{title:"Blockchain Development",description:"Learn to build blockchain applications with Ethereum, Hyperledger, and more.",topics:["Blockchain Fundamentals","Ethereum Development","Hyperledger Development","Smart Contract Development","Blockchain Security","Blockchain Scalability","Blockchain Interoperability","Blockchain Use Cases"],chapters:[{id:1,title:"Introduction to Blockchain",description:"Learn the basics of blockchain",duration:"1 hour",completed:!1,videoUrl:"https://example.com/blockchain-intro"},{id:2,title:"Ethereum Fundamentals",description:"Build blockchain applications with Ethereum",duration:"2 hours",completed:!1,videoUrl:"https://example.com/ethereum"},{id:3,title:"Hyperledger Fundamentals",description:"Build blockchain applications with Hyperledger",duration:"2 hours",completed:!1,videoUrl:"https://example.com/hyperledger"},{id:4,title:"Smart Contract Development",description:"Learn to develop smart contracts",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/smart-contracts"}]})})}),c.jsx(pe,{path:"/courses/data-structures",element:c.jsx(xe,{children:c.jsx(Be,{title:"Data Structures & Algorithms",description:"Learn to implement data structures and algorithms in your programming language of choice.",topics:["Data Structures Fundamentals","Arrays","Linked Lists","Stacks","Queues","Trees","Graphs","Algorithms"],chapters:[{id:1,title:"Introduction to Data Structures",description:"Learn the basics of data structures",duration:"1 hour",completed:!1,videoUrl:"https://example.com/data-structures-intro"},{id:2,title:"Arrays and Linked Lists",description:"Learn to implement arrays and linked lists",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/arrays-linked-lists"},{id:3,title:"Trees and Graphs",description:"Explore tree and graph data structures",duration:"2 hours",completed:!1,videoUrl:"https://example.com/trees-graphs"},{id:4,title:"Sorting Algorithms",description:"Learn various sorting algorithms and their complexity",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/sorting-algorithms"}]})})}),c.jsx(pe,{path:"/courses/flutter",element:c.jsx(xe,{children:c.jsx(Be,{title:"Flutter Development",description:"Learn to build mobile apps with Flutter.",topics:["Flutter Fundamentals","Widget Development","Layout and Design","Navigation and Routing","State Management","API Integration","Testing and Debugging","Deployment"],chapters:[{id:1,title:"Introduction to Flutter",description:"Learn the basics of Flutter",duration:"1 hour",completed:!1,videoUrl:"https://example.com/flutter-intro"},{id:2,title:"Widget Development",description:"Learn to build custom widgets",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/flutter-widgets"},{id:3,title:"Layout and Design",description:"Learn to design and layout your app",duration:"2 hours",completed:!1,videoUrl:"https://example.com/flutter-layout"},{id:4,title:"Navigation and Routing",description:"Learn to navigate and route your app",duration:"2 hours",completed:!1,videoUrl:"https://example.com/flutter-navigation"}]})})}),c.jsx(pe,{path:"/courses/sql-database",element:c.jsx(xe,{children:c.jsx(Be,{title:"SQL & Database Design",description:"Learn to design and implement databases with SQL.",topics:["SQL Fundamentals","Database Design","Data Modeling","Data Normalization","Querying and Indexing","Database Security","Database Performance","Database Scalability"],chapters:[{id:1,title:"Introduction to SQL",description:"Learn the basics of SQL",duration:"1 hour",completed:!1,videoUrl:"https://example.com/sql-intro"},{id:2,title:"Database Design",description:"Learn to design databases",duration:"1.5 hours",completed:!1,videoUrl:"https://example.com/database-design"},{id:3,title:"Data Modeling",description:"Learn to model data",duration:"2 hours",completed:!1,videoUrl:"https://example.com/data-modeling"},{id:4,title:"Querying and Indexing",description:"Learn to query and index data",duration:"2 hours",completed:!1,videoUrl:"https://example.com/querying-indexing"}]})})}),c.jsx(pe,{path:"/courses/web3",element:c.jsx(xe,{children:c.jsx(Be,{title:"Web3 Development",description:"Learn to build decentralized applications with Web3 technologies.",topics:["Web3 Fundamentals","Blockchain Development","Smart Contract Development","Decentralized Finance","Non-Fungible Tokens","Decentralized Autonomous Organizations","Web3 Security","Web3 Scalability"],chapters:[{id:1,title:"Introduction to Web3",description:"Learn the basics of Web3",duration:"1 hour",completed:!1,videoUrl:"https://example.com/web3-intro"},{id:2,title:"Blockchain Development",description:"Learn to build blockchain applications",duration:"2 hours",completed:!1,videoUrl:"https://example.com/blockchain-dev"},{id:3,title:"Smart Contract Development",description:"Learn to develop smart contracts",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/smart-contracts"},{id:4,title:"Decentralized Finance",description:"Learn about decentralized finance",duration:"2.5 hours",completed:!1,videoUrl:"https://example.com/decentralized-finance"}]})})}),c.jsx(pe,{path:"/courses/video",element:c.jsx(xe,{children:c.jsx(OZ,{})})}),c.jsx(pe,{path:"/courses/web-development",element:c.jsx(xe,{children:c.jsx(Be,{title:"Web Development Fundamentals",description:"Learn the basics of web development, including HTML, CSS, and JavaScript.",topics:["HTML Fundamentals","CSS Styling","JavaScript Basics","Responsive Design","Front-end Frameworks","Back-end Development","Database Integration","Web Security"],chapters:[{id:1,title:"Introduction to HTML",description:"Learn the basics of HTML structure and elements",videoUrl:"https://example.com/intro-html",completed:!1,duration:"1 hour"},{id:2,title:"CSS Styling",description:"Master CSS styling and layouts",videoUrl:"https://example.com/css-styling",completed:!1,duration:"1.5 hours"},{id:3,title:"JavaScript Basics",description:"Get started with JavaScript programming",videoUrl:"https://example.com/js-basics",completed:!1,duration:"2 hours"},{id:4,title:"Responsive Design",description:"Create responsive websites that work on all devices",videoUrl:"https://example.com/responsive",completed:!1,duration:"1.5 hours"}]})})}),c.jsx(pe,{path:"/courses/data-structures-and-algorithms",element:c.jsx(xe,{children:c.jsx(Be,{title:"Data Structures and Algorithms",description:"Master the fundamental data structures and algorithms in computer science.",topics:["Data Structures Fundamentals","Arrays","Linked Lists","Stacks","Queues","Trees","Graphs","Algorithms"],chapters:[{id:1,title:"Arrays and Strings",description:"Understanding arrays and string manipulation",videoUrl:"https://example.com/arrays",completed:!1,duration:"1 hour"},{id:2,title:"Linked Lists",description:"Learn about linked lists and their operations",videoUrl:"https://example.com/linked-lists",completed:!1,duration:"1.5 hours"},{id:3,title:"Trees and Graphs",description:"Explore tree and graph data structures",videoUrl:"https://example.com/trees",completed:!1,duration:"2 hours"},{id:4,title:"Sorting Algorithms",description:"Learn various sorting algorithms and their complexity",videoUrl:"https://example.com/sorting",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/machine-learning-basics",element:c.jsx(xe,{children:c.jsx(Be,{title:"Machine Learning Basics",description:"Introduction to machine learning concepts and algorithms.",topics:["Machine Learning Fundamentals","Supervised Learning","Unsupervised Learning","Model Evaluation","Feature Engineering","Neural Networks","Deep Learning","Model Deployment"],chapters:[{id:1,title:"Introduction to ML",description:"Basic concepts and types of machine learning",videoUrl:"https://example.com/intro-ml",completed:!1,duration:"1 hour"},{id:2,title:"Linear Regression",description:"Understanding linear regression and its applications",videoUrl:"https://example.com/linear-regression",completed:!1,duration:"1.5 hours"},{id:3,title:"Classification",description:"Learn about classification algorithms",videoUrl:"https://example.com/classification",completed:!1,duration:"2 hours"},{id:4,title:"Neural Networks",description:"Introduction to neural networks",videoUrl:"https://example.com/neural-networks",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/system-design",element:c.jsx(xe,{children:c.jsx(Be,{title:"System Design",description:"Learn how to design scalable systems and architectures.",topics:["System Design Fundamentals","Scalability","Performance","Reliability","Distributed Systems","Microservices","Load Balancing","Caching"],chapters:[{id:1,title:"System Design Basics",description:"Fundamental concepts of system design",videoUrl:"https://example.com/system-design-basics",completed:!1,duration:"1 hour"},{id:2,title:"Scalability",description:"Understanding scalability patterns",videoUrl:"https://example.com/scalability",completed:!1,duration:"1.5 hours"},{id:3,title:"Database Design",description:"Learn about database architecture and design",videoUrl:"https://example.com/database-design",completed:!1,duration:"2 hours"},{id:4,title:"Microservices",description:"Introduction to microservices architecture",videoUrl:"https://example.com/microservices",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/cloud-computing",element:c.jsx(xe,{children:c.jsx(Be,{title:"Cloud Computing",description:"Master cloud computing concepts and services.",topics:["Cloud Fundamentals","AWS Services","Azure Services","Cloud Security","Serverless","Containers","Cloud Storage","Cloud Networking"],chapters:[{id:1,title:"Cloud Fundamentals",description:"Basic concepts of cloud computing",videoUrl:"https://example.com/cloud-basics",completed:!1,duration:"1 hour"},{id:2,title:"AWS Services",description:"Overview of key AWS services",videoUrl:"https://example.com/aws-services",completed:!1,duration:"1.5 hours"},{id:3,title:"Cloud Security",description:"Understanding cloud security principles",videoUrl:"https://example.com/cloud-security",completed:!1,duration:"2 hours"},{id:4,title:"Serverless Computing",description:"Introduction to serverless architecture",videoUrl:"https://example.com/serverless",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/devops",element:c.jsx(xe,{children:c.jsx(Be,{title:"DevOps Practices",description:"Learn modern DevOps practices and tools.",topics:["DevOps Fundamentals","CI/CD","Containers","Infrastructure as Code","Monitoring","Automation","Version Control","Configuration Management"],chapters:[{id:1,title:"DevOps Introduction",description:"Understanding DevOps principles",videoUrl:"https://example.com/devops-intro",completed:!1,duration:"1 hour"},{id:2,title:"CI/CD",description:"Continuous Integration and Deployment",videoUrl:"https://example.com/cicd",completed:!1,duration:"1.5 hours"},{id:3,title:"Container Technologies",description:"Docker and container orchestration",videoUrl:"https://example.com/containers",completed:!1,duration:"2 hours"},{id:4,title:"Infrastructure as Code",description:"Learn about infrastructure automation",videoUrl:"https://example.com/iac",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/mobile-development",element:c.jsx(xe,{children:c.jsx(Be,{title:"Mobile App Development",description:"Build mobile applications for iOS and Android.",topics:["Mobile Development Basics","UI/UX Design","React Native","Native Development","App Testing","App Publishing","App Security","App Monetization"],chapters:[{id:1,title:"Mobile Development Basics",description:"Introduction to mobile app development",videoUrl:"https://example.com/mobile-basics",completed:!1,duration:"1 hour"},{id:2,title:"UI/UX Design",description:"Design principles for mobile apps",videoUrl:"https://example.com/mobile-design",completed:!1,duration:"1.5 hours"},{id:3,title:"React Native",description:"Cross-platform development with React Native",videoUrl:"https://example.com/react-native",completed:!1,duration:"2 hours"},{id:4,title:"App Publishing",description:"Publishing apps to app stores",videoUrl:"https://example.com/app-publishing",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/cybersecurity",element:c.jsx(xe,{children:c.jsx(Be,{title:"Cybersecurity Fundamentals",description:"Learn essential cybersecurity concepts and practices.",topics:["Security Fundamentals","Network Security","Web Security","Cryptography","Ethical Hacking","Security Tools","Incident Response","Security Compliance"],chapters:[{id:1,title:"Security Basics",description:"Fundamental security concepts",videoUrl:"https://example.com/security-basics",completed:!1,duration:"1 hour"},{id:2,title:"Network Security",description:"Understanding network security",videoUrl:"https://example.com/network-security",completed:!1,duration:"1.5 hours"},{id:3,title:"Web Security",description:"Web application security principles",videoUrl:"https://example.com/web-security",completed:!1,duration:"2 hours"},{id:4,title:"Ethical Hacking",description:"Introduction to ethical hacking",videoUrl:"https://example.com/ethical-hacking",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/ui-ux-design",element:c.jsx(xe,{children:c.jsx(Be,{title:"UI/UX Design",description:"Master the principles of user interface and experience design.",topics:["Design Fundamentals","User Research","Wireframing","Prototyping","Visual Design","Interaction Design","Usability Testing","Design Systems"],chapters:[{id:1,title:"Design Principles",description:"Learn fundamental design principles and theory",videoUrl:"https://example.com/design-principles",completed:!1,duration:"1 hour"},{id:2,title:"User Research",description:"Master user research and analysis techniques",videoUrl:"https://example.com/user-research",completed:!1,duration:"1.5 hours"},{id:3,title:"Prototyping",description:"Create interactive prototypes and wireframes",videoUrl:"https://example.com/prototyping",completed:!1,duration:"2 hours"},{id:4,title:"Design Systems",description:"Build and maintain design systems",videoUrl:"https://example.com/design-systems",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/blockchain",element:c.jsx(xe,{children:c.jsx(Be,{title:"Blockchain Development",description:"Learn to build decentralized applications and smart contracts.",topics:["Blockchain Basics","Smart Contracts","DApp Development","Web3","Solidity","Ethereum","NFTs","DeFi"],chapters:[{id:1,title:"Blockchain Fundamentals",description:"Understanding blockchain technology",videoUrl:"https://example.com/blockchain-basics",completed:!1,duration:"1 hour"},{id:2,title:"Smart Contracts",description:"Writing and deploying smart contracts",videoUrl:"https://example.com/smart-contracts",completed:!1,duration:"1.5 hours"},{id:3,title:"DApp Development",description:"Building decentralized applications",videoUrl:"https://example.com/dapp-dev",completed:!1,duration:"2 hours"},{id:4,title:"Web3 Integration",description:"Integrating Web3 with applications",videoUrl:"https://example.com/web3",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/game-development",element:c.jsx(xe,{children:c.jsx(Be,{title:"Game Development",description:"Create engaging games using modern game development frameworks.",topics:["Game Design","Unity","3D Graphics","Game Physics","Animation","Game AI","Sound Design","Multiplayer"],chapters:[{id:1,title:"Game Design Basics",description:"Learn game design principles",videoUrl:"https://example.com/game-design",completed:!1,duration:"1 hour"},{id:2,title:"Unity Fundamentals",description:"Getting started with Unity",videoUrl:"https://example.com/unity-basics",completed:!1,duration:"1.5 hours"},{id:3,title:"Game Physics",description:"Implementing game physics",videoUrl:"https://example.com/game-physics",completed:!1,duration:"2 hours"},{id:4,title:"Game AI",description:"Creating intelligent game characters",videoUrl:"https://example.com/game-ai",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/data-science",element:c.jsx(xe,{children:c.jsx(Be,{title:"Data Science",description:"Master data analysis, visualization, and statistical methods.",topics:["Data Analysis","Python","Statistics","Visualization","Pandas","NumPy","SQL","Big Data"],chapters:[{id:1,title:"Data Analysis Fundamentals",description:"Learn basic data analysis techniques",videoUrl:"https://example.com/data-analysis",completed:!1,duration:"1 hour"},{id:2,title:"Python for Data Science",description:"Using Python for data analysis",videoUrl:"https://example.com/python-data",completed:!1,duration:"1.5 hours"},{id:3,title:"Data Visualization",description:"Creating effective data visualizations",videoUrl:"https://example.com/data-viz",completed:!1,duration:"2 hours"},{id:4,title:"Statistical Analysis",description:"Applying statistical methods",videoUrl:"https://example.com/statistics",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/artificial-intelligence",element:c.jsx(xe,{children:c.jsx(Be,{title:"Artificial Intelligence",description:"Explore AI concepts, neural networks, and deep learning.",topics:["AI Fundamentals","Neural Networks","Deep Learning","Computer Vision","NLP","TensorFlow","PyTorch","AI Ethics"],chapters:[{id:1,title:"AI Fundamentals",description:"Understanding AI concepts",videoUrl:"https://example.com/ai-basics",completed:!1,duration:"1 hour"},{id:2,title:"Neural Networks",description:"Building neural networks",videoUrl:"https://example.com/neural-networks",completed:!1,duration:"1.5 hours"},{id:3,title:"Deep Learning",description:"Advanced deep learning concepts",videoUrl:"https://example.com/deep-learning",completed:!1,duration:"2 hours"},{id:4,title:"AI Applications",description:"Real-world AI applications",videoUrl:"https://example.com/ai-apps",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/software-testing",element:c.jsx(xe,{children:c.jsx(Be,{title:"Software Testing",description:"Learn modern testing methodologies and automation frameworks.",topics:["Testing Basics","Test Automation","Unit Testing","Integration Testing","E2E Testing","Performance Testing","Security Testing","CI/CD Testing"],chapters:[{id:1,title:"Testing Fundamentals",description:"Learn software testing basics",videoUrl:"https://example.com/testing-basics",completed:!1,duration:"1 hour"},{id:2,title:"Test Automation",description:"Automating software tests",videoUrl:"https://example.com/test-automation",completed:!1,duration:"1.5 hours"},{id:3,title:"Integration Testing",description:"Writing integration tests",videoUrl:"https://example.com/integration-testing",completed:!1,duration:"2 hours"},{id:4,title:"E2E Testing",description:"End-to-end testing strategies",videoUrl:"https://example.com/e2e-testing",completed:!1,duration:"2.5 hours"}]})})}),c.jsx(pe,{path:"/courses/:courseId",element:c.jsx(eC,{})}),c.jsx(pe,{path:"/courses/ai-development",element:c.jsx(xe,{children:c.jsx(Be,{title:"AI Development",description:"Learn to build AI-powered applications and understand core AI concepts.",topics:["AI Fundamentals","Machine Learning Basics","Neural Networks","Deep Learning","Natural Language Processing","Computer Vision","Reinforcement Learning","AI Ethics"],chapters:[{id:1,title:"Introduction to AI Development",description:"Understanding core AI concepts and development principles",videoUrl:"https://example.com/ai-dev-intro",completed:!1,duration:"1 hour"},{id:2,title:"Building ML Models",description:"Learn to create and train machine learning models",videoUrl:"https://example.com/ml-models",completed:!1,duration:"2 hours"},{id:3,title:"Neural Networks & Deep Learning",description:"Implement neural networks and understand deep learning concepts",videoUrl:"https://example.com/neural-networks-deep",completed:!1,duration:"2.5 hours"},{id:4,title:"Advanced AI Applications",description:"Build practical AI applications with modern frameworks",videoUrl:"https://example.com/advanced-ai",completed:!1,duration:"2 hours"}]})})}),c.jsx(pe,{path:"*",element:c.jsx(H_,{to:"/",replace:!0})})]})})}),c.jsx(sZ,{}),c.jsx(k4,{}),c.jsx(wU,{})]})})})})})}ZN(document.getElementById("root")).render(c.jsx(rce,{}));
//# sourceMappingURL=index-yUq7zxJu.js.map
